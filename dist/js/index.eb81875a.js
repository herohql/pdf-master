(function(){var __webpack_modules__={5279:function(module,__unused_webpack_exports,__webpack_require__){var _classPrivateFieldLooseBase=__webpack_require__(5504)["default"],_classPrivateFieldLooseKey=__webpack_require__(9654)["default"];__webpack_require__(4114),__webpack_require__(6573),__webpack_require__(8100),__webpack_require__(7936),__webpack_require__(7467),__webpack_require__(4732),__webpack_require__(9577),__webpack_require__(3375),__webpack_require__(9225),__webpack_require__(3972),__webpack_require__(9209),__webpack_require__(5714),__webpack_require__(7561),__webpack_require__(6197),__webpack_require__(4979),__webpack_require__(1678),__webpack_require__(4603),__webpack_require__(7566),__webpack_require__(8721),
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */
function(e,t){module.exports=t()}(globalThis,(()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=B,t.bytesToString=X,t.createValidAbsoluteUrl=j,t.getModificationDate=he,t.getVerbosityLevel=M,t.info=R,t.isArrayBuffer=ce,t.isArrayEqual=de,t.normalizeUnicode=ve,t.objectFromMap=Z,t.objectSize=J,t.setVerbosityLevel=O,t.shadow=U,t.string32=Q,t.stringToBytes=Y,t.stringToPDFString=ae,t.stringToUTF8String=oe,t.unreachable=D,t.utf8StringToString=le,t.warn=I;const i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;const s=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=s;const n=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=n;const r=1.35;t.LINE_FACTOR=r;const a=.35;t.LINE_DESCENT_FACTOR=a;const o=a/r;t.BASELINE_FACTOR=o;const l={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=l;const c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=c;const d="pdfjs_internal_editor_";t.AnnotationEditorPrefix=d;const h={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};t.AnnotationEditorType=h;const u={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};t.AnnotationEditorParamsType=u;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=p;const f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=f;const g={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=g;const v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=v;const _={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=_;const m={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=m;const y={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=y;const b={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=b;const P={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=P;const A={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=A;const w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=w;const S={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=S;const x={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=x;const L={O:"PageOpen",C:"PageClose"};t.PageActionEventType=L;const E={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=E;const F={NONE:0,BINARY:1};t.CMapCompressionType=F;const C={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=C;const T={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=T;let k=E.WARNINGS;function O(e){Number.isInteger(e)&&(k=e)}function M(){return k}function R(e){k>=E.INFOS&&console.log(`Info: ${e}`)}function I(e){k>=E.WARNINGS&&console.log(`Warning: ${e}`)}function D(e){throw new Error(e)}function B(e,t){e||D(t)}function N(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function j(e,t=null,i=null){if(!e)return null;try{if(i&&"string"===typeof e){if(i.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(i.tryConvertEncoding)try{e=oe(e)}catch(s){}}const n=t?new URL(e,t):new URL(e);if(N(n))return n}catch(s){}return null}function U(e,t,i,s=!1){return Object.defineProperty(e,t,{value:i,enumerable:!s,configurable:!0,writable:!1}),i}const V=function(){function e(t,i){this.constructor===e&&D("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=V;class $ extends V{constructor(e,t){super(e,"PasswordException"),this.code=t}}t.PasswordException=$;class H extends V{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}t.UnknownErrorException=H;class W extends V{constructor(e){super(e,"InvalidPDFException")}}t.InvalidPDFException=W;class z extends V{constructor(e){super(e,"MissingPDFException")}}t.MissingPDFException=z;class q extends V{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}t.UnexpectedResponseException=q;class K extends V{constructor(e){super(e,"FormatError")}}t.FormatError=K;class G extends V{constructor(e){super(e,"AbortException")}}function X(e){"object"===typeof e&&void 0!==e?.length||D("Invalid argument for bytesToString");const t=e.length,i=8192;if(t<i)return String.fromCharCode.apply(null,e);const s=[];for(let n=0;n<t;n+=i){const r=Math.min(n+i,t),a=e.subarray(n,r);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function Y(e){"string"!==typeof e&&D("Invalid argument for stringToBytes");const t=e.length,i=new Uint8Array(t);for(let s=0;s<t;++s)i[s]=255&e.charCodeAt(s);return i}function Q(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function J(e){return Object.keys(e).length}function Z(e){const t=Object.create(null);for(const[i,s]of e)t[i]=s;return t}function ee(){const e=new Uint8Array(4);e[0]=1;const t=new Uint32Array(e.buffer,0,1);return 1===t[0]}function te(){try{return new Function(""),!0}catch(e){return!1}}t.AbortException=G;class ie{static get isLittleEndian(){return U(this,"isLittleEndian",ee())}static get isEvalSupported(){return U(this,"isEvalSupported",te())}static get isOffscreenCanvasSupported(){return U(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?U(this,"platform",{isWin:!1,isMac:!1}):U(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}t.FeatureTest=ie;const se=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class ne{static makeHexColor(e,t,i){return`#${se[e]}${se[t]}${se[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[1],t[1]=i),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(i=t[2],t[2]=t[3],t[3]=i),t[2]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[2],t[2]=i,i=t[1],t[1]=t[3],t[3]=i,e[1]<0&&(i=t[2],t[2]=t[3],t[3]=i),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[1],t[1]=i),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,n=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,n]}static getAxialAlignedBoundingBox(e,t){const i=ne.applyTransform(e,t),s=ne.applyTransform(e.slice(2,4),t),n=ne.applyTransform([e[0],e[3]],t),r=ne.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],n[0],r[0]),Math.min(i[1],s[1],n[1],r[1]),Math.max(i[0],s[0],n[0],r[0]),Math.max(i[1],s[1],n[1],r[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],a=(i+r)/2,o=Math.sqrt((i+r)**2-4*(i*r-n*s))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const n=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return n>r?null:[i,n,s,r]}static bezierBoundingBox(e,t,i,s,n,r,a,o){const l=[],c=[[],[]];let d,h,u,p,f,g,v,_;for(let P=0;P<2;++P)if(0===P?(h=6*e-12*i+6*n,d=-3*e+9*i-9*n+3*a,u=3*i-3*e):(h=6*t-12*s+6*r,d=-3*t+9*s-9*r+3*o,u=3*s-3*t),Math.abs(d)<1e-12){if(Math.abs(h)<1e-12)continue;p=-u/h,0<p&&p<1&&l.push(p)}else v=h*h-4*u*d,_=Math.sqrt(v),v<0||(f=(-h+_)/(2*d),0<f&&f<1&&l.push(f),g=(-h-_)/(2*d),0<g&&g<1&&l.push(g));let m,y=l.length;const b=y;while(y--)p=l[y],m=1-p,c[0][y]=m*m*m*e+3*m*m*p*i+3*m*p*p*n+p*p*p*a,c[1][y]=m*m*m*t+3*m*m*p*s+3*m*p*p*r+p*p*p*o;return c[0][b]=e,c[1][b]=t,c[0][b+1]=a,c[1][b+1]=o,c[0].length=c[1].length=b+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}t.Util=ne;const re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ae(e){if(e[0]>="ï"){let t;if("þ"===e[0]&&"ÿ"===e[1]?t="utf-16be":"ÿ"===e[0]&&"þ"===e[1]?t="utf-16le":"ï"===e[0]&&"»"===e[1]&&"¿"===e[2]&&(t="utf-8"),t)try{const i=new TextDecoder(t,{fatal:!0}),s=Y(e);return i.decode(s)}catch(i){I(`stringToPDFString: "${i}".`)}}const t=[];for(let s=0,n=e.length;s<n;s++){const i=re[e.charCodeAt(s)];t.push(i?String.fromCharCode(i):e.charAt(s))}return t.join("")}function oe(e){return decodeURIComponent(escape(e))}function le(e){return unescape(encodeURIComponent(e))}function ce(e){return"object"===typeof e&&void 0!==e?.byteLength}function de(e,t){if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(e[i]!==t[i])return!1;return!0}function he(e=new Date){const t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")}var ue=_classPrivateFieldLooseKey("settled");class pe{constructor(){Object.defineProperty(this,ue,{writable:!0,value:!1}),this.promise=new Promise(((e,t)=>{this.resolve=t=>{_classPrivateFieldLooseBase(this,ue)[ue]=!0,e(t)},this.reject=e=>{_classPrivateFieldLooseBase(this,ue)[ue]=!0,t(e)}}))}get settled(){return _classPrivateFieldLooseBase(this,ue)[ue]}}t.PromiseCapability=pe;let fe=null,ge=null;function ve(e){return fe||(fe=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ge=new Map([["ﬅ","ſt"]])),e.replaceAll(fe,((e,t,i)=>t?t.normalize("NFKC"):ge.get(i)))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:t,NodeFilterFactory:i,NodeStandardFontDataFactory:s}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultFilterFactory=DefaultFilterFactory=i,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=s}if(_is_node.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(21);createPDFNetworkStream=t=>new e(t)}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(24),{PDFFetchStream:t}=__w_pdfjs_require__(25);createPDFNetworkStream=i=>(0,_display_utils.isValidFetchUrl)(i.url)?new t(i):new e(i)}function getDocument(e){if("string"===typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new PDFDocumentLoadingTask,{docId:i}=t,s=e.url?getUrlProp(e.url):null,n=e.data?getDataProp(e.data):null,r=e.httpHeaders||null,a=!0===e.withCredentials,o=e.password??null,l=e.range instanceof PDFDataRangeTransport?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let d=e.worker instanceof PDFWorker?e.worker:null;const h=e.verbosity,u="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,p="string"===typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,g=e.CMapReaderFactory||DefaultCMapReaderFactory,v="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,_=e.StandardFontDataFactory||DefaultStandardFontDataFactory,m=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,b=!1!==e.isEvalSupported,P="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_is_node.isNodeJS,A=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,w="boolean"===typeof e.disableFontFace?e.disableFontFace:_is_node.isNodeJS,S=!0===e.fontExtraProperties,x=!0===e.enableXfa,L=e.ownerDocument||globalThis.document,E=!0===e.disableRange,F=!0===e.disableStream,C=!0===e.disableAutoFetch,T=!0===e.pdfBug,k=l?l.length:e.length??NaN,O="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_is_node.isNodeJS&&!w,M="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:g===_display_utils.DOMCMapReaderFactory&&_===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI),R=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:L}),I=e.filterFactory||new DefaultFilterFactory({docId:i,ownerDocument:L}),D=null;(0,_util.setVerbosityLevel)(h);const B={canvasFactory:R,filterFactory:I};if(M||(B.cMapReaderFactory=new g({baseUrl:p,isCompressed:f}),B.standardFontDataFactory=new _({baseUrl:v})),!d){const e={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};d=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=d}const N={docId:i,apiVersion:"3.6.172",data:n,password:o,disableAutoFetch:C,rangeChunkSize:c,length:k,docBaseUrl:u,enableXfa:x,evaluatorOptions:{maxImageSize:y,disableFontFace:w,ignoreErrors:m,isEvalSupported:b,isOffscreenCanvasSupported:P,canvasMaxAreaInBytes:A,fontExtraProperties:S,useSystemFonts:O,cMapUrl:M?p:null,standardFontDataUrl:M?v:null}},j={ignoreErrors:m,isEvalSupported:b,disableFontFace:w,fontExtraProperties:S,enableXfa:x,ownerDocument:L,disableAutoFetch:C,pdfBug:T,styleElement:D};return d.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(d,N),o=new Promise((function(e){let t;l?t=new _transport_stream.PDFDataTransportStream({length:k,initialData:l.initialData,progressiveDone:l.progressiveDone,contentDispositionFilename:l.contentDispositionFilename,disableRange:E,disableStream:F},l):n||(t=createPDFNetworkStream({url:s,length:k,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:E,disableStream:F})),e(t)}));return Promise.all([e,o]).then((function([e,s]){if(t.destroyed)throw new Error("Loading aborted");const n=new _message_handler.MessageHandler(i,e,d.port),r=new WorkerTransport(n,t,s,j,B);t._transport=r,n.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const i=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return i}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(_is_node.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(e);if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}var _docId=_classPrivateFieldLooseKey("docId");class PDFDocumentLoadingTask{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+_classPrivateFieldLooseBase(PDFDocumentLoadingTask,_docId)[_docId]++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}Object.defineProperty(PDFDocumentLoadingTask,_docId,{writable:!0,value:0}),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const i of this._progressListeners)i(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=_classPrivateFieldLooseKey("delayedCleanupTimeout"),_pendingCleanup=_classPrivateFieldLooseKey("pendingCleanup"),_tryCleanup=_classPrivateFieldLooseKey("tryCleanup"),_abortDelayedCleanup=_classPrivateFieldLooseKey("abortDelayedCleanup");class PDFPageProxy{constructor(e,t,i,s=!1){Object.defineProperty(this,_abortDelayedCleanup,{value:_abortDelayedCleanup2}),Object.defineProperty(this,_tryCleanup,{value:_tryCleanup2}),Object.defineProperty(this,_delayedCleanupTimeout,{writable:!0,value:null}),Object.defineProperty(this,_pendingCleanup,{writable:!0,value:!1}),this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new _display_utils.StatTimer:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:n=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:n})}getAnnotations({intent:e="display"}={}){const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:n=null,background:r=null,optionalContentConfigPromise:a=null,annotationCanvasMap:o=null,pageColors:l=null,printAnnotationStorage:c=null}){if(arguments[0]?.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");this._stats?.time("Overall");const d=this._transport.getRenderingIntent(i,s,c);_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup]=!1,_classPrivateFieldLooseBase(this,_abortDelayedCleanup)[_abortDelayedCleanup](),a||(a=this._transport.getOptionalContentConfig());let h=this._intentStates.get(d.cacheKey);h||(h=Object.create(null),this._intentStates.set(d.cacheKey,h)),h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);const u=!!(d.renderingIntent&_util.RenderingIntentFlag.PRINT);h.displayReadyCapability||(h.displayReadyCapability=new _util.PromiseCapability,h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(d));const p=e=>{h.renderTasks.delete(f),(this._maybeCleanupAfterRender||u)&&(_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup]=!0),_classPrivateFieldLooseBase(this,_tryCleanup)[_tryCleanup](!u),e?(f.capability.reject(e),this._abortOperatorList({intentState:h,reason:e instanceof Error?e:new Error(e)})):f.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},f=new InternalRenderTask({callback:p,params:{canvasContext:e,viewport:t,transform:n,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:o,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!u,pdfBug:this._pdfBug,pageColors:l});(h.renderTasks||=new Set).add(f);const g=f.task;return Promise.all([h.displayReadyCapability.promise,a]).then((([e,t])=>{_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup]?p():(this._stats?.time("Rendering"),f.initializeGraphics({transparency:e,optionalContentConfig:t}),f.operatorListChanged())})).catch(p),g}getOperatorList({intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}={}){function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))}const n=this._transport.getRenderingIntent(e,t,i,!0);let r,a=this._intentStates.get(n.cacheKey);return a||(a=Object.create(null),this._intentStates.set(n.cacheKey,a)),a.opListReadCapability||(r=Object.create(null),r.operatorListChanged=s,a.opListReadCapability=new _util.PromiseCapability,(a.renderTasks||=new Set).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(n)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){const i=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:i,size(e){return e.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,i){function s(){n.read().then((function({value:t,done:i}){i?e(r):(Object.assign(r.styles,t.styles),r.items.push(...t.items),s())}),i)}const n=t.getReader(),r={items:[],styles:Object.create(null)};s()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup]=!1,_classPrivateFieldLooseBase(this,_abortDelayedCleanup)[_abortDelayedCleanup](),Promise.all(e)}cleanup(e=!1){_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup]=!0;const t=_classPrivateFieldLooseBase(this,_tryCleanup)[_tryCleanup](!1);return e&&t&&(this._stats&&=new _display_utils.StatTimer),t}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&_classPrivateFieldLooseBase(this,_tryCleanup)[_tryCleanup](!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageMap:i}){const s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i}),n=s.getReader(),r=this._intentStates.get(t);r.streamReader=n;const a=()=>{n.read().then((({value:e,done:t})=>{t?r.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,r),a())}),(e=>{if(r.streamReader=null,!this._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(const e of r.renderTasks)e.operatorListChanged();_classPrivateFieldLooseBase(this,_tryCleanup)[_tryCleanup](!0)}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}}))};a()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException){let i=RENDERING_CANCELLED_TIMEOUT;return t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})}),i))}}if(e.streamReader.cancel(new _util.AbortException(t.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,i]of this._intentStates)if(i===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup2(e=!1){if(_classPrivateFieldLooseBase(this,_abortDelayedCleanup)[_abortDelayedCleanup](),!_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup])return!1;if(e)return _classPrivateFieldLooseBase(this,_delayedCleanupTimeout)[_delayedCleanupTimeout]=setTimeout((()=>{_classPrivateFieldLooseBase(this,_delayedCleanupTimeout)[_delayedCleanupTimeout]=null,_classPrivateFieldLooseBase(this,_tryCleanup)[_tryCleanup](!1)}),DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldLooseBase(this,_pendingCleanup)[_pendingCleanup]=!1,!0}function _abortDelayedCleanup2(){_classPrivateFieldLooseBase(this,_delayedCleanupTimeout)[_delayedCleanupTimeout]&&(clearTimeout(_classPrivateFieldLooseBase(this,_delayedCleanupTimeout)[_delayedCleanupTimeout]),_classPrivateFieldLooseBase(this,_delayedCleanupTimeout)[_delayedCleanupTimeout]=null)}exports.PDFPageProxy=PDFPageProxy;var _listeners=_classPrivateFieldLooseKey("listeners"),_deferred=_classPrivateFieldLooseKey("deferred");class LoopbackPort{constructor(){Object.defineProperty(this,_listeners,{writable:!0,value:new Set}),Object.defineProperty(this,_deferred,{writable:!0,value:Promise.resolve()})}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};_classPrivateFieldLooseBase(this,_deferred)[_deferred].then((()=>{for(const e of _classPrivateFieldLooseBase(this,_listeners)[_listeners])e.call(this,i)}))}addEventListener(e,t){_classPrivateFieldLooseBase(this,_listeners)[_listeners].add(t)}removeEventListener(e,t){_classPrivateFieldLooseBase(this,_listeners)[_listeners].delete(t)}terminate(){_classPrivateFieldLooseBase(this,_listeners)[_listeners].clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let i;try{if(i=new URL(e),!i.origin||"null"===i.origin)return!1}catch(n){return!1}const s=new URL(t,i);return i.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};var _workerPorts=_classPrivateFieldLooseKey("workerPorts");class PDFWorker{constructor({name:e=null,port:t=null,verbosity:i=(0,_util.getVerbosityLevel)()}={}){if(t&&_classPrivateFieldLooseBase(PDFWorker,_workerPorts)[_workerPorts].has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t)return _classPrivateFieldLooseBase(PDFWorker,_workerPorts)[_workerPorts].set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),i=new _message_handler.MessageHandler("main","worker",e),s=()=>{e.removeEventListener("error",n),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=()=>{this._webWorker||s()};e.addEventListener("error",n),i.on("test",(t=>{e.removeEventListener("error",n),this.destroyed?s():t?(this._messageHandler=i,this._port=e,this._webWorker=e,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),e.terminate())})),i.on("ready",(t=>{if(e.removeEventListener("error",n),this.destroyed)s();else try{r()}catch(i){this._setupFakeWorker()}}));const r=()=>{const e=new Uint8Array;i.send("test",e,[e.buffer])};return void r()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const i="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(i+"_worker",i,t);e.setup(s,t);const n=new _message_handler.MessageHandler(i,i+"_worker",t);this._messageHandler=n,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classPrivateFieldLooseBase(PDFWorker,_workerPorts)[_workerPorts].delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classPrivateFieldLooseBase(this,_workerPorts)[_workerPorts].has(e.port)?_classPrivateFieldLooseBase(this,_workerPorts)[_workerPorts].get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}Object.defineProperty(PDFWorker,_workerPorts,{writable:!0,value:new WeakMap}),exports.PDFWorker=PDFWorker;var _methodPromises=_classPrivateFieldLooseKey("methodPromises"),_pageCache=_classPrivateFieldLooseKey("pageCache"),_pagePromises=_classPrivateFieldLooseKey("pagePromises"),_cacheSimpleMethod=_classPrivateFieldLooseKey("cacheSimpleMethod");class WorkerTransport{constructor(e,t,i,s,n){Object.defineProperty(this,_cacheSimpleMethod,{value:_cacheSimpleMethod2}),Object.defineProperty(this,_methodPromises,{writable:!0,value:new Map}),Object.defineProperty(this,_pageCache,{writable:!0,value:new Map}),Object.defineProperty(this,_pagePromises,{writable:!0,value:new Map}),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,this.canvasFactory=n.canvasFactory,this.filterFactory=n.filterFactory,this.cMapReaderFactory=n.cMapReaderFactory,this.standardFontDataFactory=n.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,t=_util.AnnotationMode.ENABLE,i=null,s=!1){let n=_util.RenderingIntentFlag.DISPLAY,r=null;switch(e){case"any":n=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":n=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:n+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:n+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:n+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE;const e=n&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage;r=e.serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return s&&(n+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:n,cacheKey:`${n}_${_annotation_storage.AnnotationStorage.getHash(r)}`,annotationStorageMap:r}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of _classPrivateFieldLooseBase(this,_pageCache)[_pageCache].values())e.push(i._destroy());_classPrivateFieldLooseBase(this,_pageCache)[_pageCache].clear(),_classPrivateFieldLooseBase(this,_pagePromises)[_pagePromises].clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldLooseBase(this,_methodPromises)[_methodPromises].clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function({value:e,done:i}){i?t.close():((0,_util.assert)(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const i=new _util.PromiseCapability,s=this._fullReader;return s.headersReady.then((()=>{s.isStreamingSupported&&s.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),s.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})}),i.reject),i.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(e.begin,e.end);i?(t.onPull=()=>{i.read().then((function({value:e,done:i}){i?t.close():((0,_util.assert)(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{i.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(e,this))})),e.on("DocException",(function(e){let i;switch(e.name){case"PasswordException":i=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":i=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(i)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=new _util.PromiseCapability,t.onPassword){const s=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(s,e.code)}catch(i){this._passwordCapability.reject(i)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;const t=_classPrivateFieldLooseBase(this,_pageCache)[_pageCache].get(e.pageIndex);t._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(([t,i,s])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(i){case"Font":const n=this._params;if("error"in s){const e=s.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(t,e);break}const r=n.pdfBug&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,a=new _font_loader.FontFaceObject(s,{isEvalSupported:n.isEvalSupported,disableFontFace:n.disableFontFace,ignoreErrors:n.ignoreErrors,inspectFont:r});this.fontLoader.bind(a).catch((i=>e.sendWithPromise("FontFallback",{id:t}))).finally((()=>{!n.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(t,a)}));break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,s);break;default:throw new Error(`Got unknown common object type ${i}`)}})),e.on("obj",(([e,t,i,s])=>{if(this.destroyed)return;const n=_classPrivateFieldLooseBase(this,_pageCache)[_pageCache].get(t);if(!n.objs.has(e))switch(i){case"Image":if(n.objs.resolve(e,s),s){let e;if(s.bitmap){const{width:t,height:i}=s;e=t*i*4}else e=s.data?.length||0;e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(n._maybeCleanupAfterRender=!0)}break;case"Pattern":n.objs.resolve(e,s);break;default:throw new Error(`Got unknown object type ${i}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=_classPrivateFieldLooseBase(this,_pagePromises)[_pagePromises].get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const i=new PDFPageProxy(t,e,this,this._params.pdfBug);return _classPrivateFieldLooseBase(this,_pageCache)[_pageCache].set(t,i),i}));return _classPrivateFieldLooseBase(this,_pagePromises)[_pagePromises].set(t,s),s}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _classPrivateFieldLooseBase(this,_cacheSimpleMethod)[_cacheSimpleMethod]("GetFieldObjects")}hasJSActions(){return _classPrivateFieldLooseBase(this,_cacheSimpleMethod)[_cacheSimpleMethod]("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=_classPrivateFieldLooseBase(this,_methodPromises)[_methodPromises].get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return _classPrivateFieldLooseBase(this,_methodPromises)[_methodPromises].set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of _classPrivateFieldLooseBase(this,_pageCache)[_pageCache].values()){const t=e.cleanup();if(!t)throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),_classPrivateFieldLooseBase(this,_methodPromises)[_methodPromises].clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}function _cacheSimpleMethod2(e,t=null){const i=_classPrivateFieldLooseBase(this,_methodPromises)[_methodPromises].get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return _classPrivateFieldLooseBase(this,_methodPromises)[_methodPromises].set(e,s),s}var _objs=_classPrivateFieldLooseKey("objs"),_ensureObj=_classPrivateFieldLooseKey("ensureObj");class PDFObjects{constructor(){Object.defineProperty(this,_ensureObj,{value:_ensureObj2}),Object.defineProperty(this,_objs,{writable:!0,value:Object.create(null)})}get(e,t=null){if(t){const i=_classPrivateFieldLooseBase(this,_ensureObj)[_ensureObj](e);return i.capability.promise.then((()=>t(i.data))),null}const i=_classPrivateFieldLooseBase(this,_objs)[_objs][e];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=_classPrivateFieldLooseBase(this,_objs)[_objs][e];return t?.capability.settled||!1}resolve(e,t=null){const i=_classPrivateFieldLooseBase(this,_ensureObj)[_ensureObj](e);i.data=t,i.capability.resolve()}clear(){for(const e in _classPrivateFieldLooseBase(this,_objs)[_objs]){const{data:t}=_classPrivateFieldLooseBase(this,_objs)[_objs][e];t?.bitmap?.close()}_classPrivateFieldLooseBase(this,_objs)[_objs]=Object.create(null)}}function _ensureObj2(e){const t=_classPrivateFieldLooseBase(this,_objs)[_objs][e];return t||(_classPrivateFieldLooseBase(this,_objs)[_objs][e]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=_classPrivateFieldLooseKey("internalRenderTask");class RenderTask{constructor(e){Object.defineProperty(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldLooseBase(this,_internalRenderTask)[_internalRenderTask]=e,this.onContinue=null}get promise(){return _classPrivateFieldLooseBase(this,_internalRenderTask)[_internalRenderTask].capability.promise}cancel(e=0){_classPrivateFieldLooseBase(this,_internalRenderTask)[_internalRenderTask].cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_classPrivateFieldLooseBase(this,_internalRenderTask)[_internalRenderTask].operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_classPrivateFieldLooseBase(this,_internalRenderTask)[_internalRenderTask];return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;var _canvasInUse=_classPrivateFieldLooseKey("canvasInUse");class InternalRenderTask{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:n,operatorList:r,pageIndex:a,canvasFactory:o,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:h=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=n,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=a,this.canvasFactory=o,this.filterFactory=l,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(_classPrivateFieldLooseBase(InternalRenderTask,_canvasInUse)[_canvasInUse].has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classPrivateFieldLooseBase(InternalRenderTask,_canvasInUse)[_canvasInUse].add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:n,background:r}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:n,viewport:s,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&_classPrivateFieldLooseBase(InternalRenderTask,_canvasInUse)[_canvasInUse].delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&_classPrivateFieldLooseBase(InternalRenderTask,_canvasInUse)[_canvasInUse].delete(this._canvas),this.callback())))}}Object.defineProperty(InternalRenderTask,_canvasInUse,{writable:!0,value:new WeakSet});const version="3.6.172";exports.version=version;const build="4d3dfe254";exports.build=build},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var s=i(1),n=i(4),r=i(8),a=_classPrivateFieldLooseKey("modified"),o=_classPrivateFieldLooseKey("storage"),l=_classPrivateFieldLooseKey("setModified");class c{constructor(){Object.defineProperty(this,l,{value:d}),Object.defineProperty(this,a,{writable:!0,value:!1}),Object.defineProperty(this,o,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=_classPrivateFieldLooseBase(this,o)[o].get(e);return void 0===i?t:Object.assign(t,i)}getRawValue(e){return _classPrivateFieldLooseBase(this,o)[o].get(e)}remove(e){if(_classPrivateFieldLooseBase(this,o)[o].delete(e),0===_classPrivateFieldLooseBase(this,o)[o].size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of _classPrivateFieldLooseBase(this,o)[o].values())if(e instanceof n.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=_classPrivateFieldLooseBase(this,o)[o].get(e);let s=!1;if(void 0!==i)for(const[n,r]of Object.entries(t))i[n]!==r&&(s=!0,i[n]=r);else s=!0,_classPrivateFieldLooseBase(this,o)[o].set(e,t);s&&_classPrivateFieldLooseBase(this,l)[l](),t instanceof n.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return _classPrivateFieldLooseBase(this,o)[o].has(e)}getAll(){return _classPrivateFieldLooseBase(this,o)[o].size>0?(0,s.objectFromMap)(_classPrivateFieldLooseBase(this,o)[o]):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return _classPrivateFieldLooseBase(this,o)[o].size}resetModified(){_classPrivateFieldLooseBase(this,a)[a]&&(_classPrivateFieldLooseBase(this,a)[a]=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new u(this)}get serializable(){if(0===_classPrivateFieldLooseBase(this,o)[o].size)return null;const e=new Map;for(const[t,i]of _classPrivateFieldLooseBase(this,o)[o]){const s=i instanceof n.AnnotationEditor?i.serialize():i;s&&e.set(t,s)}return e}static getHash(e){if(!e)return"";const t=new r.MurmurHash3_64;for(const[i,s]of e)t.update(`${i}:${JSON.stringify(s)}`);return t.hexdigest()}}function d(){_classPrivateFieldLooseBase(this,a)[a]||(_classPrivateFieldLooseBase(this,a)[a]=!0,"function"===typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=c;var h=_classPrivateFieldLooseKey("serializable");class u extends c{constructor(e){super(),Object.defineProperty(this,h,{writable:!0,value:null}),_classPrivateFieldLooseBase(this,h)[h]=structuredClone(e.serializable)}get print(){(0,s.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldLooseBase(this,h)[h]}}t.PrintAnnotationStorage=u},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var s=i(5),n=i(1),r=_classPrivateFieldLooseKey("boundFocusin"),a=_classPrivateFieldLooseKey("boundFocusout"),o=_classPrivateFieldLooseKey("hasBeenSelected"),l=_classPrivateFieldLooseKey("isEditing"),c=_classPrivateFieldLooseKey("isInEditMode"),d=_classPrivateFieldLooseKey("zIndex");class h{constructor(e){Object.defineProperty(this,r,{writable:!0,value:this.focusin.bind(this)}),Object.defineProperty(this,a,{writable:!0,value:this.focusout.bind(this)}),Object.defineProperty(this,o,{writable:!0,value:!1}),Object.defineProperty(this,l,{writable:!0,value:!1}),Object.defineProperty(this,c,{writable:!0,value:!1}),this._uiManager=null,Object.defineProperty(this,d,{writable:!0,value:h._zIndex++}),this.constructor===h&&(0,n.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:u,pageY:p}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[u,p];const[f,g]=this.parentDimensions;this.x=e.x/f,this.y=e.y/g,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,n.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldLooseBase(this,d)[d]}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){_classPrivateFieldLooseBase(this,o)[o]?_classPrivateFieldLooseBase(this,o)[o]=!1:this.parent.setSelected(this)}focusout(e){if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(e){const t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,t,i,s){const[n,r]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/n,this.y=(t+s)/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,t){const[i,s]=this.parentDimensions;[e,t]=this.screenToPageTranslation(e,t),this.x+=e/i,this.y+=t/s,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,t){switch(this.parentRotation){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:e}=this._uiManager.viewParameters,[t,i]=this.pageDimensions;return[t*e,i*e]}setDims(e,t){const[i,s]=this.parentDimensions;this.div.style.width=100*e/i+"%",this.div.style.height=100*t/s+"%"}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),n=t.endsWith("%");if(s&&n)return;const[r,a]=this.parentDimensions;s||(e.width=100*parseFloat(i)/r+"%"),n||(e.height=100*parseFloat(t)/a+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldLooseBase(this,r)[r]),this.div.addEventListener("focusout",_classPrivateFieldLooseBase(this,a)[a]);const[e,t]=this.getInitialTranslation();return this.translate(e,t),(0,s.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const{isMac:t}=n.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldLooseBase(this,o)[o]=!0)}getRect(e,t){const i=this.parentScale,[s,n]=this.pageDimensions,[r,a]=this.pageTranslation,o=e/i,l=t/i,c=this.x*s,d=this.y*n,h=this.width*s,u=this.height*n;switch(this.rotation){case 0:return[c+o+r,n-d-l-u+a,c+o+h+r,n-d-l+a];case 90:return[c+l+r,n-d+o+a,c+l+u+r,n-d+o+h+a];case 180:return[c-o-h+r,n-d+l+a,c-o+r,n-d+l+u+a];case 270:return[c-l-u+r,n-d-o-h+a,c-l+r,n-d-o+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,n,r]=e,a=n-i,o=r-s;switch(this.rotation){case 0:return[i,t-r,a,o];case 90:return[i,t-s,o,a];case 180:return[n,t-s,a,o];case 270:return[n,t-r,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldLooseBase(this,c)[c]=!0}disableEditMode(){_classPrivateFieldLooseBase(this,c)[c]=!1}isInEditMode(){return _classPrivateFieldLooseBase(this,c)[c]}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",_classPrivateFieldLooseBase(this,r)[r])}serialize(){(0,n.unreachable)("An editor must be serializable")}static deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation;const[n,r]=s.pageDimensions,[a,o,l,c]=s.getRectInCurrentCoords(e.rect,r);return s.x=a/n,s.y=o/r,s.width=l/n,s.height=c/r,s}remove(){this.div.removeEventListener("focusin",_classPrivateFieldLooseBase(this,r)[r]),this.div.removeEventListener("focusout",_classPrivateFieldLooseBase(this,a)[a]),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(e,t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldLooseBase(this,l)[l]}set isEditing(e){_classPrivateFieldLooseBase(this,l)[l]=e,e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}h._colorManager=new s.ColorManager,h._zIndex=1,t.AnnotationEditor=h},(e,t,i)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=a,t.opacityToHex=o;var n=i(1),r=i(6);function a(e,t,i){for(const s of i)t.addEventListener(s,e[s].bind(e))}function o(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}var l=_classPrivateFieldLooseKey("id");class c{constructor(){Object.defineProperty(this,l,{writable:!0,value:0})}getId(){return`${n.AnnotationEditorPrefix}${_classPrivateFieldLooseBase(this,l)[l]++}`}}var d=_classPrivateFieldLooseKey("commands"),h=_classPrivateFieldLooseKey("locked"),u=_classPrivateFieldLooseKey("maxSize"),p=_classPrivateFieldLooseKey("position");class f{constructor(e=128){Object.defineProperty(this,d,{writable:!0,value:[]}),Object.defineProperty(this,h,{writable:!0,value:!1}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:-1}),_classPrivateFieldLooseBase(this,u)[u]=e}add({cmd:e,undo:t,mustExec:i,type:s=NaN,overwriteIfSameType:n=!1,keepUndo:r=!1}){if(i&&e(),_classPrivateFieldLooseBase(this,h)[h])return;const a={cmd:e,undo:t,type:s};if(-1===_classPrivateFieldLooseBase(this,p)[p])return _classPrivateFieldLooseBase(this,d)[d].length>0&&(_classPrivateFieldLooseBase(this,d)[d].length=0),_classPrivateFieldLooseBase(this,p)[p]=0,void _classPrivateFieldLooseBase(this,d)[d].push(a);if(n&&_classPrivateFieldLooseBase(this,d)[d][_classPrivateFieldLooseBase(this,p)[p]].type===s)return r&&(a.undo=_classPrivateFieldLooseBase(this,d)[d][_classPrivateFieldLooseBase(this,p)[p]].undo),void(_classPrivateFieldLooseBase(this,d)[d][_classPrivateFieldLooseBase(this,p)[p]]=a);const o=_classPrivateFieldLooseBase(this,p)[p]+1;o===_classPrivateFieldLooseBase(this,u)[u]?_classPrivateFieldLooseBase(this,d)[d].splice(0,1):(_classPrivateFieldLooseBase(this,p)[p]=o,o<_classPrivateFieldLooseBase(this,d)[d].length&&_classPrivateFieldLooseBase(this,d)[d].splice(o)),_classPrivateFieldLooseBase(this,d)[d].push(a)}undo(){-1!==_classPrivateFieldLooseBase(this,p)[p]&&(_classPrivateFieldLooseBase(this,h)[h]=!0,_classPrivateFieldLooseBase(this,d)[d][_classPrivateFieldLooseBase(this,p)[p]].undo(),_classPrivateFieldLooseBase(this,h)[h]=!1,_classPrivateFieldLooseBase(this,p)[p]-=1)}redo(){_classPrivateFieldLooseBase(this,p)[p]<_classPrivateFieldLooseBase(this,d)[d].length-1&&(_classPrivateFieldLooseBase(this,p)[p]+=1,_classPrivateFieldLooseBase(this,h)[h]=!0,_classPrivateFieldLooseBase(this,d)[d][_classPrivateFieldLooseBase(this,p)[p]].cmd(),_classPrivateFieldLooseBase(this,h)[h]=!1)}hasSomethingToUndo(){return-1!==_classPrivateFieldLooseBase(this,p)[p]}hasSomethingToRedo(){return _classPrivateFieldLooseBase(this,p)[p]<_classPrivateFieldLooseBase(this,d)[d].length-1}destroy(){_classPrivateFieldLooseBase(this,d)[d]=null}}t.CommandManager=f;var g=_classPrivateFieldLooseKey("serialize");class v{constructor(e){Object.defineProperty(this,g,{value:_}),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=n.FeatureTest.platform;for(const[i,s]of e)for(const e of i){const i=e.startsWith("mac+");t&&i?(this.callbacks.set(e.slice(4),s),this.allKeys.add(e.split("+").at(-1))):t||i||(this.callbacks.set(e,s),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(_classPrivateFieldLooseBase(this,g)[g](t));i&&(i.bind(e)(),t.stopPropagation(),t.preventDefault())}}function _(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=v;class m{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(e),(0,n.shadow)(this,"_colors",e)}convert(e){const t=(0,r.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every(((e,i)=>e===t[i])))return m._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?n.Util.makeHexColor(...t):e}}m._colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]),t.ColorManager=m;var y=_classPrivateFieldLooseKey("activeEditor"),b=_classPrivateFieldLooseKey("allEditors"),P=_classPrivateFieldLooseKey("allLayers"),A=_classPrivateFieldLooseKey("annotationStorage"),w=_classPrivateFieldLooseKey("commandManager"),S=_classPrivateFieldLooseKey("currentPageIndex"),x=_classPrivateFieldLooseKey("editorTypes"),L=_classPrivateFieldLooseKey("editorsToRescale"),E=_classPrivateFieldLooseKey("eventBus"),F=_classPrivateFieldLooseKey("idManager"),C=_classPrivateFieldLooseKey("isEnabled"),T=_classPrivateFieldLooseKey("mode"),k=_classPrivateFieldLooseKey("selectedEditors"),O=_classPrivateFieldLooseKey("boundCopy"),M=_classPrivateFieldLooseKey("boundCut"),R=_classPrivateFieldLooseKey("boundPaste"),I=_classPrivateFieldLooseKey("boundKeydown"),D=_classPrivateFieldLooseKey("boundOnEditingAction"),B=_classPrivateFieldLooseKey("boundOnPageChanging"),N=_classPrivateFieldLooseKey("boundOnScaleChanging"),j=_classPrivateFieldLooseKey("boundOnRotationChanging"),U=_classPrivateFieldLooseKey("previousStates"),V=_classPrivateFieldLooseKey("container"),$=_classPrivateFieldLooseKey("addKeyboardManager"),H=_classPrivateFieldLooseKey("removeKeyboardManager"),W=_classPrivateFieldLooseKey("addCopyPasteListeners"),z=_classPrivateFieldLooseKey("removeCopyPasteListeners"),q=_classPrivateFieldLooseKey("dispatchUpdateStates"),K=_classPrivateFieldLooseKey("dispatchUpdateUI"),G=_classPrivateFieldLooseKey("enableAll"),X=_classPrivateFieldLooseKey("disableAll"),Y=_classPrivateFieldLooseKey("addEditorToLayer"),Q=_classPrivateFieldLooseKey("isEmpty"),J=_classPrivateFieldLooseKey("selectEditors");class Z{constructor(e,t,i){Object.defineProperty(this,J,{value:de}),Object.defineProperty(this,Q,{value:ce}),Object.defineProperty(this,Y,{value:le}),Object.defineProperty(this,X,{value:oe}),Object.defineProperty(this,G,{value:ae}),Object.defineProperty(this,K,{value:re}),Object.defineProperty(this,q,{value:ne}),Object.defineProperty(this,z,{value:se}),Object.defineProperty(this,W,{value:ie}),Object.defineProperty(this,H,{value:te}),Object.defineProperty(this,$,{value:ee}),Object.defineProperty(this,y,{writable:!0,value:null}),Object.defineProperty(this,b,{writable:!0,value:new Map}),Object.defineProperty(this,P,{writable:!0,value:new Map}),Object.defineProperty(this,A,{writable:!0,value:null}),Object.defineProperty(this,w,{writable:!0,value:new f}),Object.defineProperty(this,S,{writable:!0,value:0}),Object.defineProperty(this,x,{writable:!0,value:null}),Object.defineProperty(this,L,{writable:!0,value:new Set}),Object.defineProperty(this,E,{writable:!0,value:null}),Object.defineProperty(this,F,{writable:!0,value:new c}),Object.defineProperty(this,C,{writable:!0,value:!1}),Object.defineProperty(this,T,{writable:!0,value:n.AnnotationEditorType.NONE}),Object.defineProperty(this,k,{writable:!0,value:new Set}),Object.defineProperty(this,O,{writable:!0,value:this.copy.bind(this)}),Object.defineProperty(this,M,{writable:!0,value:this.cut.bind(this)}),Object.defineProperty(this,R,{writable:!0,value:this.paste.bind(this)}),Object.defineProperty(this,I,{writable:!0,value:this.keydown.bind(this)}),Object.defineProperty(this,D,{writable:!0,value:this.onEditingAction.bind(this)}),Object.defineProperty(this,B,{writable:!0,value:this.onPageChanging.bind(this)}),Object.defineProperty(this,N,{writable:!0,value:this.onScaleChanging.bind(this)}),Object.defineProperty(this,j,{writable:!0,value:this.onRotationChanging.bind(this)}),Object.defineProperty(this,U,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),Object.defineProperty(this,V,{writable:!0,value:null}),_classPrivateFieldLooseBase(this,V)[V]=e,_classPrivateFieldLooseBase(this,E)[E]=t,_classPrivateFieldLooseBase(this,E)[E]._on("editingaction",_classPrivateFieldLooseBase(this,D)[D]),_classPrivateFieldLooseBase(this,E)[E]._on("pagechanging",_classPrivateFieldLooseBase(this,B)[B]),_classPrivateFieldLooseBase(this,E)[E]._on("scalechanging",_classPrivateFieldLooseBase(this,N)[N]),_classPrivateFieldLooseBase(this,E)[E]._on("rotationchanging",_classPrivateFieldLooseBase(this,j)[j]),_classPrivateFieldLooseBase(this,A)[A]=i,this.viewParameters={realScale:r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_classPrivateFieldLooseBase(this,H)[H](),_classPrivateFieldLooseBase(this,E)[E]._off("editingaction",_classPrivateFieldLooseBase(this,D)[D]),_classPrivateFieldLooseBase(this,E)[E]._off("pagechanging",_classPrivateFieldLooseBase(this,B)[B]),_classPrivateFieldLooseBase(this,E)[E]._off("scalechanging",_classPrivateFieldLooseBase(this,N)[N]),_classPrivateFieldLooseBase(this,E)[E]._off("rotationchanging",_classPrivateFieldLooseBase(this,j)[j]);for(const e of _classPrivateFieldLooseBase(this,P)[P].values())e.destroy();_classPrivateFieldLooseBase(this,P)[P].clear(),_classPrivateFieldLooseBase(this,b)[b].clear(),_classPrivateFieldLooseBase(this,L)[L].clear(),_classPrivateFieldLooseBase(this,y)[y]=null,_classPrivateFieldLooseBase(this,k)[k].clear(),_classPrivateFieldLooseBase(this,w)[w].destroy()}onPageChanging({pageNumber:e}){_classPrivateFieldLooseBase(this,S)[S]=e-1}focusMainContainer(){_classPrivateFieldLooseBase(this,V)[V].focus()}addShouldRescale(e){_classPrivateFieldLooseBase(this,L)[L].add(e)}removeShouldRescale(e){_classPrivateFieldLooseBase(this,L)[L].delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*r.PixelsPerInch.PDF_TO_CSS_UNITS;for(const t of _classPrivateFieldLooseBase(this,L)[L])t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}addToAnnotationStorage(e){e.isEmpty()||!_classPrivateFieldLooseBase(this,A)[A]||_classPrivateFieldLooseBase(this,A)[A].has(e.id)||_classPrivateFieldLooseBase(this,A)[A].setValue(e.id,e)}copy(e){if(e.preventDefault(),_classPrivateFieldLooseBase(this,y)[y]&&_classPrivateFieldLooseBase(this,y)[y].commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of _classPrivateFieldLooseBase(this,k)[k])i.isEmpty()||t.push(i.serialize());0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();let t=e.clipboardData.getData("application/pdfjs");if(!t)return;try{t=JSON.parse(t)}catch(s){return void(0,n.warn)(`paste: "${s.message}".`)}if(!Array.isArray(t))return;this.unselectAll();const i=_classPrivateFieldLooseBase(this,P)[P].get(_classPrivateFieldLooseBase(this,S)[S]);try{const e=[];for(const r of t){const t=i.deserialize(r);if(!t)return;e.push(t)}const s=()=>{for(const t of e)_classPrivateFieldLooseBase(this,Y)[Y](t);_classPrivateFieldLooseBase(this,J)[J](e)},n=()=>{for(const t of e)t.remove()};this.addCommands({cmd:s,undo:n,mustExec:!0})}catch(s){(0,n.warn)(`paste: "${s.message}".`)}}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||Z._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}setEditingState(e){e?(_classPrivateFieldLooseBase(this,$)[$](),_classPrivateFieldLooseBase(this,W)[W](),_classPrivateFieldLooseBase(this,q)[q]({isEditing:_classPrivateFieldLooseBase(this,T)[T]!==n.AnnotationEditorType.NONE,isEmpty:_classPrivateFieldLooseBase(this,Q)[Q](),hasSomethingToUndo:_classPrivateFieldLooseBase(this,w)[w].hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldLooseBase(this,w)[w].hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateFieldLooseBase(this,H)[H](),_classPrivateFieldLooseBase(this,z)[z](),_classPrivateFieldLooseBase(this,q)[q]({isEditing:!1}))}registerEditorTypes(e){if(!_classPrivateFieldLooseBase(this,x)[x]){_classPrivateFieldLooseBase(this,x)[x]=e;for(const e of _classPrivateFieldLooseBase(this,x)[x])_classPrivateFieldLooseBase(this,K)[K](e.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldLooseBase(this,F)[F].getId()}get currentLayer(){return _classPrivateFieldLooseBase(this,P)[P].get(_classPrivateFieldLooseBase(this,S)[S])}get currentPageIndex(){return _classPrivateFieldLooseBase(this,S)[S]}addLayer(e){_classPrivateFieldLooseBase(this,P)[P].set(e.pageIndex,e),_classPrivateFieldLooseBase(this,C)[C]?e.enable():e.disable()}removeLayer(e){_classPrivateFieldLooseBase(this,P)[P].delete(e.pageIndex)}updateMode(e){if(_classPrivateFieldLooseBase(this,T)[T]=e,e===n.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateFieldLooseBase(this,X)[X]();else{this.setEditingState(!0),_classPrivateFieldLooseBase(this,G)[G]();for(const t of _classPrivateFieldLooseBase(this,P)[P].values())t.updateMode(e)}}updateToolbar(e){e!==_classPrivateFieldLooseBase(this,T)[T]&&_classPrivateFieldLooseBase(this,E)[E].dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(_classPrivateFieldLooseBase(this,x)[x]){for(const i of _classPrivateFieldLooseBase(this,k)[k])i.updateParams(e,t);for(const i of _classPrivateFieldLooseBase(this,x)[x])i.updateDefaultParams(e,t)}}getEditors(e){const t=[];for(const i of _classPrivateFieldLooseBase(this,b)[b].values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return _classPrivateFieldLooseBase(this,b)[b].get(e)}addEditor(e){_classPrivateFieldLooseBase(this,b)[b].set(e.id,e)}removeEditor(e){_classPrivateFieldLooseBase(this,b)[b].delete(e.id),this.unselect(e),_classPrivateFieldLooseBase(this,A)[A]?.remove(e.id)}setActiveEditor(e){_classPrivateFieldLooseBase(this,y)[y]!==e&&(_classPrivateFieldLooseBase(this,y)[y]=e,e&&_classPrivateFieldLooseBase(this,K)[K](e.propertiesToUpdate))}toggleSelected(e){if(_classPrivateFieldLooseBase(this,k)[k].has(e))return _classPrivateFieldLooseBase(this,k)[k].delete(e),e.unselect(),void _classPrivateFieldLooseBase(this,q)[q]({hasSelectedEditor:this.hasSelection});_classPrivateFieldLooseBase(this,k)[k].add(e),e.select(),_classPrivateFieldLooseBase(this,K)[K](e.propertiesToUpdate),_classPrivateFieldLooseBase(this,q)[q]({hasSelectedEditor:!0})}setSelected(e){for(const t of _classPrivateFieldLooseBase(this,k)[k])t!==e&&t.unselect();_classPrivateFieldLooseBase(this,k)[k].clear(),_classPrivateFieldLooseBase(this,k)[k].add(e),e.select(),_classPrivateFieldLooseBase(this,K)[K](e.propertiesToUpdate),_classPrivateFieldLooseBase(this,q)[q]({hasSelectedEditor:!0})}isSelected(e){return _classPrivateFieldLooseBase(this,k)[k].has(e)}unselect(e){e.unselect(),_classPrivateFieldLooseBase(this,k)[k].delete(e),_classPrivateFieldLooseBase(this,q)[q]({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldLooseBase(this,k)[k].size}undo(){_classPrivateFieldLooseBase(this,w)[w].undo(),_classPrivateFieldLooseBase(this,q)[q]({hasSomethingToUndo:_classPrivateFieldLooseBase(this,w)[w].hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateFieldLooseBase(this,Q)[Q]()})}redo(){_classPrivateFieldLooseBase(this,w)[w].redo(),_classPrivateFieldLooseBase(this,q)[q]({hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldLooseBase(this,w)[w].hasSomethingToRedo(),isEmpty:_classPrivateFieldLooseBase(this,Q)[Q]()})}addCommands(e){_classPrivateFieldLooseBase(this,w)[w].add(e),_classPrivateFieldLooseBase(this,q)[q]({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateFieldLooseBase(this,Q)[Q]()})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[..._classPrivateFieldLooseBase(this,k)[k]],t=()=>{for(const t of e)t.remove()},i=()=>{for(const t of e)_classPrivateFieldLooseBase(this,Y)[Y](t)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){_classPrivateFieldLooseBase(this,y)[y]?.commitOrRemove()}selectAll(){for(const e of _classPrivateFieldLooseBase(this,k)[k])e.commit();_classPrivateFieldLooseBase(this,J)[J](_classPrivateFieldLooseBase(this,b)[b].values())}unselectAll(){if(_classPrivateFieldLooseBase(this,y)[y])_classPrivateFieldLooseBase(this,y)[y].commitOrRemove();else if(0!==_classPrivateFieldLooseBase(this,k)[k].size){for(const e of _classPrivateFieldLooseBase(this,k)[k])e.unselect();_classPrivateFieldLooseBase(this,k)[k].clear(),_classPrivateFieldLooseBase(this,q)[q]({hasSelectedEditor:!1})}}isActive(e){return _classPrivateFieldLooseBase(this,y)[y]===e}getActive(){return _classPrivateFieldLooseBase(this,y)[y]}getMode(){return _classPrivateFieldLooseBase(this,T)[T]}}function ee(){_classPrivateFieldLooseBase(this,V)[V].addEventListener("keydown",_classPrivateFieldLooseBase(this,I)[I])}function te(){_classPrivateFieldLooseBase(this,V)[V].removeEventListener("keydown",_classPrivateFieldLooseBase(this,I)[I])}function ie(){document.addEventListener("copy",_classPrivateFieldLooseBase(this,O)[O]),document.addEventListener("cut",_classPrivateFieldLooseBase(this,M)[M]),document.addEventListener("paste",_classPrivateFieldLooseBase(this,R)[R])}function se(){document.removeEventListener("copy",_classPrivateFieldLooseBase(this,O)[O]),document.removeEventListener("cut",_classPrivateFieldLooseBase(this,M)[M]),document.removeEventListener("paste",_classPrivateFieldLooseBase(this,R)[R])}function ne(e){const t=Object.entries(e).some((([e,t])=>_classPrivateFieldLooseBase(this,U)[U][e]!==t));t&&_classPrivateFieldLooseBase(this,E)[E].dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldLooseBase(this,U)[U],e)})}function re(e){_classPrivateFieldLooseBase(this,E)[E].dispatch("annotationeditorparamschanged",{source:this,details:e})}function ae(){if(!_classPrivateFieldLooseBase(this,C)[C]){_classPrivateFieldLooseBase(this,C)[C]=!0;for(const e of _classPrivateFieldLooseBase(this,P)[P].values())e.enable()}}function oe(){if(this.unselectAll(),_classPrivateFieldLooseBase(this,C)[C]){_classPrivateFieldLooseBase(this,C)[C]=!1;for(const e of _classPrivateFieldLooseBase(this,P)[P].values())e.disable()}}function le(e){const t=_classPrivateFieldLooseBase(this,P)[P].get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function ce(){if(0===_classPrivateFieldLooseBase(this,b)[b].size)return!0;if(1===_classPrivateFieldLooseBase(this,b)[b].size)for(const e of _classPrivateFieldLooseBase(this,b)[b].values())return e.isEmpty();return!1}function de(e){_classPrivateFieldLooseBase(this,k)[k].clear();for(const t of e)t.isEmpty()||(_classPrivateFieldLooseBase(this,k)[k].add(t),t.select());_classPrivateFieldLooseBase(this,q)[q]({hasSelectedEditor:!0})}s=Z,Z._keyboardManager=new v([[["ctrl+a","mac+meta+a"],s.prototype.selectAll],[["ctrl+z","mac+meta+z"],s.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],s.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],s.prototype.delete],[["Escape","mac+Escape"],s.prototype.unselectAll]]),t.AnnotationEditorUIManager=Z},(e,t,i)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=N,t.getColorValues=H,t.getCurrentTransform=W,t.getCurrentTransformInverse=z,t.getFilenameFromUrl=M,t.getPdfFilenameFromUrl=R,t.getRGB=$,t.getXfaPageViewport=V,t.isDataScheme=k,t.isPdfFile=O,t.isValidFetchUrl=D,t.loadScript=B,t.setLayerDimensions=q;var n=i(7),r=i(1);const a="http://www.w3.org/2000/svg",o="pdfjs_internal_id_";t.AnnotationPrefix=o;class l{}s=l,l.CSS=96,l.PDF=72,l.PDF_TO_CSS_UNITS=s.CSS/s.PDF,t.PixelsPerInch=l;var c=_classPrivateFieldLooseKey("_cache"),d=_classPrivateFieldLooseKey("_defs"),h=_classPrivateFieldLooseKey("docId"),u=_classPrivateFieldLooseKey("document"),p=_classPrivateFieldLooseKey("hcmFilter"),f=_classPrivateFieldLooseKey("hcmKey"),g=_classPrivateFieldLooseKey("hcmUrl"),v=_classPrivateFieldLooseKey("id"),_=_classPrivateFieldLooseKey("cache"),m=_classPrivateFieldLooseKey("defs"),y=_classPrivateFieldLooseKey("appendFeFunc");class b extends n.BaseFilterFactory{constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),Object.defineProperty(this,y,{value:w}),Object.defineProperty(this,m,{get:A,set:void 0}),Object.defineProperty(this,_,{get:P,set:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:0}),_classPrivateFieldLooseBase(this,h)[h]=e,_classPrivateFieldLooseBase(this,u)[u]=t}addFilter(e){if(!e)return"none";let t,i,s,n,r=_classPrivateFieldLooseBase(this,_)[_].get(e);if(r)return r;if(1===e.length){const r=e[0],a=new Array(256);for(let e=0;e<256;e++)a[e]=r[e]/255;n=t=i=s=a.join(",")}else{const[r,a,o]=e,l=new Array(256),c=new Array(256),d=new Array(256);for(let e=0;e<256;e++)l[e]=r[e]/255,c[e]=a[e]/255,d[e]=o[e]/255;t=l.join(","),i=c.join(","),s=d.join(","),n=`${t}${i}${s}`}if(r=_classPrivateFieldLooseBase(this,_)[_].get(n),r)return _classPrivateFieldLooseBase(this,_)[_].set(e,r),r;const o=`g_${_classPrivateFieldLooseBase(this,h)[h]}_transfer_map_${_classPrivateFieldLooseBase(this,v)[v]++}`,l=`url(#${o})`;_classPrivateFieldLooseBase(this,_)[_].set(e,l),_classPrivateFieldLooseBase(this,_)[_].set(n,l);const c=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"filter",a);c.setAttribute("id",o),c.setAttribute("color-interpolation-filters","sRGB");const d=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"feComponentTransfer");return c.append(d),_classPrivateFieldLooseBase(this,y)[y](d,"feFuncR",t),_classPrivateFieldLooseBase(this,y)[y](d,"feFuncG",i),_classPrivateFieldLooseBase(this,y)[y](d,"feFuncB",s),_classPrivateFieldLooseBase(this,m)[m].append(c),l}addHCMFilter(e,t){const i=`${e}-${t}`;if(_classPrivateFieldLooseBase(this,f)[f]===i)return _classPrivateFieldLooseBase(this,g)[g];if(_classPrivateFieldLooseBase(this,f)[f]=i,_classPrivateFieldLooseBase(this,g)[g]="none",_classPrivateFieldLooseBase(this,p)[p]?.remove(),!e||!t)return _classPrivateFieldLooseBase(this,g)[g];_classPrivateFieldLooseBase(this,m)[m].style.color=e,e=getComputedStyle(_classPrivateFieldLooseBase(this,m)[m]).getPropertyValue("color");const s=$(e);e=r.Util.makeHexColor(...s),_classPrivateFieldLooseBase(this,m)[m].style.color=t,t=getComputedStyle(_classPrivateFieldLooseBase(this,m)[m]).getPropertyValue("color");const n=$(t);if(t=r.Util.makeHexColor(...n),_classPrivateFieldLooseBase(this,m)[m].style.color="","#000000"===e&&"#ffffff"===t||e===t)return _classPrivateFieldLooseBase(this,g)[g];const o=new Array(256);for(let r=0;r<=255;r++){const e=r/255;o[r]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c=`g_${_classPrivateFieldLooseBase(this,h)[h]}_hcm_filter`,d=_classPrivateFieldLooseBase(this,p)[p]=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"filter",a);d.setAttribute("id",c),d.setAttribute("color-interpolation-filters","sRGB");let v=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"feComponentTransfer");d.append(v),_classPrivateFieldLooseBase(this,y)[y](v,"feFuncR",l),_classPrivateFieldLooseBase(this,y)[y](v,"feFuncG",l),_classPrivateFieldLooseBase(this,y)[y](v,"feFuncB",l);const _=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),d.append(_),v=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"feComponentTransfer"),d.append(v);const b=(e,t)=>{const i=s[e]/255,r=n[e]/255,a=new Array(t+1);for(let s=0;s<=t;s++)a[s]=i+s/t*(r-i);return a.join(",")};return _classPrivateFieldLooseBase(this,y)[y](v,"feFuncR",b(0,5)),_classPrivateFieldLooseBase(this,y)[y](v,"feFuncG",b(1,5)),_classPrivateFieldLooseBase(this,y)[y](v,"feFuncB",b(2,5)),_classPrivateFieldLooseBase(this,m)[m].append(d),_classPrivateFieldLooseBase(this,g)[g]=`url(#${c})`,_classPrivateFieldLooseBase(this,g)[g]}destroy(e=!1){e&&_classPrivateFieldLooseBase(this,g)[g]||(_classPrivateFieldLooseBase(this,d)[d]&&(_classPrivateFieldLooseBase(this,d)[d].parentNode.parentNode.remove(),_classPrivateFieldLooseBase(this,d)[d]=null),_classPrivateFieldLooseBase(this,c)[c]&&(_classPrivateFieldLooseBase(this,c)[c].clear(),_classPrivateFieldLooseBase(this,c)[c]=null),_classPrivateFieldLooseBase(this,v)[v]=0)}}function P(){return _classPrivateFieldLooseBase(this,c)[c]||=new Map}function A(){if(!_classPrivateFieldLooseBase(this,d)[d]){const e=_classPrivateFieldLooseBase(this,u)[u].createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_classPrivateFieldLooseBase(this,d)[d]=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,"defs"),e.append(i),i.append(_classPrivateFieldLooseBase(this,d)[d]),_classPrivateFieldLooseBase(this,u)[u].body.append(e)}return _classPrivateFieldLooseBase(this,d)[d]}function w(e,t,i){const s=_classPrivateFieldLooseBase(this,u)[u].createElementNS(a,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),e.append(s)}t.DOMFilterFactory=b;class S extends n.BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function x(e,t=!1){if(D(e,document.baseURI)){const i=await fetch(e);if(!i.ok)throw new Error(i.statusText);return t?new Uint8Array(await i.arrayBuffer()):(0,r.stringToBytes)(await i.text())}return new Promise(((i,s)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),t&&(n.responseType="arraybuffer"),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){if(200===n.status||0===n.status){let e;if(t&&n.response?e=new Uint8Array(n.response):!t&&n.responseText&&(e=(0,r.stringToBytes)(n.responseText)),e)return void i(e)}s(new Error(n.statusText))}},n.send(null)}))}t.DOMCanvasFactory=S;class L extends n.BaseCMapReaderFactory{_fetchData(e,t){return x(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=L;class E extends n.BaseStandardFontDataFactory{_fetchData(e){return x(e,!0)}}t.DOMStandardFontDataFactory=E;class F extends n.BaseSVGFactory{_createSVG(e){return document.createElementNS(a,e)}}t.DOMSVGFactory=F;class C{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:n=0,dontFlip:r=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=n;const a=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,c,d,h,u,p,f,g;switch(i%=360,i<0&&(i+=360),i){case 180:l=-1,c=0,d=0,h=1;break;case 90:l=0,c=1,d=1,h=0;break;case 270:l=0,c=-1,d=-1,h=0;break;case 0:l=1,c=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(d=-d,h=-h),0===l?(u=Math.abs(o-e[1])*t+s,p=Math.abs(a-e[0])*t+n,f=(e[3]-e[1])*t,g=(e[2]-e[0])*t):(u=Math.abs(a-e[0])*t+s,p=Math.abs(o-e[1])*t+n,f=(e[2]-e[0])*t,g=(e[3]-e[1])*t),this.transform=[l*t,c*t,d*t,h*t,u-l*t*a-d*t*o,p-c*t*a-h*t*o],this.width=f,this.height=g}get rawDims(){const{viewBox:e}=this;return(0,r.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:n=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:n})}convertToViewportPoint(e,t){return r.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=r.Util.applyTransform([e[0],e[1]],this.transform),i=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=C;class T extends r.BaseException{constructor(e,t,i=0){super(e,"RenderingCancelledException"),this.type=t,this.extraDelay=i}}function k(e){const t=e.length;let i=0;while(i<t&&""===e[i].trim())i++;return"data:"===e.substring(i,i+5).toLowerCase()}function O(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function M(e,t=!1){return t||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)}function R(e,t="document.pdf"){if("string"!==typeof e)return t;if(k(e))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=i.exec(e);let a=s.exec(n[1])||s.exec(n[2])||s.exec(n[3]);if(a&&(a=a[0],a.includes("%")))try{a=s.exec(decodeURIComponent(a))[0]}catch(o){}return a||t}t.RenderingCancelledException=T;class I{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,r.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,r.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:n}of this.times)e.push(`${i.padEnd(t)} ${n-s}ms\n`);return e.join("")}}function D(e,t){try{const{protocol:i}=t?new URL(e,t):new URL(e);return"http:"===i||"https:"===i}catch(i){return!1}}function B(e,t=!1){return new Promise(((i,s)=>{const n=document.createElement("script");n.src=e,n.onload=function(e){t&&n.remove(),i(e)},n.onerror=function(){s(new Error(`Cannot load script at: ${n.src}`))},(document.head||document.documentElement).append(n)}))}function N(e){console.log("Deprecated API usage: "+e)}let j;t.StatTimer=I;class U{static toDateObject(e){if(!e||"string"!==typeof e)return null;j||(j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=j.exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let n=parseInt(t[3],10);n=n>=1&&n<=31?n:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,a+=d):"+"===l&&(r-=c,a-=d),new Date(Date.UTC(i,s,n,r,a,o))}}function V(e,{scale:t=1,rotation:i=0}){const{width:s,height:n}=e.attributes.style,r=[0,0,parseInt(s),parseInt(n)];return new C({viewBox:r,scale:t,rotation:i})}function $(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,r.warn)(`Not a valid color format: "${e}"`),[0,0,0])}function H(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const i of e.keys()){t.style.color=i;const s=window.getComputedStyle(t).color;e.set(i,$(s))}t.remove()}function W(e){const{a:t,b:i,c:s,d:n,e:r,f:a}=e.getTransform();return[t,i,s,n,r,a]}function z(e){const{a:t,b:i,c:s,d:n,e:r,f:a}=e.getTransform().invertSelf();return[t,i,s,n,r,a]}function q(e,t,i=!1,s=!0){if(t instanceof C){const{pageWidth:s,pageHeight:n}=t.rawDims,{style:r}=e,a=`calc(var(--scale-factor) * ${s}px)`,o=`calc(var(--scale-factor) * ${n}px)`;i&&t.rotation%180!==0?(r.width=o,r.height=a):(r.width=a,r.height=o)}s&&e.setAttribute("data-main-rotation",t.rotation)}t.PDFDateString=U},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var s=i(1);class n{constructor(){this.constructor===n&&(0,s.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}destroy(e=!1){}}t.BaseFilterFactory=n;class r{constructor(){this.constructor===r&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d")}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=r;class a{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===a&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE;return this._fetchData(t,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)}))}_fetchData(e,t){(0,s.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=a;class o{constructor({baseUrl:e=null}){this.constructor===o&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch((e=>{throw new Error(`Unable to load font data at: ${t}`)}))}_fetchData(e){(0,s.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=o;class l{constructor(){this.constructor===l&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,s.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=l},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var s=i(1);const n=3285377520,r=4294901760,a=65535;class o{constructor(e){this.h1=e?4294967295&e:n,this.h2=e?4294967295&e:n}update(e){let t,i;if("string"===typeof e){t=new Uint8Array(2*e.length),i=0;for(let s=0,n=e.length;s<n;s++){const n=e.charCodeAt(s);n<=255?t[i++]=n:(t[i++]=n>>>8,t[i++]=255&n)}}else{if(!(0,s.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),i=t.byteLength}const n=i>>2,o=i-4*n,l=new Uint32Array(t.buffer,0,n);let c=0,d=0,h=this.h1,u=this.h2;const p=3432918353,f=461845907,g=p&a,v=f&a;for(let s=0;s<n;s++)1&s?(c=l[s],c=c*p&r|c*g&a,c=c<<15|c>>>17,c=c*f&r|c*v&a,h^=c,h=h<<13|h>>>19,h=5*h+3864292196):(d=l[s],d=d*p&r|d*g&a,d=d<<15|d>>>17,d=d*f&r|d*v&a,u^=d,u=u<<13|u>>>19,u=5*u+3864292196);switch(c=0,o){case 3:c^=t[4*n+2]<<16;case 2:c^=t[4*n+1]<<8;case 1:c^=t[4*n],c=c*p&r|c*g&a,c=c<<15|c>>>17,c=c*f&r|c*v&a,1&n?h^=c:u^=c}this.h1=h,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&r|36045*e&a,t=4283543511*t&r|(2950163797*(t<<16|e>>>16)&r)>>>16,e^=t>>>1,e=444984403*e&r|60499*e&a,t=3301882366*t&r|(3120437893*(t<<16|e>>>16)&r)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=o},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var s=i(1),n=i(10);class r{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(i){throw(0,s.warn)(`Failed to load font '${t.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const i=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,i)}))}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,s.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(n.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){(0,s.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;while(i.length>0&&i[0].done){const e=i.shift();setTimeout(e.callback,0)}}const{loadingRequests:i}=this,n={done:!1,complete:t,callback:e};return i.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,s.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function n(e,t,i,s){const n=e.substring(0,t),r=e.substring(t+i);return n+s+r}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(e,t){if(++c>30)return(0,s.warn)("Load test font never loaded."),void t();l.font="30px "+e,l.fillText(".",0,20);const i=l.getImageData(0,0,1,1);i.data[3]>0?t():setTimeout(d.bind(null,e,t))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;const p=976;u=n(u,p,h.length,h);const f=16,g=1482184792;let v=i(u,f);for(r=0,a=h.length-3;r<a;r+=4)v=v-g+i(h,r)|0;r<h.length&&(v=v-g+i(h+"XXX",r)|0),u=n(u,f,4,(0,s.string32)(v));const _=`url(data:font/opentype;base64,${btoa(u)});`,m=`@font-face {font-family:"${h}";src:${_}}`;this.insertRule(m);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const s of[e.loadedName,h]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=s,y.append(e)}this._document.body.append(y),d(h,(()=>{y.remove(),t.complete()}))}}t.FontLoader=r;class a{constructor(e,{isEvalSupported:t=!0,disableFontFace:i=!1,ignoreErrors:s=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.isEvalSupported=!1!==t,this.disableFontFace=!0===i,this.ignoreErrors=!0===s,this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,s.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),i}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(n){if(!this.ignoreErrors)throw n;return(0,s.warn)(`getPathGenerator - ignoring character: "${n}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const e=[];for(const t of i){const i=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",i,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const s of i)"scale"===s.cmd&&(s.args=[t,-t]),e[s.cmd].apply(e,s.args)}}}t.FontFaceObject=a},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const i="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var s=i(1),n=i(6),r=i(12),a=i(13),o=i(10);const l=16,c=100,d=4096,h=15,u=10,p=1e3,f=16;function g(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},e.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},e.transform=function(e,i,s,n,r,a){t.transform(e,i,s,n,r,a),this.__originalTransform(e,i,s,n,r,a)},e.setTransform=function(e,i,s,n,r,a){t.setTransform(e,i,s,n,r,a),this.__originalSetTransform(e,i,s,n,r,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},e.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},e.bezierCurveTo=function(e,i,s,n,r,a){t.bezierCurveTo(e,i,s,n,r,a),this.__originalBezierCurveTo(e,i,s,n,r,a)},e.rect=function(e,i,s,n){t.rect(e,i,s,n),this.__originalRect(e,i,s,n)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class v{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return void 0!==this.cache[e]?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function _(e,t,i,s,r,a,o,l,c,d){const[h,u,p,f,g,v]=(0,n.getCurrentTransform)(e);if(0===u&&0===p){const n=o*h+g,_=Math.round(n),m=l*f+v,y=Math.round(m),b=(o+c)*h+g,P=Math.abs(Math.round(b)-_)||1,A=(l+d)*f+v,w=Math.abs(Math.round(A)-y)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(f),_,y),e.drawImage(t,i,s,r,a,0,0,P,w),e.setTransform(h,u,p,f,g,v),[P,w]}if(0===h&&0===f){const n=l*p+g,_=Math.round(n),m=o*u+v,y=Math.round(m),b=(l+d)*p+g,P=Math.abs(Math.round(b)-_)||1,A=(o+c)*u+v,w=Math.abs(Math.round(A)-y)||1;return e.setTransform(0,Math.sign(u),Math.sign(p),0,_,y),e.drawImage(t,i,s,r,a,0,0,w,P),e.setTransform(h,u,p,f,g,v),[w,P]}e.drawImage(t,i,s,r,a,o,l,c,d);const _=Math.hypot(h,u),m=Math.hypot(p,f);return[_*c,m*d]}function m(e){const{width:t,height:i}=e;if(t>p||i>p)return null;const s=1e3,n=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a,o,l,c=new Uint8Array(r*(i+1));const d=t+7&-8;let h=new Uint8Array(d*i),u=0;for(const p of e.data){let e=128;while(e>0)h[u++]=p&e?0:255,e>>=1}let f=0;for(u=0,0!==h[u]&&(c[0]=1,++f),o=1;o<t;o++)h[u]!==h[u+1]&&(c[o]=h[u]?2:1,++f),u++;for(0!==h[u]&&(c[o]=2,++f),a=1;a<i;a++){u=a*d,l=a*r,h[u-d]!==h[u]&&(c[l]=h[u]?1:8,++f);let e=(h[u]?4:0)+(h[u-d]?8:0);for(o=1;o<t;o++)e=(e>>2)+(h[u+1]?4:0)+(h[u-d+1]?8:0),n[e]&&(c[l+o]=n[e],++f),u++;if(h[u-d]!==h[u]&&(c[l+o]=h[u]?2:4,++f),f>s)return null}for(u=d*(i-1),l=a*r,0!==h[u]&&(c[l]=8,++f),o=1;o<t;o++)h[u]!==h[u+1]&&(c[l+o]=h[u]?4:8,++f),u++;if(0!==h[u]&&(c[l+o]=4,++f),f>s)return null;const g=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=new Path2D;for(a=0;f&&a<=i;a++){let e=a*r;const i=e+t;while(e<i&&!c[e])e++;if(e===i)continue;v.moveTo(e%r,a);const s=e;let n=c[e];do{const t=g[n];do{e+=t}while(!c[e]);const i=c[e];5!==i&&10!==i?(n=i,c[e]=0):(n=i&51*n>>4,c[e]&=n>>2|n<<2),v.lineTo(e%r,e/r|0),c[e]||--f}while(s!==e);--a}h=null,c=null;const _=function(e){e.save(),e.scale(1/t,-1/i),e.translate(0,-i),e.fill(v),e.beginPath(),e.restore()};return _}class y{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=s.Util.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=s.Util.applyTransform(t,e),n=s.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,i[0],n[0]),this.minY=Math.min(this.minY,i[1],n[1]),this.maxX=Math.max(this.maxX,i[0],n[0]),this.maxY=Math.max(this.maxY,i[1],n[1])}updateScalingPathMinMax(e,t){s.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,n,r,a,o,l,c,d){const h=s.Util.bezierBoundingBox(t,i,n,r,a,o,l,c);if(d)return d[0]=Math.min(d[0],h[0],h[2]),d[1]=Math.max(d[1],h[0],h[2]),d[2]=Math.min(d[2],h[1],h[3]),void(d[3]=Math.max(d[3],h[1],h[3]));this.updateRectMinMax(e,h)}getPathBoundingBox(e=r.PathType.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===r.PathType.STROKE){t||(0,s.unreachable)("Stroke bounding box must include transform.");const e=s.Util.singularValueDecompose2dScale(t),n=e[0]*this.lineWidth/2,r=e[1]*this.lineWidth/2;i[0]-=n,i[1]-=r,i[2]+=n,i[3]+=r}return i}updateClipFromPath(){const e=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=r.PathType.FILL,t=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function b(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const i=t.height,n=t.width,r=i%f,a=(i-r)/f,o=0===r?a:a+1,l=e.createImageData(n,f);let c,d=0;const h=t.data,u=l.data;let p,g,v,_;if(t.kind===s.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,i=new Uint32Array(u.buffer,0,u.byteLength>>2),_=i.length,m=n+7>>3,y=4294967295,b=s.FeatureTest.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(v=p<a?f:r,c=0,g=0;g<v;g++){const e=t-d;let s=0;const r=e>m?n:8*e-7,a=-8&r;let o=0,l=0;for(;s<a;s+=8)l=h[d++],i[c++]=128&l?y:b,i[c++]=64&l?y:b,i[c++]=32&l?y:b,i[c++]=16&l?y:b,i[c++]=8&l?y:b,i[c++]=4&l?y:b,i[c++]=2&l?y:b,i[c++]=1&l?y:b;for(;s<r;s++)0===o&&(l=h[d++],o=128),i[c++]=l&o?y:b,o>>=1}while(c<_)i[c++]=0;e.putImageData(l,0,p*f)}}else if(t.kind===s.ImageKind.RGBA_32BPP){for(g=0,_=n*f*4,p=0;p<a;p++)u.set(h.subarray(d,d+_)),d+=_,e.putImageData(l,0,g),g+=f;p<o&&(_=n*r*4,u.set(h.subarray(d,d+_)),e.putImageData(l,0,g))}else{if(t.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(v=f,_=n*v,p=0;p<o;p++){for(p>=a&&(v=r,_=n*v),c=0,g=_;g--;)u[c++]=h[d++],u[c++]=h[d++],u[c++]=h[d++],u[c++]=255;e.putImageData(l,0,p*f)}}}function P(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const i=t.height,s=t.width,n=i%f,r=(i-n)/f,o=0===n?r:r+1,l=e.createImageData(s,f);let c=0;const d=t.data,h=l.data;for(let u=0;u<o;u++){const t=u<r?f:n;({srcPos:c}=(0,a.convertBlackAndWhiteToRGBA)({src:d,srcPos:c,dest:h,width:s,height:t,nonBlackColor:0})),e.putImageData(l,0,u*f)}}function A(e,t){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of i)void 0!==e[s]&&(t[s]=e[s]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function w(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),o.isNodeJS||(e.filter="none")}function S(e,t,i,s){const n=e.length;for(let r=3;r<n;r+=4){const n=e[r];if(0===n)e[r-3]=t,e[r-2]=i,e[r-1]=s;else if(n<255){const a=255-n;e[r-3]=e[r-3]*n+t*a>>8,e[r-2]=e[r-2]*n+i*a>>8,e[r-1]=e[r-1]*n+s*a>>8}}}function x(e,t,i){const s=e.length,n=1/255;for(let r=3;r<s;r+=4){const s=i?i[e[r]]:e[r];t[r]=t[r]*s*n|0}}function L(e,t,i){const s=e.length;for(let n=3;n<s;n+=4){const s=77*e[n-3]+152*e[n-2]+28*e[n-1];t[n]=i?t[n]*i[s>>8]>>8:t[n]*s>>16}}function E(e,t,i,s,n,r,a,o,l,c,d){const h=!!r,u=h?r[0]:0,p=h?r[1]:0,f=h?r[2]:0;let g;g="Luminosity"===n?L:x;const v=1048576,_=Math.min(s,Math.ceil(v/i));for(let m=0;m<s;m+=_){const n=Math.min(_,s-m),r=e.getImageData(o-c,m+(l-d),i,n),v=t.getImageData(o,m+l,i,n);h&&S(r.data,u,p,f),g(r.data,v.data,a),t.putImageData(v,o,m+l)}}function F(e,t,i,s){const n=s[0],r=s[1],a=s[2]-n,o=s[3]-r;0!==a&&0!==o&&(E(t.context,i,a,o,t.subtype,t.backdrop,t.transferMap,n,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}function C(e,t){const i=s.Util.singularValueDecompose2dScale(e);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:i[0]<=r||i[1]<=r}const T=["butt","round","square"],k=["miter","round","bevel"],O={},M={};var R=_classPrivateFieldLooseKey("restoreInitialState"),I=_classPrivateFieldLooseKey("drawFilter");class D{constructor(e,t,i,s,n,{optionalContentConfig:r,markedContentStack:a=null},o,l){Object.defineProperty(this,I,{value:N}),Object.defineProperty(this,R,{value:B}),this.ctx=e,this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=n,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=r,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),w(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,i,n){const r=e.argsArray,a=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>u&&"function"===typeof i,d=c?Date.now()+h:0;let p=0;const f=this.commonObjs,g=this.objs;let v;while(1){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,i),o;if(v=a[o],v!==s.OPS.dependency)this[v].apply(this,r[o]);else for(const e of r[o]){const t=e.startsWith("g_")?f:g;if(!t.has(e))return t.get(e,i),o}if(o++,o===l)return o;if(c&&++p>u){if(Date.now()>d)return i(),o;p=0}}}endDrawing(){_classPrivateFieldLooseBase(this,R)[R](),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_classPrivateFieldLooseBase(this,I)[I]()}_scaleImage(e,t){const i=e.width,s=e.height;let n,r,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=s,d="prescale1";while(a>2&&l>1||o>2&&c>1){let t=l,i=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(i=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/i),n=this.cachedCanvases.getCanvas(d,t,i),r=n.context,r.clearRect(0,0,t,i),r.drawImage(e,0,0,l,c,0,0,t,i),e=n.canvas,l=t,c=i,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:a}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,n.getCurrentTransform)(t);let d,h,u,p;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(t),d||(d=new Map,this._cachedBitmapsMap.set(t,d));const i=d.get(h);if(i&&!l){const e=Math.round(Math.min(c[0],c[2])+c[4]),t=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:i,offsetX:e,offsetY:t}}u=i}u||(p=this.cachedCanvases.getCanvas("maskCanvas",i,a),P(p.context,e));let f=s.Util.transform(c,[1/i,0,0,-1/a,0,0]);f=s.Util.transform(f,[1,0,0,1,0,-a]);const g=s.Util.applyTransform([0,0],f),v=s.Util.applyTransform([i,a],f),m=s.Util.normalizeRect([g[0],g[1],v[0],v[1]]),y=Math.round(m[2]-m[0])||1,b=Math.round(m[3]-m[1])||1,A=this.cachedCanvases.getCanvas("fillCanvas",y,b),w=A.context,S=Math.min(g[0],v[0]),x=Math.min(g[1],v[1]);w.translate(-S,-x),w.transform(...f),u||(u=this._scaleImage(p.canvas,(0,n.getCurrentTransformInverse)(w)),u=u.img,d&&l&&d.set(h,u)),w.imageSmoothingEnabled=C((0,n.getCurrentTransform)(w),e.interpolate),_(w,u,0,0,u.width,u.height,0,0,i,a),w.globalCompositeOperation="source-in";const L=s.Util.transform((0,n.getCurrentTransformInverse)(w),[1,0,0,1,-S,-x]);return w.fillStyle=l?o.getPattern(t,this,L,r.PathType.FILL):o,w.fillRect(0,0,i,a),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,A.canvas)),{canvas:A.canvas,offsetX:Math.round(S),offsetY:Math.round(x)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=T[e]}setLineJoin(e){this.ctx.lineJoin=k[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),A(this.suspendedCtx,r),g(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),A(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;F(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(A(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),A(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,n,r){this.ctx.transform(e,t,i,s,n,r),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,a=this.current;let o,l,c=a.x,d=a.y;const h=(0,n.getCurrentTransform)(r),u=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],p=u?i.slice(0):null;for(let n=0,f=0,g=e.length;n<g;n++)switch(0|e[n]){case s.OPS.rectangle:c=t[f++],d=t[f++];const e=t[f++],i=t[f++],n=c+e,g=d+i;r.moveTo(c,d),0===e||0===i?r.lineTo(n,g):(r.lineTo(n,d),r.lineTo(n,g),r.lineTo(c,g)),u||a.updateRectMinMax(h,[c,d,n,g]),r.closePath();break;case s.OPS.moveTo:c=t[f++],d=t[f++],r.moveTo(c,d),u||a.updatePathMinMax(h,c,d);break;case s.OPS.lineTo:c=t[f++],d=t[f++],r.lineTo(c,d),u||a.updatePathMinMax(h,c,d);break;case s.OPS.curveTo:o=c,l=d,c=t[f+4],d=t[f+5],r.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],c,d),a.updateCurvePathMinMax(h,o,l,t[f],t[f+1],t[f+2],t[f+3],c,d,p),f+=6;break;case s.OPS.curveTo2:o=c,l=d,r.bezierCurveTo(c,d,t[f],t[f+1],t[f+2],t[f+3]),a.updateCurvePathMinMax(h,o,l,c,d,t[f],t[f+1],t[f+2],t[f+3],p),c=t[f+2],d=t[f+3],f+=4;break;case s.OPS.curveTo3:o=c,l=d,c=t[f+2],d=t[f+3],r.bezierCurveTo(t[f],t[f+1],c,d,c,d),a.updateCurvePathMinMax(h,o,l,t[f],t[f+1],c,d,c,d,p),f+=4;break;case s.OPS.closePath:r.closePath();break}u&&a.updateScalingPathMinMax(h,p),a.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof i&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,(0,n.getCurrentTransformInverse)(t),r.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,(0,n.getCurrentTransformInverse)(t),r.PathType.FILL),a=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=O}eoClip(){this.pendingClip=M}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const i=this.commonObjs.get(e),n=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(n.fontMatrix=i.fontMatrix||s.FONT_IDENTITY_MATRIX,0!==n.fontMatrix[0]&&0!==n.fontMatrix[3]||(0,s.warn)("Invalid font matrix for font "+e),t<0?(t=-t,n.fontDirection=-1):n.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const r=i.loadedName||"sans-serif";let a="normal";i.black?a="900":i.bold&&(a="bold");const o=i.italic?"italic":"normal",d=`"${r}", ${i.fallbackName}`;let h=t;t<l?h=l:t>c&&(h=c),this.current.fontSizeScale=t/h,this.ctx.font=`${o} ${a} ${h}px ${d}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,n,r){this.current.textMatrix=[e,t,i,s,n,r],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&s.TextRenderingMode.FILL_STROKE_MASK,u=!!(c&s.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let f;if((l.disableFontFace||u||p)&&(f=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(a.save(),a.translate(t,i),a.beginPath(),f(a,d),r&&a.setTransform(...r),h!==s.TextRenderingMode.FILL&&h!==s.TextRenderingMode.FILL_STROKE||a.fill(),h!==s.TextRenderingMode.STROKE&&h!==s.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(h!==s.TextRenderingMode.FILL&&h!==s.TextRenderingMode.FILL_STROKE||a.fillText(e,t,i),h!==s.TextRenderingMode.STROKE&&h!==s.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,i)),u){const e=this.pendingTextPaths||(this.pendingTextPaths=[]);e.push({transform:(0,n.getCurrentTransform)(a),x:t,y:i,fontSize:d,addToPath:f})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(0===a)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,h=t.fontDirection,u=t.textHScale*h,p=e.length,f=i.vertical,g=f?1:-1,v=i.defaultVMetrics,_=a*t.fontMatrix[0],m=t.textRenderingMode===s.TextRenderingMode.FILL&&!i.disableFontFace&&!t.patternFill;let y;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),h>0?o.scale(u,-1):o.scale(u,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,n.getCurrentTransformInverse)(o),r.PathType.FILL);y=(0,n.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let b=t.lineWidth;const P=t.textMatrixScale;if(0===P||0===b){const e=t.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;e!==s.TextRenderingMode.STROKE&&e!==s.TextRenderingMode.FILL_STROKE||(b=this.getSinglePixelWidth())}else b/=P;if(1!==l&&(o.scale(l,l),b/=l),o.lineWidth=b,i.isInvalidPDFjsFont){const i=[];let s=0;for(const t of e)i.push(t.unicode),s+=t.width;return o.fillText(i.join(""),0,0),t.x+=s*_*u,o.restore(),void this.compose()}let A,w=0;for(A=0;A<p;++A){const t=e[A];if("number"===typeof t){w+=g*t*a/1e3;continue}let s=!1;const n=(t.isSpace?d:0)+c,r=t.fontChar,u=t.accent;let p,b,P,S=t.width;if(f){const e=t.vmetric||v,i=-(t.vmetric?e[1]:.5*S)*_,s=e[2]*_;S=e?-e[0]:S,p=i/l,b=(w+s)/l}else p=w/l,b=0;if(i.remeasure&&S>0){const e=1e3*o.measureText(r).width/a*l;if(S<e&&this.isFontSubpixelAAEnabled){const t=S/e;s=!0,o.save(),o.scale(t,1),p/=t}else S!==e&&(p+=(S-e)/2e3*a/l)}if(this.contentVisible&&(t.isInFont||i.missingFile))if(m&&!u)o.fillText(r,p,b);else if(this.paintChar(r,p,b,y),u){const e=p+a*u.offset.x/l,t=b-a*u.offset.y/l;this.paintChar(u.fontChar,e,t,y)}P=f?S*_-n*h:S*_+n*h,w+=P,s&&o.restore()}f?t.y-=w:t.x+=w*u,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,n=i.font,r=i.fontSize,a=i.fontDirection,o=n.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,d=i.textHScale*a,h=i.fontMatrix||s.FONT_IDENTITY_MATRIX,u=e.length,p=i.textRenderingMode===s.TextRenderingMode.INVISIBLE;let f,g,v,_;if(!p&&0!==r){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(d,a),f=0;f<u;++f){if(g=e[f],"number"===typeof g){_=o*g*r/1e3,this.ctx.translate(_,0),i.x+=_*d;continue}const a=(g.isSpace?c:0)+l,u=n.charProcOperatorList[g.operatorListId];if(!u){(0,s.warn)(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(r,r),t.transform(...h),this.executeOperatorList(u),this.restore());const p=s.Util.applyTransform([g.width,0],h);v=p[0]*r+a,t.translate(v,0),i.x+=v*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,n,r){this.ctx.rect(i,s,n-i,r-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const i=e[1],s=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),a={createCanvasGraphics:e=>new D(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new r.TilingPattern(e,i,this.ctx,a,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const n=s.Util.makeHexColor(e,t,i);this.ctx.strokeStyle=n,this.current.strokeColor=n}setFillRGBColor(e,t,i){const n=s.Util.makeHexColor(e,t,i);this.ctx.fillStyle=n,this.current.fillColor=n,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=(0,r.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,(0,n.getCurrentTransformInverse)(t),r.PathType.SHADING);const a=(0,n.getCurrentTransformInverse)(t);if(a){const e=t.canvas,i=e.width,n=e.height,r=s.Util.applyTransform([0,0],a),o=s.Util.applyTransform([0,n],a),l=s.Util.applyTransform([i,0],a),c=s.Util.applyTransform([i,n],a),d=Math.min(r[0],o[0],l[0],c[0]),h=Math.min(r[1],o[1],l[1],c[1]),u=Math.max(r[0],o[0],l[0],c[0]),p=Math.max(r[1],o[1],l[1],c[1]);this.ctx.fillRect(d,h,u-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],e,i),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,s.info)("TODO: Support non-isolated groups."),e.knockout&&(0,s.warn)("Knockout groups not supported.");const i=(0,n.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=s.Util.getAxialAlignedBoundingBox(e.bbox,(0,n.getCurrentTransform)(t));const a=[0,0,t.canvas.width,t.canvas.height];r=s.Util.intersect(r,a)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]);let c=Math.max(Math.ceil(r[2])-o,1),h=Math.max(Math.ceil(r[3])-l,1),u=1,p=1;c>d&&(u=c/d,c=d),h>d&&(p=h/d,h=d),this.current.startNewPathAndClipBox([0,0,c,h]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,c,h),v=g.context;v.scale(1/u,1/p),v.translate(-o,-l),v.transform(...i),e.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,scaleX:u,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.scale(u,p),t.save()),A(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const i=s.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,i,r,a){if(_classPrivateFieldLooseBase(this,R)[R](),w(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const r=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=r,t[3]=o;const[a,l]=s.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,d=Math.ceil(r*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:u,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,o*l),w(this.ctx)}else w(this.ctx),this.ctx.rect(t[0],t[1],r,o),this.ctx.clip(),this.endPath()}this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_classPrivateFieldLooseBase(this,I)[I](),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this.processingType3;if(s&&(void 0===s.compiled&&(s.compiled=m(e)),s.compiled))return void s.compiled(i);const n=this._createMaskCanvas(e),r=n.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,n.offsetX,n.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,a,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,n.getCurrentTransform)(l);l.transform(t,i,r,a,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let n=0,h=o.length;n<h;n+=2){const e=s.Util.transform(c,[t,i,r,a,o[n],o[n+1]]),[h,u]=s.Util.applyTransform([0,0],e);l.drawImage(d.canvas,h,u)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const a of e){const{data:e,width:o,height:l,transform:c}=a,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const u=this.getObject(e,a);P(h,u),h.globalCompositeOperation="source-in",h.fillStyle=s?i.getPattern(h,this,(0,n.getCurrentTransformInverse)(t),r.PathType.FILL):i,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),_(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,i,n){if(!this.contentVisible)return;const r=this.getObject(e);if(!r)return void(0,s.warn)("Dependent image isn't ready yet");const a=r.width,o=r.height,l=[];for(let s=0,c=n.length;s<c;s+=2)l.push({transform:[t,0,0,i,n[s],n[s+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:i,height:s}=e,n=this.cachedCanvases.getCanvas("inlineImage",i,s),r=n.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",n.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;let r;if(this.save(),o.isNodeJS||(s.filter="none"),s.scale(1/t,-1/i),e.bitmap)r=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)r=e;else{const s=this.cachedCanvases.getCanvas("inlineImage",t,i),n=s.context;b(n,e),r=this.applyTransferMapsToCanvas(n)}const a=this._scaleImage(r,(0,n.getCurrentTransformInverse)(s));s.imageSmoothingEnabled=C((0,n.getCurrentTransform)(s),e.interpolate),_(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,i=e.height,n=this.cachedCanvases.getCanvas("inlineImage",t,i),r=n.context;b(r,e),s=this.applyTransferMapsToCanvas(r)}for(const n of t)i.save(),i.transform(...n.transform),i.scale(1,-1),_(i,s,n.x,n.y,n.w,n.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===M?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,n.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=(0,n.getCurrentTransform)(this.ctx);let i,s;if(0===t[1]&&0===t[2]){const n=Math.abs(t[0]),r=Math.abs(t[3]);if(0===e)i=1/n,s=1/r;else{const t=n*e,a=r*e;i=t<1?1/t:1,s=a<1?1/a:1}}else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[1]),a=Math.hypot(t[2],t[3]);if(0===e)i=a/n,s=r/n;else{const t=e*n;i=a>t?a/t:1,s=r>t?r/t:1}}this._cachedScaleForStroking=[i,s]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[s,r]=this.getScaleForStroking();if(t.lineWidth=i||1,1===s&&1===r)return void t.stroke();let a,o,l;e&&(a=(0,n.getCurrentTransform)(t),o=t.getLineDash().slice(),l=t.lineDashOffset),t.scale(s,r);const c=Math.max(s,r);t.setLineDash(t.getLineDash().map((e=>e/c))),t.lineDashOffset/=c,t.stroke(),e&&(t.setTransform(...a),t.setLineDash(o),t.lineDashOffset=l)}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function B(){while(this.stateStack.length||this.inSMaskMode)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function N(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}t.CanvasGraphics=D;for(const j in s.OPS)void 0!==D.prototype[j]&&(D.prototype[s.OPS[j]]=D.prototype[j])},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=p;var s=i(1),n=i(6);const r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t)return;const i=t[2]-t[0],s=t[3]-t[1],n=new Path2D;n.rect(t[0],t[1],i,s),e.clip(n)}t.PathType=r;class o{constructor(){this.constructor===o&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,o){let l;if(o===r.STROKE||o===r.FILL){const r=t.current.getClippedPathBoundingBox(o,(0,n.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(r[2]-r[0])||1,d=Math.ceil(r[3]-r[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,d,!0),u=h.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-r[0],-r[1]),i=s.Util.transform(i,[1,0,0,1,r[0],r[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),a(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),l=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(i);l.setTransform(p)}else a(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,i,s,n,r,a,o){const l=t.coords,c=t.colors,d=e.data,h=4*e.width;let u;l[i+1]>l[s+1]&&(u=i,i=s,s=u,u=r,r=a,a=u),l[s+1]>l[n+1]&&(u=s,s=n,n=u,u=a,a=o,o=u),l[i+1]>l[s+1]&&(u=i,i=s,s=u,u=r,r=a,a=u);const p=(l[i]+t.offsetX)*t.scaleX,f=(l[i+1]+t.offsetY)*t.scaleY,g=(l[s]+t.offsetX)*t.scaleX,v=(l[s+1]+t.offsetY)*t.scaleY,_=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY;if(f>=m)return;const y=c[r],b=c[r+1],P=c[r+2],A=c[a],w=c[a+1],S=c[a+2],x=c[o],L=c[o+1],E=c[o+2],F=Math.round(f),C=Math.round(m);let T,k,O,M,R,I,D,B;for(let N=F;N<=C;N++){if(N<v){let e;e=N<f?0:(f-N)/(f-v),T=p-(p-g)*e,k=y-(y-A)*e,O=b-(b-w)*e,M=P-(P-S)*e}else{let e;e=N>m?1:v===m?0:(v-N)/(v-m),T=g-(g-_)*e,k=A-(A-x)*e,O=w-(w-L)*e,M=S-(S-E)*e}let e;e=N<f?0:N>m?1:(f-N)/(f-m),R=p-(p-_)*e,I=y-(y-x)*e,D=b-(b-L)*e,B=P-(P-E)*e;const t=Math.round(Math.min(T,R)),i=Math.round(Math.max(T,R));let s=h*N+4*t;for(let n=t;n<=i;n++)e=(T-n)/(T-R),e<0?e=0:e>1&&(e=1),d[s++]=k-(k-I)*e|0,d[s++]=O-(O-D)*e|0,d[s++]=M-(M-B)*e|0,d[s++]=255}}function d(e,t,i){const s=t.coords,n=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(s.length/o)-1,d=o-1;for(r=0;r<l;r++){let t=r*o;for(let r=0;r<d;r++,t++)c(e,i,s[t],s[t+1],s[t+o],n[t],n[t+1],n[t+o]),c(e,i,s[t+o+1],s[t+1],s[t+o],n[t+o+1],n[t+1],n[t+o])}break;case"triangles":for(r=0,a=s.length;r<a;r+=3)c(e,i,s[r],s[r+1],s[r+2],n[r],n[r+1],n[r+2]);break;default:throw new Error("illegal figure")}}class h extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const s=1.1,n=3e3,r=2,a=Math.floor(this._bounds[0]),o=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-o,h=Math.min(Math.ceil(Math.abs(l*e[0]*s)),n),u=Math.min(Math.ceil(Math.abs(c*e[1]*s)),n),p=l/h,f=c/u,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-o,scaleX:1/p,scaleY:1/f},v=h+2*r,_=u+2*r,m=i.getCanvas("mesh",v,_,!1),y=m.context,b=y.createImageData(h,u);if(t){const e=b.data;for(let i=0,s=e.length;i<s;i+=4)e[i]=t[0],e[i+1]=t[1],e[i+2]=t[2],e[i+3]=255}for(const A of this._figures)d(b,A,g);y.putImageData(b,r,r);const P=m.canvas;return{canvas:P,offsetX:a-r*p,offsetY:o-r*f,scaleX:p,scaleY:f}}getPattern(e,t,i,o){let l;if(a(e,this._bbox),o===r.SHADING)l=s.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(e));else if(l=s.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=s.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===r.SHADING?null:this._background,t.cachedCanvases);return o!==r.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class u extends o{getPattern(){return"hotpink"}}function p(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new h(e);case"Dummy":return new u}throw new Error(`Unknown IR type: ${e[0]}`)}const f={COLORED:1,UNCOLORED:2};class g{constructor(e,t,i,s,n){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=n}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+l);const h=i[0],u=i[1],p=i[2],f=i[3],g=s.Util.singularValueDecompose2dScale(this.matrix),v=s.Util.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*v[0],g[1]*v[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,_[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,_[1]),b=e.cachedCanvases.getCanvas("pattern",m.size,y.size,!0),P=b.context,A=d.createCanvasGraphics(P);A.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(A,o,c);let w=h,S=u,x=p,L=f;return h<0&&(w=0,x+=Math.abs(h)),u<0&&(S=0,L+=Math.abs(u)),P.translate(-m.scale*w,-y.scale*S),A.transform(m.scale,0,0,y.scale,0,0),P.save(),this.clipBbox(A,w,S,x,L),A.baseTransform=(0,n.getCurrentTransform)(A.ctx),A.executeOperatorList(t),A.endDrawing(),{canvas:b.canvas,scaleX:m.scale,scaleY:y.scale,offsetX:w,offsetY:S}}getSizeAndScale(e,t,i){e=Math.abs(e);const s=Math.max(g.MAX_PATTERN_SIZE,t);let n=Math.ceil(e*i);return n>=s?n=s:i=n/e,{scale:i,size:n}}clipBbox(e,t,i,s,r){const a=s-t,o=r-i;e.ctx.rect(t,i,a,o),e.current.updateRectMinMax((0,n.getCurrentTransform)(e.ctx),[t,i,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const n=e.ctx,r=e.current;switch(t){case f.COLORED:const e=this.ctx;n.fillStyle=e.fillStyle,n.strokeStyle=e.strokeStyle,r.fillColor=e.fillStyle,r.strokeColor=e.strokeStyle;break;case f.UNCOLORED:const a=s.Util.makeHexColor(i[0],i[1],i[2]);n.fillStyle=a,n.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new s.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,n){let a=i;n!==r.SHADING&&(a=s.Util.transform(a,t.baseTransform),this.matrix&&(a=s.Util.transform(a,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}g.MAX_PATTERN_SIZE=3e3,t.TilingPattern=g},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=r,t.convertToRGBA=n,t.grayToRGBA=o;var s=i(1);function n(e){switch(e.kind){case s.ImageKind.GRAYSCALE_1BPP:return r(e);case s.ImageKind.RGB_24BPP:return a(e)}return null}function r({src:e,srcPos:t=0,dest:i,width:n,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const l=s.FeatureTest.isLittleEndian?4278190080:255,[c,d]=o?[a,l]:[l,a],h=n>>3,u=7&n,p=e.length;i=new Uint32Array(i.buffer);let f=0;for(let s=0;s<r;s++){for(const n=t+h;t<n;t++){const s=t<p?e[t]:255;i[f++]=128&s?d:c,i[f++]=64&s?d:c,i[f++]=32&s?d:c,i[f++]=16&s?d:c,i[f++]=8&s?d:c,i[f++]=4&s?d:c,i[f++]=2&s?d:c,i[f++]=1&s?d:c}if(0===u)continue;const s=t<p?e[t++]:255;for(let e=0;e<u;e++)i[f++]=s&1<<7-e?d:c}return{srcPos:t,destPos:f}}function a({src:e,srcPos:t=0,dest:i,destPos:n=0,width:r,height:a}){let o=0;const l=e.length>>2,c=new Uint32Array(e.buffer,t,l);if(s.FeatureTest.isLittleEndian){for(;o<l-2;o+=3,n+=4){const e=c[o],t=c[o+1],s=c[o+2];i[n]=4278190080|e,i[n+1]=e>>>24|t<<8|4278190080,i[n+2]=t>>>16|s<<16|4278190080,i[n+3]=s>>>8|4278190080}for(let t=4*o,s=e.length;t<s;t+=3)i[n++]=e[t]|e[t+1]<<8|e[t+2]<<16|4278190080}else{for(;o<l-2;o+=3,n+=4){const e=c[o],t=c[o+1],s=c[o+2];i[n]=255|e,i[n+1]=e<<24|t>>>8|255,i[n+2]=t<<16|s>>>16|255,i[n+3]=s<<8|255}for(let t=4*o,s=e.length;t<s;t+=3)i[n++]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|255}return{srcPos:t,destPos:n}}function o(e,t){if(s.FeatureTest.isLittleEndian)for(let i=0,s=e.length;i<s;i++)t[i]=65793*e[i]|4278190080;else for(let i=0,s=e.length;i<s;i++)t[i]=16843008*e[i]|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const i=Object.create(null);t.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var s=i(1);const n={UNKNOWN:0,DATA:1,ERROR:2},r={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function a(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new s.AbortException(e.message);case"MissingPDFException":return new s.MissingPDFException(e.message);case"PasswordException":return new s.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new s.UnknownErrorException(e.message,e.details);default:return new s.UnknownErrorException(e.message,e.toString())}}var o=_classPrivateFieldLooseKey("createStreamSink"),l=_classPrivateFieldLooseKey("processStreamMessage"),c=_classPrivateFieldLooseKey("deleteStreamController");class d{constructor(e,t,i){Object.defineProperty(this,c,{value:p}),Object.defineProperty(this,l,{value:u}),Object.defineProperty(this,o,{value:h}),this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void _classPrivateFieldLooseBase(this,l)[l](t);if(t.callback){const e=t.callbackId,i=this.callbackCapabilities[e];if(!i)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===n.DATA)i.resolve(t.data);else{if(t.callback!==n.ERROR)throw new Error("Unexpected callback case");i.reject(a(t.reason))}return}const s=this.actionHandler[t.action];if(!s)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,r=t.sourceName;new Promise((function(e){e(s(t.data))})).then((function(s){i.postMessage({sourceName:e,targetName:r,callback:n.DATA,callbackId:t.callbackId,data:s})}),(function(s){i.postMessage({sourceName:e,targetName:r,callback:n.ERROR,callbackId:t.callbackId,reason:a(s)})}))}else t.streamId?_classPrivateFieldLooseBase(this,o)[o](t):s(t.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const n=this.callbackId++,r=new s.PromiseCapability;this.callbackCapabilities[n]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,i,n){const o=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:i=>{const r=new s.PromiseCapability;return this.streamControllers[o]={controller:i,startCall:r,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:o,data:t,desiredSize:i.desiredSize},n),r.promise},pull:e=>{const t=new s.PromiseCapability;return this.streamControllers[o].pullCall=t,d.postMessage({sourceName:l,targetName:c,stream:r.PULL,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,s.assert)(e instanceof Error,"cancel must have a valid reason");const t=new s.PromiseCapability;return this.streamControllers[o].cancelCall=t,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:r.CANCEL,streamId:o,reason:a(e)}),t.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}function h(e){const t=e.streamId,i=this.sourceName,n=e.sourceName,o=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(e,a=1,l){if(this.isCancelled)return;const c=this.desiredSize;this.desiredSize-=a,c>0&&this.desiredSize<=0&&(this.sinkCapability=new s.PromiseCapability,this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:n,stream:r.ENQUEUE,streamId:t,chunk:e},l)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:n,stream:r.CLOSE,streamId:t}),delete l.streamSinks[t])},error(e){(0,s.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:n,stream:r.ERROR,streamId:t,reason:a(e)}))},sinkCapability:new s.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise((function(t){t(c(e.data,d))})).then((function(){o.postMessage({sourceName:i,targetName:n,stream:r.START_COMPLETE,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:i,targetName:n,stream:r.START_COMPLETE,streamId:t,reason:a(e)})}))}function u(e){const t=e.streamId,i=this.sourceName,n=e.sourceName,o=this.comObj,l=this.streamControllers[t],d=this.streamSinks[t];switch(e.stream){case r.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(a(e.reason));break;case r.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(a(e.reason));break;case r.PULL:if(!d){o.postMessage({sourceName:i,targetName:n,stream:r.PULL_COMPLETE,streamId:t,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,new Promise((function(e){e(d.onPull?.())})).then((function(){o.postMessage({sourceName:i,targetName:n,stream:r.PULL_COMPLETE,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:i,targetName:n,stream:r.PULL_COMPLETE,streamId:t,reason:a(e)})}));break;case r.ENQUEUE:if((0,s.assert)(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case r.CLOSE:if((0,s.assert)(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),_classPrivateFieldLooseBase(this,c)[c](l,t);break;case r.ERROR:(0,s.assert)(l,"error should have stream controller"),l.controller.error(a(e.reason)),_classPrivateFieldLooseBase(this,c)[c](l,t);break;case r.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(a(e.reason)),_classPrivateFieldLooseBase(this,c)[c](l,t);break;case r.CANCEL:if(!d)break;new Promise((function(t){t(d.onCancel?.(a(e.reason)))})).then((function(){o.postMessage({sourceName:i,targetName:n,stream:r.CANCEL_COMPLETE,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:i,targetName:n,stream:r.CANCEL_COMPLETE,streamId:t,reason:a(e)})})),d.sinkCapability.reject(a(e.reason)),d.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function p(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}t.MessageHandler=d},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var s=i(1),n=_classPrivateFieldLooseKey("metadataMap"),r=_classPrivateFieldLooseKey("data");class a{constructor({parsedData:e,rawData:t}){Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:void 0}),_classPrivateFieldLooseBase(this,n)[n]=e,_classPrivateFieldLooseBase(this,r)[r]=t}getRaw(){return _classPrivateFieldLooseBase(this,r)[r]}get(e){return _classPrivateFieldLooseBase(this,n)[n].get(e)??null}getAll(){return(0,s.objectFromMap)(_classPrivateFieldLooseBase(this,n)[n])}has(e){return _classPrivateFieldLooseBase(this,n)[n].has(e)}}t.Metadata=a},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var s=i(1),n=i(8);const r=Symbol("INTERNAL");var a=_classPrivateFieldLooseKey("visible");class o{constructor(e,t){Object.defineProperty(this,a,{writable:!0,value:!0}),this.name=e,this.intent=t}get visible(){return _classPrivateFieldLooseBase(this,a)[a]}_setVisible(e,t){e!==r&&(0,s.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldLooseBase(this,a)[a]=t}}var l=_classPrivateFieldLooseKey("cachedGetHash"),c=_classPrivateFieldLooseKey("groups"),d=_classPrivateFieldLooseKey("initialHash"),h=_classPrivateFieldLooseKey("order"),u=_classPrivateFieldLooseKey("evaluateVisibilityExpression");class p{constructor(e){if(Object.defineProperty(this,u,{value:f}),Object.defineProperty(this,l,{writable:!0,value:null}),Object.defineProperty(this,c,{writable:!0,value:new Map}),Object.defineProperty(this,d,{writable:!0,value:null}),Object.defineProperty(this,h,{writable:!0,value:null}),this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,_classPrivateFieldLooseBase(this,h)[h]=e.order;for(const t of e.groups)_classPrivateFieldLooseBase(this,c)[c].set(t.id,new o(t.name,t.intent));if("OFF"===e.baseState)for(const e of _classPrivateFieldLooseBase(this,c)[c].values())e._setVisible(r,!1);for(const t of e.on)_classPrivateFieldLooseBase(this,c)[c].get(t)._setVisible(r,!0);for(const t of e.off)_classPrivateFieldLooseBase(this,c)[c].get(t)._setVisible(r,!1);_classPrivateFieldLooseBase(this,d)[d]=this.getHash()}}isVisible(e){if(0===_classPrivateFieldLooseBase(this,c)[c].size)return!0;if(!e)return(0,s.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return _classPrivateFieldLooseBase(this,c)[c].has(e.id)?_classPrivateFieldLooseBase(this,c)[c].get(e.id).visible:((0,s.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return _classPrivateFieldLooseBase(this,u)[u](e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldLooseBase(this,c)[c].has(t))return(0,s.warn)(`Optional content group not found: ${t}`),!0;if(_classPrivateFieldLooseBase(this,c)[c].get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldLooseBase(this,c)[c].has(t))return(0,s.warn)(`Optional content group not found: ${t}`),!0;if(!_classPrivateFieldLooseBase(this,c)[c].get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldLooseBase(this,c)[c].has(t))return(0,s.warn)(`Optional content group not found: ${t}`),!0;if(!_classPrivateFieldLooseBase(this,c)[c].get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldLooseBase(this,c)[c].has(t))return(0,s.warn)(`Optional content group not found: ${t}`),!0;if(_classPrivateFieldLooseBase(this,c)[c].get(t).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,s.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){_classPrivateFieldLooseBase(this,c)[c].has(e)?(_classPrivateFieldLooseBase(this,c)[c].get(e)._setVisible(r,!!t),_classPrivateFieldLooseBase(this,l)[l]=null):(0,s.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){return this.getHash()===_classPrivateFieldLooseBase(this,d)[d]}getOrder(){return _classPrivateFieldLooseBase(this,c)[c].size?_classPrivateFieldLooseBase(this,h)[h]?_classPrivateFieldLooseBase(this,h)[h].slice():[..._classPrivateFieldLooseBase(this,c)[c].keys()]:null}getGroups(){return _classPrivateFieldLooseBase(this,c)[c].size>0?(0,s.objectFromMap)(_classPrivateFieldLooseBase(this,c)[c]):null}getGroup(e){return _classPrivateFieldLooseBase(this,c)[c].get(e)||null}getHash(){if(null!==_classPrivateFieldLooseBase(this,l)[l])return _classPrivateFieldLooseBase(this,l)[l];const e=new n.MurmurHash3_64;for(const[t,i]of _classPrivateFieldLooseBase(this,c)[c])e.update(`${t}:${i.visible}`);return _classPrivateFieldLooseBase(this,l)[l]=e.hexdigest()}}function f(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let n=1;n<t;n++){const t=e[n];let r;if(Array.isArray(t))r=_classPrivateFieldLooseBase(this,u)[u](t);else{if(!_classPrivateFieldLooseBase(this,c)[c].has(t))return(0,s.warn)(`Optional content group not found: ${t}`),!0;r=_classPrivateFieldLooseBase(this,c)[c].get(t).visible}switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===i}t.OptionalContentConfig=p},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var s=i(1),n=i(6);class r{constructor({length:e,initialData:t,progressiveDone:i=!1,contentDispositionFilename:n=null,disableRange:r=!1,disableStream:a=!1},o){if((0,s.assert)(o,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=n,t?.length>0){const e=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=o,this._isStreamingSupported=!a,this._isRangeSupported=!r,this._contentLength=e,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const t=this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)}));(0,s.assert)(t,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new a(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new o(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=r;class a{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=(0,n.isPdfFile)(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const n of this._queuedChunks)this._loaded+=n.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){const t=this._requests.shift();t.resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){const e=this._queuedChunks.shift();return{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new s.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{const t=this._requests.shift();t.resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new s.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class i{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function n(e){if(!e)return;let s=null;const r=e.name;if("#text"===r)s=e.value;else{if(!i.shouldBuildText(r))return;e?.attributes?.textContent?s=e.attributes.textContent:e.value&&(s=e.value)}if(null!==s&&t.push({str:s}),e.children)for(const t of e.children)n(t)}return n(e),s}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var s=i(7);const n=function(e){return new Promise(((t,i)=>{const s=__webpack_require__(3237);s.readFile(e,((e,s)=>{!e&&s?t(new Uint8Array(s)):i(new Error(e))}))}))};class r extends s.BaseFilterFactory{}t.NodeFilterFactory=r;class a extends s.BaseCanvasFactory{_createCanvas(e,t){const i=__webpack_require__(7640);return i.createCanvas(e,t)}}t.NodeCanvasFactory=a;class o extends s.BaseCMapReaderFactory{_fetchData(e,t){return n(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=o;class l extends s.BaseStandardFontDataFactory{_fetchData(e){return n(e)}}t.NodeStandardFontDataFactory=l},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var s=i(1),n=i(22);const r=__webpack_require__(3237),a=__webpack_require__(7492),o=__webpack_require__(1815),l=__webpack_require__(6671),c=/^file:\/\/\/[a-zA-Z]:\//;function d(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}class h{constructor(e){this.source=e,this.url=d(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _(this):new g(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new m(this,e,t):new v(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}t.PDFNodeStream=h;class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new s.PromiseCapability,this._headersCapability=new s.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=new s.PromiseCapability,this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});const t=new Uint8Array(e).buffer;return{value:t,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new s.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=new s.PromiseCapability,this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});const t=new Uint8Array(e).buffer;return{value:t,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function f(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class g extends u{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new s.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const i=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(i)};this._request=null,"http:"===this._url.protocol?this._request=a.request(f(this._url,e.httpHeaders),t):this._request=o.request(f(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class v extends p{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const t=e.httpHeaders[s];void 0!==t&&(this._httpHeaders[s]=t)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const n=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=a.request(f(this._url,this._httpHeaders),n):this._request=o.request(f(this._url,this._httpHeaders),n),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class _ extends u{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),r.lstat(t,((e,i)=>{if(e)return"ENOENT"===e.code&&(e=new s.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()}))}}class m extends p{constructor(e,t,i){super(e);let s=decodeURIComponent(this._url.path);c.test(this._url.href)&&(s=s.replace(/^\//,"")),this._setReadableStream(r.createReadStream(s,{start:t,end:i-1}))}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=l,t.extractFilenameFromHeader=o,t.validateRangeRequestCapabilities=a,t.validateResponseStatus=c;var s=i(1),n=i(23),r=i(6);function a({getResponseHeader:e,isHttp:t,rangeChunkSize:i,disableRange:s}){const n={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(e("Content-Length"),10);if(!Number.isInteger(r))return n;if(n.suggestedLength=r,r<=2*i)return n;if(s||!t)return n;if("bytes"!==e("Accept-Ranges"))return n;const a=e("Content-Encoding")||"identity";return"identity"!==a||(n.allowRangeRequests=!0),n}function o(e){const t=e("Content-Disposition");if(t){let e=(0,n.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(i){}if((0,r.isPdfFile)(e))return e}return null}function l(e,t){return 404===e||0===e&&t.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+t+'".'):new s.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function c(e){return 200===e||206===e}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=n;var s=i(1);function n(e){let t=!0,i=n("filename\\*","i").exec(e);if(i){i=i[1];let e=l(i);return e=unescape(e),e=c(e),e=d(e),a(e)}if(i=o(e),i){const e=d(i);return a(e)}if(i=n("filename","i").exec(e),i){i=i[1];let e=l(i);return e=d(e),a(e)}function n(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,i){if(e){if(!/^[\x00-\xFF]+$/.test(i))return i;try{const n=new TextDecoder(e,{fatal:!0}),r=(0,s.stringToBytes)(i);i=n.decode(r),t=!1}catch(n){}}return i}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function o(e){const t=[];let i;const s=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while(null!==(i=s.exec(e))){let[,e,s,n]=i;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[s,n]}const r=[];for(let n=0;n<t.length;++n){if(!(n in t))break;let[e,i]=t[n];i=l(i),e&&(i=unescape(i),0===n&&(i=c(i))),r.push(i)}return r.join("")}function l(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const i=t[e].indexOf('"');-1!==i&&(t[e]=t[e].slice(0,i),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){const t=e.indexOf("'");if(-1===t)return e;const i=e.slice(0,t),s=e.slice(t+1),n=s.replace(/^[^']*'/,"");return r(i,n)}function d(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,i,s){if("q"===i||"Q"===i)return s=s.replaceAll("_"," "),s=s.replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})),r(t,s);try{s=atob(s)}catch(n){}return r(t,s)}))}return""}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var s=i(1),n=i(22);const r=200,a=206;function o(e){const t=e.response;return"string"!==typeof t?t:(0,s.stringToBytes)(t).buffer}class l{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const s={begin:e,end:t};for(const n in i)s[n]=i[n];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const n in this.httpHeaders){const e=this.httpHeaders[n];void 0!==e&&t.setRequestHeader(n,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=a):s.expectedStatus=r,t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){const i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==s.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===s.status&&this.isHttp)return void i.onError?.(s.status);const n=s.status||r,l=n===r&&i.expectedStatus===a;if(!l&&n!==i.expectedStatus)return void i.onError?.(s.status);const c=o(s);if(n===a){const e=s.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);i.onDone({begin:parseInt(t[1],10),chunk:c})}else c?i.onDone({begin:0,chunk:c}):i.onError?.(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class c{constructor(e){this._source=e,this._manager=new l(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new h(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}t.PDFNetworkStream=c;class d{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=new s.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=e=>t.getResponseHeader(e),{allowRangeRequests:s,suggestedLength:r}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){const t=this._requests.shift();t.resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,n.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){const e=this._cachedChunks.shift();return{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new s.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h{constructor(e,t,i){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){const e=this._requests.shift();e.resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,n.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new s.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var s=i(1),n=i(22);function r(e,t,i){return{method:"GET",headers:e,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const i in e){const s=e[i];void 0!==s&&t.append(i,s)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,s.warn)(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class l{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new d(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}t.PDFFetchStream=l;class c{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new s.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const i=t.url;fetch(i,r(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,n.validateResponseStatus)(e.status))throw(0,n.createResponseStatusError)(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:r,suggestedLength:a}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class d{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=new s.PromiseCapability,this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const l=o.url;fetch(l,r(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,n.validateResponseStatus)(e.status))throw(0,n.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=g,t.updateTextLayer=v;var s=i(1),n=i(6);const r=1e5,a=30,o=.8,l=new Map;function c(e,t){let i;if(t&&s.FeatureTest.isOffscreenCanvasSupported)i=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,i=t.getContext("2d",{alpha:!1})}return i}function d(e,t){const i=l.get(e);if(i)return i;const s=c(a,t);s.font=`${a}px ${e}`;const n=s.measureText("");let r=n.fontBoundingBoxAscent,d=Math.abs(n.fontBoundingBoxDescent);if(r){const t=r/(r+d);return l.set(e,t),s.canvas.width=s.canvas.height=0,t}s.strokeStyle="red",s.clearRect(0,0,a,a),s.strokeText("g",0,0);let h=s.getImageData(0,0,a,a).data;d=0;for(let o=h.length-1-3;o>=0;o-=4)if(h[o]>0){d=Math.ceil(o/4/a);break}s.clearRect(0,0,a,a),s.strokeText("A",0,a),h=s.getImageData(0,0,a,a).data,r=0;for(let o=0,l=h.length;o<l;o+=4)if(h[o]>0){r=a-Math.floor(o/4/a);break}if(s.canvas.width=s.canvas.height=0,r){const t=r/(r+d);return l.set(e,t),t}return l.set(e,o),o}function h(e,t,i){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(n);const a=s.Util.transform(e._transform,t.transform);let o=Math.atan2(a[1],a[0]);const l=i[t.fontName];l.vertical&&(o+=Math.PI/2);const c=Math.hypot(a[2],a[3]),h=c*d(l.fontFamily,e._isOffscreenCanvasSupported);let u,p;0===o?(u=a[4],p=a[5]-h):(u=a[4]+h*Math.sin(o),p=a[5]-h*Math.cos(o));const f="calc(var(--scale-factor)*",g=n.style;e._container===e._rootContainer?(g.left=`${(100*u/e._pageWidth).toFixed(2)}%`,g.top=`${(100*p/e._pageHeight).toFixed(2)}%`):(g.left=`${f}${u.toFixed(2)}px)`,g.top=`${f}${p.toFixed(2)}px)`),g.fontSize=`${f}${c.toFixed(2)}px)`,g.fontFamily=l.fontFamily,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,e._fontInspectorEnabled&&(n.dataset.fontName=t.fontName),0!==o&&(r.angle=o*(180/Math.PI));let v=!1;if(t.str.length>1)v=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),i=Math.abs(t.transform[3]);e!==i&&Math.max(e,i)/Math.min(e,i)>1.5&&(v=!0)}v&&(r.canvasWidth=l.vertical?t.height:t.width),e._textDivProperties.set(n,r),e._isReadableStream&&e._layoutText(n)}function u(e){const{div:t,scale:i,properties:s,ctx:n,prevFontSize:r,prevFontFamily:a}=e,{style:o}=t;let l="";if(0!==s.canvasWidth&&s.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:h}=s;r===h&&a===c||(n.font=`${h*i}px ${c}`,e.prevFontSize=h,e.prevFontFamily=c);const{width:u}=n.measureText(t.textContent);u>0&&(l=`scaleX(${d*i/u})`)}0!==s.angle&&(l=`rotate(${s.angle}deg) ${l}`),l.length>0&&(o.transform=l)}function p(e){if(e._canceled)return;const t=e._textDivs,i=e._capability,s=t.length;if(s>r)i.resolve();else{if(!e._isReadableStream)for(const i of t)e._layoutText(i);i.resolve()}}class f{constructor({textContentSource:e,container:t,viewport:i,textDivs:r,textDivProperties:a,textContentItemsStr:o,isOffscreenCanvasSupported:l}){this._textContentSource=e,this._isReadableStream=e instanceof ReadableStream,this._container=this._rootContainer=t,this._textDivs=r||[],this._textContentItemsStr=o||[],this._isOffscreenCanvasSupported=l,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=a||new WeakMap,this._canceled=!1,this._capability=new s.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:i.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:c(0,l)};const{pageWidth:d,pageHeight:h,pageX:u,pageY:p}=i.rawDims;this._transform=[1,0,0,-1,-u,p+h],this._pageWidth=d,this._pageHeight=h,(0,n.setLayerDimensions)(t,i),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new s.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const i of e)if(void 0!==i.str)this._textContentItemsStr.push(i.str),h(this,i,t);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==i.id&&this._container.setAttribute("id",`${i.id}`),e.append(this._container)}else"endMarkedContent"===i.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,u(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new s.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const i=()=>{this._reader.read().then((({value:s,done:n})=>{n?e.resolve():(Object.assign(t,s.styles),this._processItems(s.items,t),i())}),e.reject)};this._reader=this._textContentSource.getReader(),i()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:i}=this._textContentSource;this._processItems(t,i),e.resolve()}}e.promise.then((()=>{t=null,p(this)}),this._capability.reject)}}function g(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,n.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const{container:t,viewport:i}=e,s=getComputedStyle(t),r=s.getPropertyValue("visibility"),a=parseFloat(s.getPropertyValue("--scale-factor"));"visible"===r&&(!a||Math.abs(a-i.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const o=new f(e);return o._render(),o}function v({container:e,viewport:t,textDivs:i,textDivProperties:s,isOffscreenCanvasSupported:r,mustRotate:a=!0,mustRescale:o=!0}){if(a&&(0,n.setLayerDimensions)(e,{rotation:t.rotation}),o){const e=c(0,r),n=t.scale*(globalThis.devicePixelRatio||1),a={prevFontSize:null,prevFontFamily:null,div:null,scale:n,properties:null,ctx:e};for(const t of i)a.properties=s.get(t),a.div=t,u(a)}}t.TextLayerRenderTask=f},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var s=i(1),n=i(5),r=i(28),a=i(29),o=i(6),l=_classPrivateFieldLooseKey("accessibilityManager"),c=_classPrivateFieldLooseKey("allowClick"),d=_classPrivateFieldLooseKey("boundPointerup"),h=_classPrivateFieldLooseKey("boundPointerdown"),u=_classPrivateFieldLooseKey("editors"),p=_classPrivateFieldLooseKey("hadPointerDown"),f=_classPrivateFieldLooseKey("isCleaningUp"),g=_classPrivateFieldLooseKey("uiManager"),v=_classPrivateFieldLooseKey("changeParent"),_=_classPrivateFieldLooseKey("createNewEditor"),m=_classPrivateFieldLooseKey("createAndAddNewEditor"),y=_classPrivateFieldLooseKey("cleanup");class b{constructor(e){Object.defineProperty(this,y,{value:S}),Object.defineProperty(this,m,{value:w}),Object.defineProperty(this,_,{value:A}),Object.defineProperty(this,v,{value:P}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:!1}),Object.defineProperty(this,d,{writable:!0,value:this.pointerup.bind(this)}),Object.defineProperty(this,h,{writable:!0,value:this.pointerdown.bind(this)}),Object.defineProperty(this,u,{writable:!0,value:new Map}),Object.defineProperty(this,p,{writable:!0,value:!1}),Object.defineProperty(this,f,{writable:!0,value:!1}),Object.defineProperty(this,g,{writable:!0,value:void 0}),b._initialized||(b._initialized=!0,r.FreeTextEditor.initialize(e.l10n),a.InkEditor.initialize(e.l10n)),e.uiManager.registerEditorTypes([r.FreeTextEditor,a.InkEditor]),_classPrivateFieldLooseBase(this,g)[g]=e.uiManager,this.pageIndex=e.pageIndex,this.div=e.div,_classPrivateFieldLooseBase(this,l)[l]=e.accessibilityManager,_classPrivateFieldLooseBase(this,g)[g].addLayer(this)}get isEmpty(){return 0===_classPrivateFieldLooseBase(this,u)[u].size}updateToolbar(e){_classPrivateFieldLooseBase(this,g)[g].updateToolbar(e)}updateMode(e=_classPrivateFieldLooseBase(this,g)[g].getMode()){_classPrivateFieldLooseBase(this,y)[y](),e===s.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldLooseBase(this,g)[g].unselectAll(),e!==s.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===s.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===s.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(!e&&_classPrivateFieldLooseBase(this,g)[g].getMode()!==s.AnnotationEditorType.INK)return;if(!e)for(const i of _classPrivateFieldLooseBase(this,u)[u].values())if(i.isEmpty())return void i.setInBackground();const t=_classPrivateFieldLooseBase(this,m)[m]({offsetX:0,offsetY:0});t.setInBackground()}setEditingState(e){_classPrivateFieldLooseBase(this,g)[g].setEditingState(e)}addCommands(e){_classPrivateFieldLooseBase(this,g)[g].addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of _classPrivateFieldLooseBase(this,u)[u].values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of _classPrivateFieldLooseBase(this,u)[u].values())e.disableEditing();_classPrivateFieldLooseBase(this,y)[y](),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(e){const t=_classPrivateFieldLooseBase(this,g)[g].getActive();t!==e&&_classPrivateFieldLooseBase(this,g)[g].setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldLooseBase(this,h)[h]),this.div.addEventListener("pointerup",_classPrivateFieldLooseBase(this,d)[d])}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldLooseBase(this,h)[h]),this.div.removeEventListener("pointerup",_classPrivateFieldLooseBase(this,d)[d])}attach(e){_classPrivateFieldLooseBase(this,u)[u].set(e.id,e)}detach(e){_classPrivateFieldLooseBase(this,u)[u].delete(e.id),_classPrivateFieldLooseBase(this,l)[l]?.removePointerInTextLayer(e.contentDiv)}remove(e){_classPrivateFieldLooseBase(this,g)[g].removeEditor(e),this.detach(e),e.div.style.display="none",setTimeout((()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldLooseBase(this,g)[g].focusMainContainer()}),0),_classPrivateFieldLooseBase(this,f)[f]||this.addInkEditorIfNeeded(!1)}add(e){if(_classPrivateFieldLooseBase(this,v)[v](e),_classPrivateFieldLooseBase(this,g)[g].addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),_classPrivateFieldLooseBase(this,g)[g].addToAnnotationStorage(e)}moveEditorInDOM(e){_classPrivateFieldLooseBase(this,l)[l]?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){const t=()=>{this.addOrRebuild(e)},i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}addUndoableEditor(e){const t=()=>{this.addOrRebuild(e)},i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return _classPrivateFieldLooseBase(this,g)[g].getId()}deserialize(e){switch(e.annotationType){case s.AnnotationEditorType.FREETEXT:return r.FreeTextEditor.deserialize(e,this,_classPrivateFieldLooseBase(this,g)[g]);case s.AnnotationEditorType.INK:return a.InkEditor.deserialize(e,this,_classPrivateFieldLooseBase(this,g)[g])}return null}setSelected(e){_classPrivateFieldLooseBase(this,g)[g].setSelected(e)}toggleSelected(e){_classPrivateFieldLooseBase(this,g)[g].toggleSelected(e)}isSelected(e){return _classPrivateFieldLooseBase(this,g)[g].isSelected(e)}unselect(e){_classPrivateFieldLooseBase(this,g)[g].unselect(e)}pointerup(e){const{isMac:t}=s.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&_classPrivateFieldLooseBase(this,p)[p]&&(_classPrivateFieldLooseBase(this,p)[p]=!1,_classPrivateFieldLooseBase(this,c)[c]?_classPrivateFieldLooseBase(this,m)[m](e):_classPrivateFieldLooseBase(this,c)[c]=!0)}pointerdown(e){const{isMac:t}=s.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;_classPrivateFieldLooseBase(this,p)[p]=!0;const i=_classPrivateFieldLooseBase(this,g)[g].getActive();_classPrivateFieldLooseBase(this,c)[c]=!i||i.isEmpty()}drop(e){const t=e.dataTransfer.getData("text/plain"),i=_classPrivateFieldLooseBase(this,g)[g].getEditor(t);if(!i)return;e.preventDefault(),e.dataTransfer.dropEffect="move",_classPrivateFieldLooseBase(this,v)[v](i);const s=this.div.getBoundingClientRect(),n=e.clientX-s.x,r=e.clientY-s.y;i.translate(n-i.startX,r-i.startY),this.moveEditorInDOM(i),i.div.focus()}dragover(e){e.preventDefault()}destroy(){_classPrivateFieldLooseBase(this,g)[g].getActive()?.parent===this&&_classPrivateFieldLooseBase(this,g)[g].setActiveEditor(null);for(const e of _classPrivateFieldLooseBase(this,u)[u].values())_classPrivateFieldLooseBase(this,l)[l]?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,_classPrivateFieldLooseBase(this,u)[u].clear(),_classPrivateFieldLooseBase(this,g)[g].removeLayer(this)}render({viewport:e}){this.viewport=e,(0,o.setLayerDimensions)(this.div,e),(0,n.bindEvents)(this,this.div,["dragover","drop"]);for(const t of _classPrivateFieldLooseBase(this,g)[g].getEditors(this.pageIndex))this.add(t);this.updateMode()}update({viewport:e}){_classPrivateFieldLooseBase(this,g)[g].commitOrRemove(),this.viewport=e,(0,o.setLayerDimensions)(this.div,{rotation:e.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}function P(e){e.parent!==this&&(this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}function A(e){switch(_classPrivateFieldLooseBase(this,g)[g].getMode()){case s.AnnotationEditorType.FREETEXT:return new r.FreeTextEditor(e);case s.AnnotationEditorType.INK:return new a.InkEditor(e)}return null}function w(e){const t=this.getNextId(),i=_classPrivateFieldLooseBase(this,_)[_]({parent:this,id:t,x:e.offsetX,y:e.offsetY,uiManager:_classPrivateFieldLooseBase(this,g)[g]});return i&&this.add(i),i}function S(){_classPrivateFieldLooseBase(this,f)[f]=!0;for(const e of _classPrivateFieldLooseBase(this,u)[u].values())e.isEmpty()&&e.remove();_classPrivateFieldLooseBase(this,f)[f]=!1}b._initialized=!1,t.AnnotationEditorLayer=b},(e,t,i)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var n=i(1),r=i(5),a=i(4),o=_classPrivateFieldLooseKey("boundEditorDivBlur"),l=_classPrivateFieldLooseKey("boundEditorDivFocus"),c=_classPrivateFieldLooseKey("boundEditorDivInput"),d=_classPrivateFieldLooseKey("boundEditorDivKeydown"),h=_classPrivateFieldLooseKey("color"),u=_classPrivateFieldLooseKey("content"),p=_classPrivateFieldLooseKey("editorDivId"),f=_classPrivateFieldLooseKey("hasAlreadyBeenCommitted"),g=_classPrivateFieldLooseKey("fontSize"),v=_classPrivateFieldLooseKey("updateFontSize"),_=_classPrivateFieldLooseKey("updateColor"),m=_classPrivateFieldLooseKey("extractText"),y=_classPrivateFieldLooseKey("setEditorDimensions");class b extends a.AnnotationEditor{constructor(e){super({...e,name:"freeTextEditor"}),Object.defineProperty(this,y,{value:S}),Object.defineProperty(this,m,{value:w}),Object.defineProperty(this,_,{value:A}),Object.defineProperty(this,v,{value:P}),Object.defineProperty(this,o,{writable:!0,value:this.editorDivBlur.bind(this)}),Object.defineProperty(this,l,{writable:!0,value:this.editorDivFocus.bind(this)}),Object.defineProperty(this,c,{writable:!0,value:this.editorDivInput.bind(this)}),Object.defineProperty(this,d,{writable:!0,value:this.editorDivKeydown.bind(this)}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:""}),Object.defineProperty(this,p,{writable:!0,value:`${this.id}-editor`}),Object.defineProperty(this,f,{writable:!0,value:!1}),Object.defineProperty(this,g,{writable:!0,value:void 0}),_classPrivateFieldLooseBase(this,h)[h]=e.color||b._defaultColor||a.AnnotationEditor._defaultLineColor,_classPrivateFieldLooseBase(this,g)[g]=e.fontSize||b._defaultFontSize}static initialize(e){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map((t=>[t,e.get(t)])));const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case n.AnnotationEditorParamsType.FREETEXT_SIZE:b._defaultFontSize=t;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:b._defaultColor=t;break}}updateParams(e,t){switch(e){case n.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateFieldLooseBase(this,v)[v](t);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateFieldLooseBase(this,_)[_](t);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,b._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,b._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldLooseBase(this,g)[g]],[n.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldLooseBase(this,h)[h]]]}getInitialTranslation(){const e=this.parentScale;return[-b._internalPadding*e,-(b._internalPadding+_classPrivateFieldLooseBase(this,g)[g])*e]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldLooseBase(this,d)[d]),this.editorDiv.addEventListener("focus",_classPrivateFieldLooseBase(this,l)[l]),this.editorDiv.addEventListener("blur",_classPrivateFieldLooseBase(this,o)[o]),this.editorDiv.addEventListener("input",_classPrivateFieldLooseBase(this,c)[c]))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldLooseBase(this,p)[p]),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldLooseBase(this,d)[d]),this.editorDiv.removeEventListener("focus",_classPrivateFieldLooseBase(this,l)[l]),this.editorDiv.removeEventListener("blur",_classPrivateFieldLooseBase(this,o)[o]),this.editorDiv.removeEventListener("input",_classPrivateFieldLooseBase(this,c)[c]),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),_classPrivateFieldLooseBase(this,f)[f]||(_classPrivateFieldLooseBase(this,f)[f]=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldLooseBase(this,u)[u]=_classPrivateFieldLooseBase(this,m)[m]().trimEnd(),_classPrivateFieldLooseBase(this,y)[y]())}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){b._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldLooseBase(this,p)[p]),this.enableEditing(),b._l10nPromise.get("editor_free_text2_aria_label").then((e=>this.editorDiv?.setAttribute("aria-label",e))),b._l10nPromise.get("free_text2_default_content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${_classPrivateFieldLooseBase(this,g)[g]}px * var(--scale-factor))`,i.color=_classPrivateFieldLooseBase(this,h)[h],this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[i,s]=this.parentDimensions;this.setAt(e*i,t*s,this.width*i,this.height*s);for(const e of _classPrivateFieldLooseBase(this,u)[u].split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){const s=super.deserialize(e,t,i);return _classPrivateFieldLooseBase(s,g)[g]=e.fontSize,_classPrivateFieldLooseBase(s,h)[h]=n.Util.makeHexColor(...e.color),_classPrivateFieldLooseBase(s,u)[u]=e.value,s}serialize(){if(this.isEmpty())return null;const e=b._internalPadding*this.parentScale,t=this.getRect(e,e),i=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldLooseBase(this,h)[h]);return{annotationType:n.AnnotationEditorType.FREETEXT,color:i,fontSize:_classPrivateFieldLooseBase(this,g)[g],value:_classPrivateFieldLooseBase(this,u)[u],pageIndex:this.pageIndex,rect:t,rotation:this.rotation}}}function P(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-_classPrivateFieldLooseBase(this,g)[g])*this.parentScale),_classPrivateFieldLooseBase(this,g)[g]=e,_classPrivateFieldLooseBase(this,y)[y]()},i=_classPrivateFieldLooseBase(this,g)[g];this.addCommands({cmd:()=>{t(e)},undo:()=>{t(i)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function A(e){const t=_classPrivateFieldLooseBase(this,h)[h];this.addCommands({cmd:()=>{_classPrivateFieldLooseBase(this,h)[h]=this.editorDiv.style.color=e},undo:()=>{_classPrivateFieldLooseBase(this,h)[h]=this.editorDiv.style.color=t},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function w(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const i of e)t.push(i.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}function S(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,s=t.style.display;t.style.display="hidden",e.div.append(this.div),i=t.getBoundingClientRect(),t.remove(),t.style.display=s}this.width=i.width/e,this.height=i.height/t}s=b,b._freeTextDefaultContent="",b._l10nPromise=void 0,b._internalPadding=0,b._defaultColor=null,b._defaultFontSize=10,b._keyboardManager=new r.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]]),b._type="freetext",t.FreeTextEditor=b},(e,t,i)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return a.fitCurve}});var n=i(1),r=i(4),a=i(30),o=i(5);const l=16;var c=_classPrivateFieldLooseKey("aspectRatio"),d=_classPrivateFieldLooseKey("baseHeight"),h=_classPrivateFieldLooseKey("baseWidth"),u=_classPrivateFieldLooseKey("boundCanvasPointermove"),p=_classPrivateFieldLooseKey("boundCanvasPointerleave"),f=_classPrivateFieldLooseKey("boundCanvasPointerup"),g=_classPrivateFieldLooseKey("boundCanvasPointerdown"),v=_classPrivateFieldLooseKey("disableEditing"),_=_classPrivateFieldLooseKey("isCanvasInitialized"),m=_classPrivateFieldLooseKey("lastPoint"),y=_classPrivateFieldLooseKey("observer"),b=_classPrivateFieldLooseKey("realWidth"),P=_classPrivateFieldLooseKey("realHeight"),A=_classPrivateFieldLooseKey("requestFrameCallback"),w=_classPrivateFieldLooseKey("updateThickness"),S=_classPrivateFieldLooseKey("updateColor"),x=_classPrivateFieldLooseKey("updateOpacity"),L=_classPrivateFieldLooseKey("getInitialBBox"),E=_classPrivateFieldLooseKey("setStroke"),F=_classPrivateFieldLooseKey("startDrawing"),C=_classPrivateFieldLooseKey("draw"),T=_classPrivateFieldLooseKey("stopDrawing"),k=_classPrivateFieldLooseKey("redraw"),O=_classPrivateFieldLooseKey("endDrawing"),M=_classPrivateFieldLooseKey("createCanvas"),R=_classPrivateFieldLooseKey("createObserver"),I=_classPrivateFieldLooseKey("setCanvasDims"),D=_classPrivateFieldLooseKey("setScaleFactor"),B=_classPrivateFieldLooseKey("updateTransform"),N=_classPrivateFieldLooseKey("buildPath2D"),j=_classPrivateFieldLooseKey("serializePaths"),U=_classPrivateFieldLooseKey("extractPointsOnBezier"),V=_classPrivateFieldLooseKey("isAlmostFlat"),$=_classPrivateFieldLooseKey("getBbox"),H=_classPrivateFieldLooseKey("getPadding"),W=_classPrivateFieldLooseKey("fitToContent"),z=_classPrivateFieldLooseKey("setMinDims");class q extends r.AnnotationEditor{constructor(e){super({...e,name:"inkEditor"}),Object.defineProperty(this,z,{value:ge}),Object.defineProperty(this,W,{value:fe}),Object.defineProperty(this,H,{value:pe}),Object.defineProperty(this,$,{value:ue}),Object.defineProperty(this,V,{value:he}),Object.defineProperty(this,U,{value:de}),Object.defineProperty(this,j,{value:ce}),Object.defineProperty(this,B,{value:oe}),Object.defineProperty(this,D,{value:ae}),Object.defineProperty(this,I,{value:re}),Object.defineProperty(this,R,{value:ne}),Object.defineProperty(this,M,{value:se}),Object.defineProperty(this,O,{value:ie}),Object.defineProperty(this,k,{value:te}),Object.defineProperty(this,T,{value:ee}),Object.defineProperty(this,C,{value:Z}),Object.defineProperty(this,F,{value:J}),Object.defineProperty(this,E,{value:Q}),Object.defineProperty(this,L,{value:Y}),Object.defineProperty(this,x,{value:X}),Object.defineProperty(this,S,{value:G}),Object.defineProperty(this,w,{value:K}),Object.defineProperty(this,c,{writable:!0,value:0}),Object.defineProperty(this,d,{writable:!0,value:0}),Object.defineProperty(this,h,{writable:!0,value:0}),Object.defineProperty(this,u,{writable:!0,value:this.canvasPointermove.bind(this)}),Object.defineProperty(this,p,{writable:!0,value:this.canvasPointerleave.bind(this)}),Object.defineProperty(this,f,{writable:!0,value:this.canvasPointerup.bind(this)}),Object.defineProperty(this,g,{writable:!0,value:this.canvasPointerdown.bind(this)}),Object.defineProperty(this,v,{writable:!0,value:!1}),Object.defineProperty(this,_,{writable:!0,value:!1}),Object.defineProperty(this,m,{writable:!0,value:null}),Object.defineProperty(this,y,{writable:!0,value:null}),Object.defineProperty(this,b,{writable:!0,value:0}),Object.defineProperty(this,P,{writable:!0,value:0}),Object.defineProperty(this,A,{writable:!0,value:null}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map((t=>[t,e.get(t)])))}static updateDefaultParams(e,t){switch(e){case n.AnnotationEditorParamsType.INK_THICKNESS:q._defaultThickness=t;break;case n.AnnotationEditorParamsType.INK_COLOR:q._defaultColor=t;break;case n.AnnotationEditorParamsType.INK_OPACITY:q._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case n.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateFieldLooseBase(this,w)[w](t);break;case n.AnnotationEditorParamsType.INK_COLOR:_classPrivateFieldLooseBase(this,S)[S](t);break;case n.AnnotationEditorParamsType.INK_OPACITY:_classPrivateFieldLooseBase(this,x)[x](t);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,q._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,q._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*q._defaultOpacity)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||q._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||q._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??q._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateFieldLooseBase(this,M)[M](),_classPrivateFieldLooseBase(this,R)[R]()),this.isAttachedToDOM||(this.parent.add(this),_classPrivateFieldLooseBase(this,I)[I]()),_classPrivateFieldLooseBase(this,W)[W]())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldLooseBase(this,y)[y].disconnect(),_classPrivateFieldLooseBase(this,y)[y]=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,i=this.width*e,s=this.height*t;this.setDimensions(i,s)}enableEditMode(){_classPrivateFieldLooseBase(this,v)[v]||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldLooseBase(this,g)[g]),this.canvas.addEventListener("pointerup",_classPrivateFieldLooseBase(this,f)[f]))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldLooseBase(this,g)[g]),this.canvas.removeEventListener("pointerup",_classPrivateFieldLooseBase(this,f)[f]))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldLooseBase(this,v)[v]||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldLooseBase(this,v)[v]=!0,this.div.classList.add("disabled"),_classPrivateFieldLooseBase(this,W)[W](!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(e){super.focusin(e),this.enableEditMode()}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!_classPrivateFieldLooseBase(this,v)[v]&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldLooseBase(this,p)[p]),this.canvas.addEventListener("pointermove",_classPrivateFieldLooseBase(this,u)[u]),_classPrivateFieldLooseBase(this,F)[F](e.offsetX,e.offsetY))}canvasPointermove(e){e.stopPropagation(),_classPrivateFieldLooseBase(this,C)[C](e.offsetX,e.offsetY)}canvasPointerup(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),_classPrivateFieldLooseBase(this,O)[O](e),this.setInBackground())}canvasPointerleave(e){_classPrivateFieldLooseBase(this,O)[O](e),this.setInBackground()}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),q._l10nPromise.get("editor_ink2_aria_label").then((e=>this.div?.setAttribute("aria-label",e)));const[i,s,n,r]=_classPrivateFieldLooseBase(this,L)[L]();if(this.setAt(i,s,0,0),this.setDims(n,r),_classPrivateFieldLooseBase(this,M)[M](),this.width){const[i,s]=this.parentDimensions;this.setAt(e*i,t*s,this.width*i,this.height*s),_classPrivateFieldLooseBase(this,_)[_]=!0,_classPrivateFieldLooseBase(this,I)[I](),this.setDims(this.width*i,this.height*s),_classPrivateFieldLooseBase(this,k)[k](),_classPrivateFieldLooseBase(this,z)[z](),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateFieldLooseBase(this,R)[R](),this.div}setDimensions(e,t){const i=Math.round(e),s=Math.round(t);if(_classPrivateFieldLooseBase(this,b)[b]===i&&_classPrivateFieldLooseBase(this,P)[P]===s)return;_classPrivateFieldLooseBase(this,b)[b]=i,_classPrivateFieldLooseBase(this,P)[P]=s,this.canvas.style.visibility="hidden",_classPrivateFieldLooseBase(this,c)[c]&&Math.abs(_classPrivateFieldLooseBase(this,c)[c]-e/t)>.01&&(t=Math.ceil(e/_classPrivateFieldLooseBase(this,c)[c]),this.setDims(e,t));const[n,r]=this.parentDimensions;this.width=e/n,this.height=t/r,_classPrivateFieldLooseBase(this,v)[v]&&_classPrivateFieldLooseBase(this,D)[D](e,t),_classPrivateFieldLooseBase(this,I)[I](),_classPrivateFieldLooseBase(this,k)[k](),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,i){const s=super.deserialize(e,t,i);s.thickness=e.thickness,s.color=n.Util.makeHexColor(...e.color),s.opacity=e.opacity;const[r,a]=s.pageDimensions,o=s.width*r,u=s.height*a,p=s.parentScale,f=e.thickness/2;_classPrivateFieldLooseBase(s,c)[c]=o/u,_classPrivateFieldLooseBase(s,v)[v]=!0,_classPrivateFieldLooseBase(s,b)[b]=Math.round(o),_classPrivateFieldLooseBase(s,P)[P]=Math.round(u);for(const{bezier:n}of e.paths){const e=[];s.paths.push(e);let t=p*(n[0]-f),i=p*(u-n[1]-f);for(let s=2,a=n.length;s<a;s+=6){const r=p*(n[s]-f),a=p*(u-n[s+1]-f),o=p*(n[s+2]-f),l=p*(u-n[s+3]-f),c=p*(n[s+4]-f),d=p*(u-n[s+5]-f);e.push([[t,i],[r,a],[o,l],[c,d]]),t=c,i=d}const r=_classPrivateFieldLooseBase(this,N)[N](e);s.bezierPath2D.push(r)}const g=_classPrivateFieldLooseBase(s,$)[$]();return _classPrivateFieldLooseBase(s,h)[h]=Math.max(l,g[2]-g[0]),_classPrivateFieldLooseBase(s,d)[d]=Math.max(l,g[3]-g[1]),_classPrivateFieldLooseBase(s,D)[D](o,u),s}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=this.rotation%180===0?e[3]-e[1]:e[2]-e[0],i=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateFieldLooseBase(this,j)[j](this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:e,rotation:this.rotation}}}function K(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,_classPrivateFieldLooseBase(this,W)[W]()},undo:()=>{this.thickness=t,_classPrivateFieldLooseBase(this,W)[W]()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function G(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,_classPrivateFieldLooseBase(this,k)[k]()},undo:()=>{this.color=t,_classPrivateFieldLooseBase(this,k)[k]()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function X(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,_classPrivateFieldLooseBase(this,k)[k]()},undo:()=>{this.opacity=t,_classPrivateFieldLooseBase(this,k)[k]()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Y(){const{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}function Q(){const{ctx:e,color:t,opacity:i,thickness:s,parentScale:n,scaleFactor:r}=this;e.lineWidth=s*n/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${(0,o.opacityToHex)(i)}`}function J(e,t){this.isEditing=!0,_classPrivateFieldLooseBase(this,_)[_]||(_classPrivateFieldLooseBase(this,_)[_]=!0,_classPrivateFieldLooseBase(this,I)[I](),this.thickness||=s._defaultThickness,this.color||=s._defaultColor||r.AnnotationEditor._defaultLineColor,this.opacity??=s._defaultOpacity),this.currentPath.push([e,t]),_classPrivateFieldLooseBase(this,m)[m]=null,_classPrivateFieldLooseBase(this,E)[E](),this.ctx.beginPath(),this.ctx.moveTo(e,t),_classPrivateFieldLooseBase(this,A)[A]=()=>{_classPrivateFieldLooseBase(this,A)[A]&&(_classPrivateFieldLooseBase(this,m)[m]&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_classPrivateFieldLooseBase(this,k)[k](),this.ctx.lineTo(..._classPrivateFieldLooseBase(this,m)[m]),_classPrivateFieldLooseBase(this,m)[m]=null,this.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldLooseBase(this,A)[A]))},window.requestAnimationFrame(_classPrivateFieldLooseBase(this,A)[A])}function Z(e,t){const[i,s]=this.currentPath.at(-1);e===i&&t===s||(this.currentPath.push([e,t]),_classPrivateFieldLooseBase(this,m)[m]=[e,t])}function ee(e,t){this.ctx.closePath(),_classPrivateFieldLooseBase(this,A)[A]=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[i,n]=this.currentPath.at(-1);let r;if(e===i&&t===n||this.currentPath.push([e,t]),1!==this.currentPath.length)r=(0,a.fitCurve)(this.currentPath,30,null);else{const i=[e,t];r=[[i,i.slice(),i.slice(),i]]}const o=_classPrivateFieldLooseBase(s,N)[N](r);this.currentPath.length=0;const l=()=>{this.paths.push(r),this.bezierPath2D.push(o),this.rebuild()},c=()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateFieldLooseBase(this,M)[M](),_classPrivateFieldLooseBase(this,R)[R]()),_classPrivateFieldLooseBase(this,W)[W]())};this.addCommands({cmd:l,undo:c,mustExec:!0})}function te(){if(this.isEmpty())return void _classPrivateFieldLooseBase(this,B)[B]();_classPrivateFieldLooseBase(this,E)[E]();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),_classPrivateFieldLooseBase(this,B)[B]();for(const i of this.bezierPath2D)t.stroke(i)}function ie(e){_classPrivateFieldLooseBase(this,T)[T](e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldLooseBase(this,p)[p]),this.canvas.removeEventListener("pointermove",_classPrivateFieldLooseBase(this,u)[u]),this.addToAnnotationStorage()}function se(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>this.canvas?.setAttribute("aria-label",e))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function ne(){_classPrivateFieldLooseBase(this,y)[y]=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),_classPrivateFieldLooseBase(this,y)[y].observe(this.div)}function re(){if(!_classPrivateFieldLooseBase(this,_)[_])return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),_classPrivateFieldLooseBase(this,B)[B]()}function ae(e,t){const i=_classPrivateFieldLooseBase(this,H)[H](),s=(e-i)/_classPrivateFieldLooseBase(this,h)[h],n=(t-i)/_classPrivateFieldLooseBase(this,d)[d];this.scaleFactor=Math.min(s,n)}function oe(){const e=_classPrivateFieldLooseBase(this,H)[H]()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function le(e){const t=new Path2D;for(let i=0,s=e.length;i<s;i++){const[s,n,r,a]=e[i];0===i&&t.moveTo(...s),t.bezierCurveTo(n[0],n[1],r[0],r[1],a[0],a[1])}return t}function ce(e,t,i,s){const n=4,r=[],a=this.thickness/2;let o,l;for(const c of this.paths){o=[],l=[];for(let r=0,d=c.length;r<d;r++){const[d,h,u,p]=c[r],f=e*(d[0]+t)+a,g=s-e*(d[1]+i)-a,v=e*(h[0]+t)+a,_=s-e*(h[1]+i)-a,m=e*(u[0]+t)+a,y=s-e*(u[1]+i)-a,b=e*(p[0]+t)+a,P=s-e*(p[1]+i)-a;0===r&&(o.push(f,g),l.push(f,g)),o.push(v,_,m,y,b,P),_classPrivateFieldLooseBase(this,U)[U](f,g,v,_,m,y,b,P,n,l)}r.push({bezier:o,points:l})}return r}function de(e,t,i,s,n,r,a,o,l,c){if(_classPrivateFieldLooseBase(this,V)[V](e,t,i,s,n,r,a,o))c.push(a,o);else{for(let d=1;d<l-1;d++){const h=d/l,u=1-h;let p=h*e+u*i,f=h*t+u*s,g=h*i+u*n,v=h*s+u*r;const _=h*n+u*a,m=h*r+u*o;p=h*p+u*g,f=h*f+u*v,g=h*g+u*_,v=h*v+u*m,p=h*p+u*g,f=h*f+u*v,c.push(p,f)}c.push(a,o)}}function he(e,t,i,s,n,r,a,o){const l=10,c=(3*i-2*e-a)**2,d=(3*s-2*t-o)**2,h=(3*n-e-2*a)**2,u=(3*r-t-2*o)**2;return Math.max(c,h)+Math.max(d,u)<=l}function ue(){let e=1/0,t=-1/0,i=1/0,s=-1/0;for(const r of this.paths)for(const[a,o,l,c]of r){const r=n.Util.bezierBoundingBox(...a,...o,...l,...c);e=Math.min(e,r[0]),i=Math.min(i,r[1]),t=Math.max(t,r[2]),s=Math.max(s,r[3])}return[e,i,t,s]}function pe(){return _classPrivateFieldLooseBase(this,v)[v]?Math.ceil(this.thickness*this.parentScale):0}function fe(e=!1){if(this.isEmpty())return;if(!_classPrivateFieldLooseBase(this,v)[v])return void _classPrivateFieldLooseBase(this,k)[k]();const t=_classPrivateFieldLooseBase(this,$)[$](),i=_classPrivateFieldLooseBase(this,H)[H]();_classPrivateFieldLooseBase(this,h)[h]=Math.max(l,t[2]-t[0]),_classPrivateFieldLooseBase(this,d)[d]=Math.max(l,t[3]-t[1]);const s=Math.ceil(i+_classPrivateFieldLooseBase(this,h)[h]*this.scaleFactor),n=Math.ceil(i+_classPrivateFieldLooseBase(this,d)[d]*this.scaleFactor),[r,a]=this.parentDimensions;this.width=s/r,this.height=n/a,_classPrivateFieldLooseBase(this,c)[c]=s/n,_classPrivateFieldLooseBase(this,z)[z]();const o=this.translationX,u=this.translationY;this.translationX=-t[0],this.translationY=-t[1],_classPrivateFieldLooseBase(this,I)[I](),_classPrivateFieldLooseBase(this,k)[k](),_classPrivateFieldLooseBase(this,b)[b]=s,_classPrivateFieldLooseBase(this,P)[P]=n,this.setDims(s,n);const p=e?i/this.scaleFactor/2:0;this.translate(o-this.translationX-p,u-this.translationY-p)}function ge(){const{style:e}=this.div;_classPrivateFieldLooseBase(this,c)[c]>=1?(e.minHeight=`${l}px`,e.minWidth=`${Math.round(_classPrivateFieldLooseBase(this,c)[c]*l)}px`):(e.minWidth=`${l}px`,e.minHeight=`${Math.round(l/_classPrivateFieldLooseBase(this,c)[c])}px`)}s=q,Object.defineProperty(q,N,{value:le}),q._defaultColor=null,q._defaultOpacity=1,q._defaultThickness=1,q._l10nPromise=void 0,q._type="ink",t.InkEditor=q},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const s=i(31);t.fitCurve=s},e=>{function t(e,t,s){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((t=>{if(!Array.isArray(t)||t.some((e=>"number"!==typeof e))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),e=e.filter(((t,i)=>0===i||!t.every(((t,s)=>t===e[i-1][s])))),e.length<2)return[];const n=e.length,r=h(e[1],e[0]),a=h(e[n-2],e[n-1]);return i(e,r,a,t,s)}function i(e,t,n,a,l){const c=20;var d,h,p,f,g,v,_,m,y,b,P,A,w;if(2===e.length)return A=u.vectorLen(u.subtract(e[0],e[1]))/3,d=[e[0],u.addArrays(e[0],u.mulItems(t,A)),u.addArrays(e[1],u.mulItems(n,A)),e[1]],[d];if(h=o(e),[d,f,v]=s(e,h,h,t,n,l),0===f||f<a)return[d];if(f<a*a)for(p=h,g=f,_=v,w=0;w<c;w++){if(p=r(d,e,p),[d,f,v]=s(e,h,p,t,n,l),f<a)return[d];if(v===_){let e=f/g;if(e>.9999&&e<1.0001)break}g=f,_=v}return P=[],m=u.subtract(e[v-1],e[v+1]),m.every((e=>0===e))&&(m=u.subtract(e[v-1],e[v]),[m[0],m[1]]=[-m[1],m[0]]),y=u.normalize(m),b=u.mulItems(y,-1),P=P.concat(i(e.slice(0,v+1),t,y,a,l)),P=P.concat(i(e.slice(v),b,n,a,l)),P}function s(e,t,i,s,r,a){var o,c,d;return o=n(e,i,s,r,a),[c,d]=l(e,o,t),a&&a({bez:o,points:e,params:t,maxErr:c,maxPoint:d}),[o,c,d]}function n(e,t,i,s){var n,r,a,o,l,c,d,h,f,g,v,_,m,y,b,P,A,w=e[0],S=e[e.length-1];for(n=[w,null,null,S],r=u.zeros_Xx2x2(t.length),m=0,y=t.length;m<y;m++)P=t[m],A=1-P,a=r[m],a[0]=u.mulItems(i,3*P*(A*A)),a[1]=u.mulItems(s,3*A*(P*P));for(o=[[0,0],[0,0]],l=[0,0],m=0,y=e.length;m<y;m++)P=t[m],a=r[m],o[0][0]+=u.dot(a[0],a[0]),o[0][1]+=u.dot(a[0],a[1]),o[1][0]+=u.dot(a[0],a[1]),o[1][1]+=u.dot(a[1],a[1]),b=u.subtract(e[m],p.q([w,w,S,S],P)),l[0]+=u.dot(a[0],b),l[1]+=u.dot(a[1],b);return c=o[0][0]*o[1][1]-o[1][0]*o[0][1],d=o[0][0]*l[1]-o[1][0]*l[0],h=l[0]*o[1][1]-l[1]*o[0][1],f=0===c?0:h/c,g=0===c?0:d/c,_=u.vectorLen(u.subtract(w,S)),v=1e-6*_,f<v||g<v?(n[1]=u.addArrays(w,u.mulItems(i,_/3)),n[2]=u.addArrays(S,u.mulItems(s,_/3))):(n[1]=u.addArrays(w,u.mulItems(i,f)),n[2]=u.addArrays(S,u.mulItems(s,g))),n}function r(e,t,i){return i.map(((i,s)=>a(e,t[s],i)))}function a(e,t,i){var s=u.subtract(p.q(e,i),t),n=p.qprime(e,i),r=u.mulMatrix(s,n),a=u.sum(u.squareItems(n))+2*u.mulMatrix(s,p.qprimeprime(e,i));return 0===a?i:i-r/a}function o(e){var t,i,s,n=[];return e.forEach(((e,r)=>{t=r?i+u.vectorLen(u.subtract(e,s)):0,n.push(t),i=t,s=e})),n=n.map((e=>e/i)),n}function l(e,t,i){var s,n,r,a,o,l,h,f;n=0,r=Math.floor(e.length/2);const g=c(t,10);for(o=0,l=e.length;o<l;o++)h=e[o],f=d(t,i[o],g,10),a=u.subtract(p.q(t,f),h),s=a[0]*a[0]+a[1]*a[1],s>n&&(n=s,r=o);return[n,r]}var c=function(e,t){for(var i,s=[0],n=e[0],r=0,a=1;a<=t;a++)i=p.q(e,a/t),r+=u.vectorLen(u.subtract(i,n)),s.push(r),n=i;return s=s.map((e=>e/r)),s};function d(e,t,i,s){if(t<0)return 0;if(t>1)return 1;for(var n,r,a,o,l,c=1;c<=s;c++)if(t<=i[c]){o=(c-1)/s,a=c/s,r=i[c-1],n=i[c],l=(t-r)/(n-r)*(a-o)+o;break}return l}function h(e,t){return u.normalize(u.subtract(e,t))}class u{static zeros_Xx2x2(e){var t=[];while(e--)t.push([0,0]);return t}static mulItems(e,t){return e.map((e=>e*t))}static mulMatrix(e,t){return e.reduce(((e,i,s)=>e+i*t[s]),0)}static subtract(e,t){return e.map(((e,i)=>e-t[i]))}static addArrays(e,t){return e.map(((e,i)=>e+t[i]))}static addItems(e,t){return e.map((e=>e+t))}static sum(e){return e.reduce(((e,t)=>e+t))}static dot(e,t){return u.mulMatrix(e,t)}static vectorLen(e){return Math.hypot(...e)}static divItems(e,t){return e.map((e=>e/t))}static squareItems(e){return e.map((e=>e*e))}static normalize(e){return this.divItems(e,this.vectorLen(e))}}class p{static q(e,t){var i=1-t,s=u.mulItems(e[0],i*i*i),n=u.mulItems(e[1],3*i*i*t),r=u.mulItems(e[2],3*i*t*t),a=u.mulItems(e[3],t*t*t);return u.addArrays(u.addArrays(s,n),u.addArrays(r,a))}static qprime(e,t){var i=1-t,s=u.mulItems(u.subtract(e[1],e[0]),3*i*i),n=u.mulItems(u.subtract(e[2],e[1]),6*i*t),r=u.mulItems(u.subtract(e[3],e[2]),3*t*t);return u.addArrays(u.addArrays(s,n),r)}static qprimeprime(e,t){return u.addArrays(u.mulItems(u.addArrays(u.subtract(e[2],u.mulItems(e[1],2)),e[0]),6*(1-t)),u.mulItems(u.addArrays(u.subtract(e[3],u.mulItems(e[2],2)),e[1]),6*t))}}e.exports=t,e.exports.fitCubic=i,e.exports.createTangent=h},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var s=i(1),n=i(6),r=i(3),a=i(33),o=i(34);const l=1e3,c=9,d=new WeakSet;function h(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class u{static create(e){const t=e.data.annotationType;switch(t){case s.AnnotationType.LINK:return new v(e);case s.AnnotationType.TEXT:return new y(e);case s.AnnotationType.WIDGET:const t=e.data.fieldType;switch(t){case"Tx":return new P(e);case"Btn":return e.data.radioButton?new w(e):e.data.checkBox?new A(e):new S(e);case"Ch":return new x(e)}return new b(e);case s.AnnotationType.POPUP:return new L(e);case s.AnnotationType.FREETEXT:return new F(e);case s.AnnotationType.LINE:return new C(e);case s.AnnotationType.SQUARE:return new T(e);case s.AnnotationType.CIRCLE:return new k(e);case s.AnnotationType.POLYLINE:return new O(e);case s.AnnotationType.CARET:return new R(e);case s.AnnotationType.INK:return new I(e);case s.AnnotationType.POLYGON:return new M(e);case s.AnnotationType.HIGHLIGHT:return new D(e);case s.AnnotationType.UNDERLINE:return new B(e);case s.AnnotationType.SQUIGGLY:return new N(e);case s.AnnotationType.STRIKEOUT:return new j(e);case s.AnnotationType.STAMP:return new U(e);case s.AnnotationType.FILEATTACHMENT:return new V(e);default:return new p(e)}}}class p{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,t&&(this.container=this._createContainer(i)),s&&(this.quadrilaterals=this._createQuadrilaterals(i))}_createContainer(e=!1){const{data:t,page:i,viewport:n}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),t.noRotate&&r.classList.add("norotate");const{pageWidth:a,pageHeight:o,pageX:l,pageY:c}=n.rawDims,{width:d,height:u}=h(t.rect),p=s.Util.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]);if(!e&&t.borderStyle.width>0){r.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,i=t.borderStyle.verticalCornerRadius;if(e>0||i>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${i}px * var(--scale-factor))`;r.style.borderRadius=t}else if(this instanceof w){const e=`calc(${d}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;r.style.borderRadius=e}switch(t.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:r.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:r.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:r.style.borderBottomStyle="solid";break;default:break}const n=t.borderColor||null;n?r.style.borderColor=s.Util.makeHexColor(0|n[0],0|n[1],0|n[2]):r.style.borderWidth=0}r.style.left=100*(p[0]-l)/a+"%",r.style.top=100*(p[1]-c)/o+"%";const{rotation:f}=t;return t.hasOwnCanvas||0===f?(r.style.width=100*d/a+"%",r.style.height=100*u/o+"%"):this.setRotation(f,r),r}setRotation(e,t=this.container){const{pageWidth:i,pageHeight:s}=this.viewport.rawDims,{width:n,height:r}=h(this.data.rect);let a,o;e%180===0?(a=100*n/i,o=100*r/s):(a=100*r/i,o=100*n/s),t.style.width=`${a}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,i)=>{const s=i.detail[e];i.target.style[t]=a.ColorConverters[`${s[0]}_HTML`](s.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:e=>{const t=e.detail.display%2===1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{this.container.style.visibility=e.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const n=e[s]||i[s];n?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,n]of Object.entries(t)){const r=i[s];if(r){const i={detail:{[s]:n},target:e};r(i),delete t[s]}}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],i=this.data.rect;for(const s of this.data.quadPoints)this.data.rect=[s[2].x,s[2].y,s[1].x,s[1].y],t.push(this._createContainer(e));return this.data.rect=i,t}_createPopup(e,t){let i=this.container;this.quadrilaterals&&(e||=this.quadrilaterals,i=this.quadrilaterals[0]),e||(e=document.createElement("div"),e.classList.add("popupTriggerArea"),i.append(e));const s=new E({container:i,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}),n=s.render();n.style.left="100%",i.append(n)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.classList.add(e);return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const n=this._fieldObjects[e];if(n)for(const{page:e,id:r,exportValues:a}of n){if(-1===e)continue;if(r===t)continue;const n="string"===typeof a?a:null,o=document.querySelector(`[data-element-id="${r}"]`);!o||d.has(o)?i.push({id:r,exportValue:n,domElement:o}):(0,s.warn)(`_getElementsByName - element not allowed: ${r}`)}return i}for(const s of document.getElementsByName(e)){const{exportValue:e}=s,n=s.getAttribute("data-element-id");n!==t&&(d.has(s)&&i.push({id:n,exportValue:e,domElement:s}))}return i}}var f=_classPrivateFieldLooseKey("setInternalLink"),g=_classPrivateFieldLooseKey("bindSetOCGState");class v extends p{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),Object.defineProperty(this,g,{value:m}),Object.defineProperty(this,f,{value:_}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(i,e.action),s=!0):e.attachment?(this._bindAttachment(i,e.attachment),s=!0):e.setOCGState?(_classPrivateFieldLooseBase(this,g)[g](i,e.setOCGState),s=!0):e.dest?(this._bindLink(i,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),s=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const s=0===t?i:i.cloneNode();return e.append(s),e})):(this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&_classPrivateFieldLooseBase(this,f)[f]()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),_classPrivateFieldLooseBase(this,f)[f]()}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,t.content,t.filename),!1),_classPrivateFieldLooseBase(this,f)[f]()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(t.actions)){const n=i.get(s);n&&(e[n]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1))}e.onclick||(e.onclick=()=>!1),_classPrivateFieldLooseBase(this,f)[f]()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),_classPrivateFieldLooseBase(this,f)[f](),!this._fieldObjects)return(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(e.onclick=()=>!1));e.onclick=()=>{i?.();const{fields:e,refs:n,include:r}=t,a=[];if(0!==e.length||0!==n.length){const t=new Set(n);for(const i of e){const e=this._fieldObjects[i]||[];for(const{id:i}of e)t.add(i)}for(const e of Object.values(this._fieldObjects))for(const i of e)t.has(i.id)===r&&a.push(i)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const i=t.defaultValue||"";o.setValue(e,{value:i});break}case"checkbox":case"radiobutton":{const i=t.defaultValue===t.exportValues;o.setValue(e,{value:i});break}case"combobox":case"listbox":{const i=t.defaultValue||"";o.setValue(e,{value:i});break}default:continue}const i=document.querySelector(`[data-element-id="${e}"]`);i&&(d.has(i)?i.dispatchEvent(new Event("resetform")):(0,s.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}function _(){this.container.setAttribute("data-internal-link","")}function m(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),_classPrivateFieldLooseBase(this,f)[f]()}class y extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}class b extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){const{isWin:t,isMac:i}=s.FeatureTest.platform;return t&&e.ctrlKey||i&&e.metaKey}_setEventListener(e,t,i,s){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e)}})}))}_setEventListeners(e,t,i){for(const[s,n]of t)("Action"===n||this.data.actions?.[n])&&this._setEventListener(e,s,n,i)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":s.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||c,r=e.style;let a;const o=2,l=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-o),t=Math.round(e/(s.LINE_FACTOR*n))||1,i=e/t;a=Math.min(n,l(i/s.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(n,l(e/s.LINE_FACTOR))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=s.Util.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class P extends b{constructor(e){const t=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const n=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=i),n.setValue(r.id,{[s]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let n=s.formattedValue||s.value||"";const r=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;r&&n.length>r&&(n=n.slice(0,r));const a={userValue:n,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=n,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",n),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),d.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=l,this._setRequired(i,this.data.required),r&&(i.maxLength=r),i.addEventListener("input",(s=>{e.setValue(t,{value:s.target.value}),this.setPropertyOnSiblings(i,"value",s.target.value,"value")})),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";i.value=a.userValue=t,a.formattedValue=null}));let o=e=>{const{formattedValue:t}=a;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",(e=>{const{target:t}=e;a.userValue&&(t.value=a.userValue),a.lastCommittedValue=t.value,a.commitKey=1})),i.addEventListener("updatefromsandbox",(i=>{this.showElementAndHideCanvas(i.target);const s={value(i){a.userValue=i.detail.value??"",e.setValue(t,{value:a.userValue.toString()}),i.target.value=a.userValue},formattedValue(i){const{formattedValue:s}=i.detail;a.formattedValue=s,null!==s&&void 0!==s&&i.target!==document.activeElement&&(i.target.value=s),e.setValue(t,{formattedValue:s})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:i=>{const{charLimit:s}=i.detail,{target:n}=i;if(0===s)return void n.removeAttribute("maxLength");n.setAttribute("maxLength",s);let r=a.userValue;!r||r.length<=s||(r=r.slice(0,s),n.value=a.userValue=r,e.setValue(t,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:n.selectionStart,selEnd:n.selectionEnd}}))}};this._dispatchEventFromSandbox(s,i)})),i.addEventListener("keydown",(e=>{a.commitKey=1;let i=-1;if("Escape"===e.key?i=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(a.commitKey=3):i=2,-1===i)return;const{value:s}=e.target;a.lastCommittedValue!==s&&(a.lastCommittedValue=s,a.userValue=s,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const s=o;o=null,i.addEventListener("blur",(e=>{if(!e.relatedTarget)return;const{value:i}=e.target;a.userValue=i,a.lastCommittedValue!==i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:a.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),s(e)})),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",(e=>{a.lastCommittedValue=null;const{data:i,target:s}=e,{value:n,selectionStart:r,selectionEnd:o}=s;let l=r,c=o;switch(e.inputType){case"deleteWordBackward":{const e=n.substring(0,r).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=n.substring(r).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":r===o&&(l-=1);break;case"deleteContentForward":r===o&&(c+=1);break}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(o&&i.addEventListener("blur",o),this.data.comb){const e=this.data.rect[2]-this.data.rect[0],t=e/r;i.classList.add("comb"),i.style.letterSpacing=`calc(${t}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell";return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class A extends b{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;"string"===typeof s&&(s="Off"!==s,e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const n=document.createElement("input");return d.add(n),n.setAttribute("data-element-id",i),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="checkbox",n.name=t.fieldName,s&&n.setAttribute("checked",!0),n.setAttribute("exportValue",t.exportValue),n.tabIndex=l,n.addEventListener("change",(s=>{const{name:n,checked:r}=s.target;for(const a of this._getElementsByName(n,i)){const i=r&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=i),e.setValue(a.id,{value:i})}e.setValue(i,{value:r})})),n.addEventListener("resetform",(e=>{const i=t.defaultFieldValue||"Off";e.target.checked=i===t.exportValue})),this.enableScripting&&this.hasJSActions&&(n.addEventListener("updatefromsandbox",(t=>{const s={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(i,{value:t.target.checked})}};this._dispatchEventFromSandbox(s,t)})),this._setEventListeners(n,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class w extends b{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof s&&(s=s!==t.buttonValue,e.setValue(i,{value:s}));const n=document.createElement("input");if(d.add(n),n.setAttribute("data-element-id",i),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="radio",n.name=t.fieldName,s&&n.setAttribute("checked",!0),n.tabIndex=l,n.addEventListener("change",(t=>{const{name:s,checked:n}=t.target;for(const r of this._getElementsByName(s,i))e.setValue(r.id,{value:!1});e.setValue(i,{value:n})})),n.addEventListener("resetform",(e=>{const i=t.defaultFieldValue;e.target.checked=null!==i&&void 0!==i&&i===t.buttonValue})),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;n.addEventListener("updatefromsandbox",(t=>{const n={value:t=>{const n=s===t.detail.value;for(const s of this._getElementsByName(t.target.name)){const t=n&&s.id===i;s.domElement&&(s.domElement.checked=t),e.setValue(s.id,{value:t})}}};this._dispatchEventFromSandbox(n,t)})),this._setEventListeners(n,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class S extends v{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class x extends b{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");d.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=l;let n=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const i of s.options)i.selected=i.value===t}));for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,i.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),n=!1),s.append(e)}let r=null;if(n){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),s.prepend(e),r=()=>{e.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}const a=e=>{const t=e?"value":"textContent",{options:i,multiple:n}=s;return n?Array.prototype.filter.call(i,(e=>e.selected)).map((e=>e[t])):-1===i.selectedIndex?null:i[i.selectedIndex][t]};let o=a(!1);const c=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",(i=>{const n={value(i){r?.();const n=i.detail.value,l=new Set(Array.isArray(n)?n:[n]);for(const e of s.options)e.selected=l.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){s.multiple=!0},remove(i){const n=s.options,r=i.detail.remove;if(n[r].selected=!1,s.remove(r),n.length>0){const e=Array.prototype.findIndex.call(n,(e=>e.selected));-1===e&&(n[0].selected=!0)}e.setValue(t,{value:a(!0),items:c(i)}),o=a(!1)},clear(i){while(0!==s.length)s.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(i){const{index:n,displayValue:r,exportValue:l}=i.detail.insert,d=s.children[n],h=document.createElement("option");h.textContent=r,h.value=l,d?d.before(h):s.append(h),e.setValue(t,{value:a(!0),items:c(i)}),o=a(!1)},items(i){const{items:n}=i.detail;while(0!==s.length)s.remove(0);for(const e of n){const{displayValue:t,exportValue:i}=e,n=document.createElement("option");n.textContent=t,n.value=i,s.append(n)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(i)}),o=a(!1)},indices(i){const s=new Set(i.detail.indices);for(const e of i.target.options)e.selected=s.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(n,i)})),s.addEventListener("input",(i=>{const s=a(!0);e.setValue(t,{value:s}),i.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:s,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(s,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):s.addEventListener("input",(function(i){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class L extends p{constructor(e){const{data:t}=e,i=!L.IGNORE_TYPES.has(t.parentType)&&!!(t.titleObj?.str||t.contentsObj?.str||t.richText?.str);super(e,{isRenderable:i})}render(){this.container.classList.add("popupAnnotation");const e=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===e.length)return this.container;const t=new E({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,n=s.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),r=n[0]+this.data.parentRect[2]-this.data.parentRect[0],a=n[1],{pageWidth:o,pageHeight:l,pageX:c,pageY:d}=this.viewport.rawDims;return this.container.style.left=100*(r-c)/o+"%",this.container.style.top=100*(a-d)/l+"%",this.container.append(t.render()),this.container}}L.IGNORE_TYPES=new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]);class E{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=.7,t=document.createElement("div");t.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;const i=document.createElement("div");i.classList.add("popup");const r=this.color;if(r){const t=e*(255-r[0])+r[0],n=e*(255-r[1])+r[1],a=e*(255-r[2])+r[2];i.style.backgroundColor=s.Util.makeHexColor(0|t,0|n,0|a)}const a=document.createElement("h1");a.dir=this.titleObj.dir,a.textContent=this.titleObj.str,i.append(a);const l=n.PDFDateString.toDateObject(this.modificationDate);if(l){const e=document.createElement("span");e.classList.add("popupDate"),e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),i.append(e)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);i.append(e)}else o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:i}),i.lastChild.classList.add("richText","popupContent");Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const s of this.trigger)s.addEventListener("click",this._toggle.bind(this)),s.addEventListener("mouseover",this._show.bind(this,!1)),s.addEventListener("mouseout",this._hide.bind(this,!1));return i.addEventListener("click",this._hide.bind(this,!0)),t.append(i),t}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let n=0,r=s.length;n<r;++n){const e=s[n];i.append(document.createTextNode(e)),n<r-1&&i.append(document.createElement("br"))}return i}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(e=!0){e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class F extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0}),this.textContent=e.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:i}=h(e.rect),s=this.svgFactory.create(t,i,!0),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),s.append(n),this.container.append(s),this._createPopup(n,e),this.container}}class T extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:i}=h(e.rect),s=this.svgFactory.create(t,i,!0),n=e.borderStyle.width,r=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",n/2),r.setAttribute("y",n/2),r.setAttribute("width",t-n),r.setAttribute("height",i-n),r.setAttribute("stroke-width",n||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),this._createPopup(r,e),this.container}}class k extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:i}=h(e.rect),s=this.svgFactory.create(t,i,!0),n=e.borderStyle.width,r=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",t/2),r.setAttribute("cy",i/2),r.setAttribute("rx",t/2-n/2),r.setAttribute("ry",i/2-n/2),r.setAttribute("stroke-width",n||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),this._createPopup(r,e),this.container}}class O extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:i}=h(e.rect),s=this.svgFactory.create(t,i,!0);let n=[];for(const a of e.vertices){const t=a.x-e.rect[0],i=e.rect[3]-a.y;n.push(t+","+i)}n=n.join(" ");const r=this.svgFactory.createElement(this.svgElementName);return r.setAttribute("points",n),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),this._createPopup(r,e),this.container}}class M extends O{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class R extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class I extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:i}=h(e.rect),s=this.svgFactory.create(t,i,!0);for(const n of e.inkLists){let t=[];for(const s of n){const i=s.x-e.rect[0],n=e.rect[3]-s.y;t.push(`${i},${n}`)}t=t.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",t),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),this._createPopup(i,e),s.append(i)}return this.container.append(s),this.container}}class D extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class B extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class N extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class j extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class U extends p{constructor(e){const t=!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str);super(e,{isRenderable:t,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class V extends p{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:i}=this.data.file;this.filename=(0,n.getFilenameFromUrl)(t,!0),this.content=i,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:i})}render(){let e;return this.container.classList.add("fileAttachmentAnnotation"),this.data.hasAppearance?e=document.createElement("div"):(e=document.createElement("img"),e.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),e.classList.add("popupTriggerArea"),e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.append(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}var $=_classPrivateFieldLooseKey("appendElement"),H=_classPrivateFieldLooseKey("setAnnotationCanvasMap");class W{static render(e){const{annotations:t,div:i,viewport:a,accessibilityManager:o}=e;(0,n.setLayerDimensions)(i,a);const l={data:null,layer:i,page:e.page,viewport:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new n.DOMSVGFactory,annotationStorage:e.annotationStorage||new r.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects};let c=0;for(const n of t){if(n.noHTML)continue;if(n.annotationType!==s.AnnotationType.POPUP){const{width:e,height:t}=h(n.rect);if(e<=0||t<=0)continue}l.data=n;const e=u.create(l);if(!e.isRenderable)continue;const t=e.render();if(n.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const s of t)s.style.zIndex=c++,_classPrivateFieldLooseBase(W,$)[$](s,n.id,i,o);else t.style.zIndex=c++,e instanceof L?i.prepend(t):_classPrivateFieldLooseBase(W,$)[$](t,n.id,i,o)}_classPrivateFieldLooseBase(this,H)[H](i,e.annotationCanvasMap)}static update(e){const{annotationCanvasMap:t,div:i,viewport:s}=e;(0,n.setLayerDimensions)(i,{rotation:s.rotation}),_classPrivateFieldLooseBase(this,H)[H](i,t),i.hidden=!1}}function z(e,t,i,s){const r=e.firstChild||e;r.id=`${n.AnnotationPrefix}${t}`,i.append(e),s?.moveElementInDOM(i,e,r,!1)}function q(e,t){if(t){for(const[i,s]of t){const t=e.querySelector(`[data-annotation-id="${i}"]`);if(!t)continue;const{firstChild:n}=t;n?"CANVAS"===n.nodeName?n.replaceWith(s):n.before(s):t.append(s)}t.clear()}}Object.defineProperty(W,H,{value:q}),Object.defineProperty(W,$,{value:z}),t.AnnotationLayer=W},(e,t)=>{function i(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;class s{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_HTML([e]){const t=i(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_HTML([e,t,s]){const n=i(e),r=i(t),a=i(s);return`#${n}${r}${a}`}static T_HTML(){return"#00000000"}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,n=1-t,r=1-i,a=Math.min(s,n,r);return["CMYK",s,n,r,a]}}t.ColorConverters=s},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var s=i(19);class n{static setupStorage(e,t,i,s,n){const r=s.getValue(t,{value:null});switch(i.name){case"textarea":if(null!==r.value&&(e.textContent=r.value),"print"===n)break;e.addEventListener("input",(e=>{s.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){if(r.value===i.attributes.xfaOn?e.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&e.removeAttribute("checked"),"print"===n)break;e.addEventListener("change",(e=>{s.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&e.setAttribute("value",r.value),"print"===n)break;e.addEventListener("input",(e=>{s.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==r.value)for(const e of i.children)e.attributes.value===r.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const i=e.target.options,n=-1===i.selectedIndex?"":i[i.selectedIndex].value;s.setValue(t,{value:n})}));break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:n}){const{attributes:r}=t,a=e instanceof HTMLAnchorElement;"radio"===r.type&&(r.name=`${r.name}-${s}`);for(const[o,l]of Object.entries(r))if(null!==l&&void 0!==l)switch(o){case"class":l.length&&e.setAttribute(o,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!a||"href"!==o&&"newWindow"!==o)&&e.setAttribute(o,l)}a&&n.addLinkAttributes(e,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(e,r.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,n=e.xfaHtml,r=e.intent||"display",a=document.createElement(n.name);n.attributes&&this.setAttributes({html:a,element:n,intent:r,linkService:i});const o=[[n,-1,a]],l=e.div;if(l.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==r&&l.setAttribute("class","xfaLayer xfaFont");const c=[];while(o.length>0){const[e,n,a]=o.at(-1);if(n+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:d}=l;if("#text"===d){const e=document.createTextNode(l.value);c.push(e),a.append(e);continue}let h;if(h=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,d):document.createElement(d),a.append(h),l.attributes&&this.setAttributes({html:h,element:l,storage:t,intent:r,linkService:i}),l.children&&l.children.length>0)o.push([l,-1,h]);else if(l.value){const e=document.createTextNode(l.value);s.XfaText.shouldBuildText(d)&&c.push(e),h.append(e)}}for(const s of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))s.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}t.XfaLayer=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var s=i(6),n=i(1),r=i(10);let a=class{constructor(){(0,n.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=a;{const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",d=["butt","round","square"],h=["miter","round","bevel"],u=function(e,t="",i=!1){if(URL.createObjectURL&&"undefined"!==typeof Blob&&!i)return URL.createObjectURL(new Blob([e],{type:t}));const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n=`data:${t};base64,`;for(let r=0,a=e.length;r<a;r+=3){const t=255&e[r],i=255&e[r+1],o=255&e[r+2],l=t>>2,c=(3&t)<<4|i>>4,d=r+1<a?(15&i)<<2|o>>6:64,h=r+2<a?63&o:64;n+=s[l]+s[c]+s[d]+s[h]}return n},p=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=12,i=new Int32Array(256);for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;i[n]=e}function s(e,t,s){let n=-1;for(let r=t;r<s;r++){const t=255&(n^e[r]),s=i[t];n=n>>>8^s}return~n}function a(e,t,i,n){let r=n;const a=t.length;i[r]=a>>24&255,i[r+1]=a>>16&255,i[r+2]=a>>8&255,i[r+3]=255&a,r+=4,i[r]=255&e.charCodeAt(0),i[r+1]=255&e.charCodeAt(1),i[r+2]=255&e.charCodeAt(2),i[r+3]=255&e.charCodeAt(3),r+=4,i.set(t,r),r+=t.length;const o=s(i,n+4,r);i[r]=o>>24&255,i[r+1]=o>>16&255,i[r+2]=o>>8&255,i[r+3]=255&o}function o(e,t,i){let s=1,n=0;for(let r=t;r<i;++r)s=(s+(255&e[r]))%65521,n=(n+s)%65521;return n<<16|s}function l(e){if(!r.isNodeJS)return c(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const i=__webpack_require__(5168).deflateSync(t,{level:9});return i instanceof Uint8Array?i:new Uint8Array(i)}catch(t){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return c(e)}function c(e){let t=e.length;const i=65535,s=Math.ceil(t/i),n=new Uint8Array(2+t+5*s+4);let r=0;n[r++]=120,n[r++]=156;let a=0;while(t>i)n[r++]=0,n[r++]=255,n[r++]=255,n[r++]=0,n[r++]=0,n.set(e.subarray(a,a+i),r),r+=i,a+=i,t-=i;n[r++]=1,n[r++]=255&t,n[r++]=t>>8&255,n[r++]=255&~t,n[r++]=(65535&~t)>>8&255,n.set(e.subarray(a),r),r+=e.length-a;const l=o(e,0,e.length);return n[r++]=l>>24&255,n[r++]=l>>16&255,n[r++]=l>>8&255,n[r++]=255&l,n}function d(i,s,r,o){const c=i.width,d=i.height;let h,p,f;const g=i.data;switch(s){case n.ImageKind.GRAYSCALE_1BPP:p=0,h=1,f=c+7>>3;break;case n.ImageKind.RGB_24BPP:p=2,h=8,f=3*c;break;case n.ImageKind.RGBA_32BPP:p=6,h=8,f=4*c;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+f)*d);let _=0,m=0;for(let e=0;e<d;++e)v[_++]=0,v.set(g.subarray(m,m+f),_),m+=f,_+=f;if(s===n.ImageKind.GRAYSCALE_1BPP&&o){_=0;for(let e=0;e<d;e++){_++;for(let e=0;e<f;e++)v[_++]^=255}}const y=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&d,h,p,0,0,0]),b=l(v),P=e.length+3*t+y.length+b.length,A=new Uint8Array(P);let w=0;return A.set(e,w),w+=e.length,a("IHDR",y,A,w),w+=t+y.length,a("IDATA",b,A,w),w+=t+b.length,a("IEND",new Uint8Array(0),A,w),u(A,"image/png",r)}return function(e,t,i){const s=void 0===e.kind?n.ImageKind.GRAYSCALE_1BPP:e.kind;return d(e,s,t,i)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function g(e){let t=[];const i=[];for(const s of e)"save"!==s.fn?"restore"===s.fn?t=i.pop():t.push(s):(t.push({fnId:92,fn:"group",items:[]}),i.push(t),t=t.at(-1).items);return t}function v(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let i=t.length-1;if("0"!==t[i])return t;do{i--}while("0"===t[i]);return t.substring(0,"."===t[i]?i:i+1)}function _(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${v(e[0])} ${v(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const t=180*Math.acos(e[0])/Math.PI;return`rotate(${v(t)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${v(e[4])} ${v(e[5])})`;return`matrix(${v(e[0])} ${v(e[1])} ${v(e[2])} ${v(e[3])} ${v(e[4])} ${v(e[5])})`}let m=0,y=0,b=0;t.SVGGraphics=a=class{constructor(e,t,i=!1){(0,s.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new s.DOMSVGFactory,this.current=new f,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!i,this._operatorIdMapping=[];for(const s in n.OPS)this._operatorIdMapping[n.OPS[s]]=s}getObject(e,t=null){return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,i=e.argsArray;for(let s=0,r=t.length;s<r;s++)if(t[s]===n.OPS.dependency)for(const e of i[s]){const t=e.startsWith("g_")?this.commonObjs:this.objs,i=new Promise((i=>{t.get(e,i)}));this.current.dependencies.push(i)}return Promise.all(this.current.dependencies)}transform(e,t,i,s,r,a){const o=[e,t,i,s,r,a];this.transformMatrix=n.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const i=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),i)))}convertOpList(e){const t=this._operatorIdMapping,i=e.argsArray,s=e.fnArray,n=[];for(let r=0,a=s.length;r<a;r++){const e=s[r];n.push({fnId:e,fn:t[e],args:i[r]})}return g(n)}executeOpTree(e){for(const t of e){const e=t.fn,i=t.fnId,s=t.args;switch(0|i){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(s);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case n.OPS.setFont:this.setFont(s);break;case n.OPS.showText:this.showText(s[0]);break;case n.OPS.showSpacedText:this.showText(s[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(s[0],s[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case n.OPS.setHScale:this.setHScale(s[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case n.OPS.setTextRise:this.setTextRise(s[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case n.OPS.setLineWidth:this.setLineWidth(s[0]);break;case n.OPS.setLineJoin:this.setLineJoin(s[0]);break;case n.OPS.setLineCap:this.setLineCap(s[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case n.OPS.setFillColorN:this.setFillColorN(s);break;case n.OPS.shadingFill:this.shadingFill(s[0]);break;case n.OPS.setDash:this.setDash(s[0],s[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case n.OPS.setFlatness:this.setFlatness(s[0]);break;case n.OPS.setGState:this.setGState(s[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case n.OPS.constructPath:this.constructPath(s[0],s[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,n.warn)(`Unimplemented operator ${e}`);break}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,i,s,n,r){const a=this.current;a.textMatrix=a.lineMatrix=[e,t,i,s,n,r],a.textMatrixScale=Math.hypot(e,t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${v(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",v(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.append(a.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=n.IDENTITY_MATRIX,e.lineMatrix=n.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const i=this.current;i.x=i.lineX+=e,i.y=i.lineY+=t,i.xcoords=[],i.ycoords=[],i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${v(i.fontSize)}px`),i.tspan.setAttributeNS(null,"y",v(-i.y))}showText(e){const t=this.current,i=t.font,s=t.fontSize;if(0===s)return;const r=t.fontSizeScale,a=t.charSpacing,c=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,u=i.vertical,p=u?1:-1,f=i.defaultVMetrics,g=s*t.fontMatrix[0];let m=0;for(const n of e){if(null===n){m+=d*c;continue}if("number"===typeof n){m+=p*n*s/1e3;continue}const e=(n.isSpace?c:0)+a,o=n.fontChar;let l,h,v,_=n.width;if(u){let e;const t=n.vmetric||f;e=n.vmetric?t[1]:.5*_,e=-e*g;const i=t[2]*g;_=t?-t[0]:_,l=e/r,h=(m+i)/r}else l=m/r,h=0;(n.isInFont||i.missingFile)&&(t.xcoords.push(t.x+l),u&&t.ycoords.push(-t.y+h),t.tspan.textContent+=o),v=u?_*g-e*d:_*g+e*d,m+=v}t.tspan.setAttributeNS(null,"x",t.xcoords.map(v).join(" ")),u?t.tspan.setAttributeNS(null,"y",t.ycoords.map(v).join(" ")):t.tspan.setAttributeNS(null,"y",v(-t.y)),u?t.y-=m:t.x+=m*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${v(t.fontSize)}px`),t.fontStyle!==o.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==o.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const y=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(y===n.TextRenderingMode.FILL||y===n.TextRenderingMode.FILL_STROKE?(t.fillColor!==o.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),y===n.TextRenderingMode.STROKE||y===n.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let b=t.textMatrix;0!==t.textRise&&(b=b.slice(),b[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${_(b)} scale(${v(h)}, -1)`),t.txtElement.setAttributeNS(l,"xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=u(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,i=this.commonObjs.get(e[0]);let s=e[1];t.font=i,!this.embedFonts||i.missingFile||this.embeddedFonts[i.loadedName]||(this.addFontStyle(i),this.embeddedFonts[i.loadedName]=i),t.fontMatrix=i.fontMatrix||n.FONT_IDENTITY_MATRIX;let r="normal";i.black?r="900":i.bold&&(r="bold");const a=i.italic?"italic":"normal";s<0?(s=-s,t.fontDirection=-1):t.fontDirection=1,t.fontSize=s,t.fontFamily=i.loadedName,t.fontWeight=r,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",v(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=d[e]}setLineJoin(e){this.current.lineJoin=h[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,i){this.current.strokeColor=n.Util.makeHexColor(e,t,i)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,i){this.current.fillColor=n.Util.makeHexColor(e,t,i),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,i=this.viewport.height,s=n.Util.inverseTransform(this.transformMatrix),r=n.Util.applyTransform([0,0],s),a=n.Util.applyTransform([0,i],s),o=n.Util.applyTransform([t,0],s),l=n.Util.applyTransform([t,i],s),c=Math.min(r[0],a[0],o[0],l[0]),d=Math.min(r[1],a[1],o[1],l[1]),h=Math.max(r[0],a[0],o[0],l[0]),u=Math.max(r[1],a[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c),p.setAttributeNS(null,"y",d),p.setAttributeNS(null,"width",h-c),p.setAttributeNS(null,"height",u-d),p.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(p)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],i=e[2],s=e[3]||n.IDENTITY_MATRIX,[r,a,o,l]=e[4],c=e[5],d=e[6],h=e[7],u="shading"+b++,[p,f,g,v]=n.Util.normalizeRect([...n.Util.applyTransform([r,a],s),...n.Util.applyTransform([o,l],s)]),[_,m]=n.Util.singularValueDecompose2dScale(s),y=c*_,P=d*m,A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",u),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",y),A.setAttributeNS(null,"height",P),A.setAttributeNS(null,"x",`${p}`),A.setAttributeNS(null,"y",`${f}`);const w=this.svg,S=this.transformMatrix,x=this.current.fillColor,L=this.current.strokeColor,E=this.svgFactory.create(g-p,v-f);if(this.svg=E,this.transformMatrix=s,2===h){const e=n.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(i)),this.svg=w,this.transformMatrix=S,this.current.fillColor=x,this.current.strokeColor=L,A.append(E.childNodes[0]),this.defs.append(A),`url(#${u})`}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+b++,i=e[3];let s;switch(e[1]){case"axial":const i=e[4],n=e[5];s=this.svgFactory.createElement("svg:linearGradient"),s.setAttributeNS(null,"id",t),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"x1",i[0]),s.setAttributeNS(null,"y1",i[1]),s.setAttributeNS(null,"x2",n[0]),s.setAttributeNS(null,"y2",n[1]);break;case"radial":const r=e[4],a=e[5],o=e[6],l=e[7];s=this.svgFactory.createElement("svg:radialGradient"),s.setAttributeNS(null,"id",t),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"cx",a[0]),s.setAttributeNS(null,"cy",a[1]),s.setAttributeNS(null,"r",l),s.setAttributeNS(null,"fx",r[0]),s.setAttributeNS(null,"fy",r[1]),s.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of i){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),s.append(t)}return this.defs.append(s),`url(#${t})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const i=this.current;let s=i.x,r=i.y,a=[],o=0;for(const l of e)switch(0|l){case n.OPS.rectangle:s=t[o++],r=t[o++];const e=t[o++],i=t[o++],l=s+e,c=r+i;a.push("M",v(s),v(r),"L",v(l),v(r),"L",v(l),v(c),"L",v(s),v(c),"Z");break;case n.OPS.moveTo:s=t[o++],r=t[o++],a.push("M",v(s),v(r));break;case n.OPS.lineTo:s=t[o++],r=t[o++],a.push("L",v(s),v(r));break;case n.OPS.curveTo:s=t[o+4],r=t[o+5],a.push("C",v(t[o]),v(t[o+1]),v(t[o+2]),v(t[o+3]),v(s),v(r)),o+=6;break;case n.OPS.curveTo2:a.push("C",v(s),v(r),v(t[o]),v(t[o+1]),v(t[o+2]),v(t[o+3])),s=t[o+2],r=t[o+3],o+=4;break;case n.OPS.curveTo3:s=t[o+2],r=t[o+3],a.push("C",v(t[o]),v(t[o+1]),v(s),v(r),v(s),v(r)),o+=4;break;case n.OPS.closePath:a.push("Z");break}a=a.join(" "),i.path&&e.length>0&&e[0]!==n.OPS.rectangle&&e[0]!==n.OPS.moveTo?a=i.path.getAttributeNS(null,"d")+a:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(i.path)),i.path.setAttributeNS(null,"d",a),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(s,r)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+m++,i=this.svgFactory.createElement("svg:clipPath");i.setAttributeNS(null,"id",t),i.setAttributeNS(null,"transform",_(this.transformMatrix));const s=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?s.setAttributeNS(null,"clip-rule","evenodd"):s.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,i.append(s),this.defs.append(i),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;i.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i);break;case"CA":this.setStrokeAlpha(i);break;case"ca":this.setFillAlpha(i);break;default:(0,n.warn)(`Unimplemented graphic state operator ${t}`);break}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,t=1){const i=this.current;let s=i.dashArray;1!==t&&s.length>0&&(s=s.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",i.strokeColor),e.setAttributeNS(null,"stroke-opacity",i.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",v(i.miterLimit)),e.setAttributeNS(null,"stroke-linecap",i.lineCap),e.setAttributeNS(null,"stroke-linejoin",i.lineJoin),e.setAttributeNS(null,"stroke-width",v(t*i.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",s.map(v).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",v(t*i.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,n.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const i=e.width,s=e.height,n=p(e,this.forceDataSchema,!!t),r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width",v(i)),r.setAttributeNS(null,"height",v(s)),this.current.element=r,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(c,"xlink:href",n),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",v(-s)),a.setAttributeNS(null,"width",v(i)+"px"),a.setAttributeNS(null,"height",v(s)+"px"),a.setAttributeNS(null,"transform",`scale(${v(1/i)} ${v(-1/s)})`),t?t.append(a):this._ensureTransformGroup().append(a)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,n.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const i=this.current,s=t.width,r=t.height,a=i.fillColor;i.maskId="mask"+y++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",i.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",v(s)),l.setAttributeNS(null,"height",v(r)),l.setAttributeNS(null,"fill",a),l.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],i=t[3]-t[1],s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x",t[0]),s.setAttributeNS(null,"y",t[1]),s.setAttributeNS(null,"width",v(e)),s.setAttributeNS(null,"height",v(i)),this.current.element=s,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),i=this.svgFactory.createElement("svg:defs");t.append(i),this.defs=i;const s=this.svgFactory.createElement("svg:g");return s.setAttributeNS(null,"transform",_(e.transform)),t.append(s),this.svg=s,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return r.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return a.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return s.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return n.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return s.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return n.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var t=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),s=__w_pdfjs_require__(6),n=__w_pdfjs_require__(26),r=__w_pdfjs_require__(27),a=__w_pdfjs_require__(5),o=__w_pdfjs_require__(32),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(35),d=__w_pdfjs_require__(34)})(),__nested_webpack_exports__})()))},5694:function(e,t,i){var s=i(5504)["default"],n=i(9654)["default"];i(4114),i(3375),i(9225),i(3972),i(9209),i(5714),i(7561),i(6197),i(4603),i(7566),i(8721),
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */
function(t,i){e.exports=i()}(globalThis,(()=>(()=>{"use strict";var e=[,(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=t.LinkTarget=void 0;var r=i(2);const a="noopener noreferrer nofollow",o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function l(e,{url:t,target:i,rel:s,enabled:n=!0}={}){if(!t||"string"!==typeof t)throw new Error('A valid "url" parameter must provided.');const l=(0,r.removeNullCharacters)(t);n?e.href=e.title=l:(e.href="",e.title=`Disabled: ${l}`,e.onclick=()=>!1);let c="";switch(i){case o.NONE:break;case o.SELF:c="_self";break;case o.BLANK:c="_blank";break;case o.PARENT:c="_parent";break;case o.TOP:c="_top";break}e.target=c,e.rel="string"===typeof s?s:a}t.LinkTarget=o;var c=n("pagesRefCache"),d=n("goToDestinationHelper"),h=n("isValidExplicitDestination");class u{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:s=!1}={}){Object.defineProperty(this,d,{value:p}),Object.defineProperty(this,c,{writable:!0,value:new Map}),this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e,s(this,c)[c].clear()}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get rotation(){return this.pdfViewer.pagesRotation}set rotation(e){this.pdfViewer.pagesRotation=e}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(e){if(!this.pdfDocument)return;let t,i;"string"===typeof e?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),Array.isArray(i)?s(this,d)[d](e,t,i):console.error(`PDFLinkService.goToDestination: "${i}" is not a valid destination array, for dest="${e}".`)}goToPage(e){if(!this.pdfDocument)return;const t="string"===typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`)}addLinkAttributes(e,t,i=!1){l(e,{url:t,target:i?o.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(e){if("string"===typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const s=(0,r.parseQueryString)(e);if(s.has("search")){const e=s.get("search").replaceAll('"',""),t="true"===s.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:t?e:e.match(/\S+/g)})}if(s.has("page")&&(t=0|s.get("page")||1),s.has("zoom")){const e=s.get("zoom").split(","),t=e[0],n=parseFloat(t);t.includes("Fit")?"Fit"===t||"FitB"===t?i=[null,{name:t}]:"FitH"===t||"FitBH"===t||"FitV"===t||"FitBV"===t?i=[null,{name:t},e.length>1?0|e[1]:null]:"FitR"===t?5!==e.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:t},0|e[1],0|e[2],0|e[3],0|e[4]]:console.error(`PDFLinkService.setHash: "${t}" is not a valid zoom value.`):i=[null,{name:"XYZ"},e.length>1?0|e[1]:null,e.length>2?0|e[2]:null,n?n/100:t]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),s.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:s.get("pagemode")}),s.has("nameddest")&&this.goToDestination(s.get("nameddest"))}else{i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch(n){}if("string"===typeof i||s(u,h)[h](i))return void this.goToDestination(i);console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}}executeNamedAction(e){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}async executeSetOCGState(e){const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;if(t!==this.pdfDocument)return;let s;for(const n of e.state){switch(n){case"ON":case"OFF":case"Toggle":s=n;continue}switch(s){case"ON":i.setVisibility(n,!0);break;case"OFF":i.setVisibility(n,!1);break;case"Toggle":const e=i.getGroup(n);e&&i.setVisibility(n,!e.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i)}cachePageRef(e,t){if(!t)return;const i=0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`;s(this,c)[c].set(i,e)}_cachedPageNumber(e){if(!e)return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return s(this,c)[c].get(t)||null}isPageVisible(e){return this.pdfViewer.isPageVisible(e)}isPageCached(e){return this.pdfViewer.isPageCached(e)}}function p(e,t=null,i){const n=i[0];let r;if("object"===typeof n&&null!==n){if(r=this._cachedPageNumber(n),!r)return void this.pdfDocument.getPageIndex(n).then((r=>{this.cachePageRef(r+1,n),s(this,d)[d](e,t,i)})).catch((()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid page reference, for dest="${e}".`)}))}else{if(!Number.isInteger(n))return void console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid destination reference, for dest="${e}".`);r=n+1}!r||r<1||r>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${r}" is not a valid page number, for dest="${e}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function f(e){if(!Array.isArray(e))return!1;const t=e.length;if(t<2)return!1;const i=e[0];if(("object"!==typeof i||!Number.isInteger(i.num)||!Number.isInteger(i.gen))&&!(Number.isInteger(i)&&i>=0))return!1;const s=e[1];if("object"!==typeof s||"string"!==typeof s.name)return!1;let n=!0;switch(s.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;n=!1;break;default:return!1}for(let r=2;r<t;r++){const t=e[r];if(!("number"===typeof t||n&&null===t))return!1}return!0}Object.defineProperty(u,h,{value:f}),t.PDFLinkService=u;class g{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(e){}get rotation(){return 0}set rotation(e){}get isInPresentationMode(){return!1}async goToDestination(e){}goToPage(e){}addLinkAttributes(e,t,i=!1){l(e,{url:t,enabled:this.externalLinkEnabled})}getDestinationHash(e){return"#"}getAnchorUrl(e){return"#"}setHash(e){}executeNamedAction(e){}executeSetOCGState(e){}cachePageRef(e,t){}isPageVisible(e){return!0}isPageCached(e){return!0}}t.SimpleLinkService=g},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationStarted=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RenderingStates=t.ProgressBar=t.PresentationModeState=t.OutputScale=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.CursorTool=t.AutoPrintRegExp=void 0,t.apiPageLayoutToViewerModes=Y,t.apiPageModeToSidebarView=Q,t.approximateFraction=F,t.backtrackBeforeAllVisibleElements=k,t.binarySearchFirstItem=E,t.docStyle=void 0,t.getActiveOrFocusedElement=X,t.getPageSizeInches=T,t.getVisibleElements=O,t.isPortraitOrientation=j,t.isValidRotation=D,t.isValidScrollMode=B,t.isValidSpreadMode=N,t.noContextMenuHandler=M,t.normalizeWheelEventDelta=I,t.normalizeWheelEventDirection=R,t.parseQueryString=S,t.removeNullCharacters=L,t.roundToDivide=C,t.scrollIntoView=A,t.toggleCheckedBtn=J,t.watchScroll=w;const i="auto";t.DEFAULT_SCALE_VALUE=i;const r=1;t.DEFAULT_SCALE=r;const a=1.1;t.DEFAULT_SCALE_DELTA=a;const o=.1;t.MIN_SCALE=o;const l=10;t.MAX_SCALE=l;const c=0;t.UNKNOWN_SCALE=c;const d=1.25;t.MAX_AUTO_SCALE=d;const h=40;t.SCROLLBAR_PADDING=h;const u=5;t.VERTICAL_PADDING=u;const p={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=p;const f={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.PresentationModeState=f;const g={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=g;const v={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};t.TextLayerMode=v;const _={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};t.ScrollMode=_;const m={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=m;const y={SELECT:0,HAND:1,ZOOM:2};t.CursorTool=y;const b=/\bprint\s*\(/;t.AutoPrintRegExp=b;class P{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}}function A(e,t,i=!1){let s=e.offsetParent;if(!s)return void console.error("offsetParent is not set -- cannot scroll");let n=e.offsetTop+e.clientTop,r=e.offsetLeft+e.clientLeft;while(s.clientHeight===s.scrollHeight&&s.clientWidth===s.scrollWidth||i&&(s.classList.contains("markedContent")||"hidden"===getComputedStyle(s).overflow))if(n+=s.offsetTop,r+=s.offsetLeft,s=s.offsetParent,!s)return;t&&(void 0!==t.top&&(n+=t.top),void 0!==t.left&&(r+=t.left,s.scrollLeft=r)),s.scrollTop=n}function w(e,t){const i=function(i){n||(n=window.requestAnimationFrame((function(){n=null;const i=e.scrollLeft,r=s.lastX;i!==r&&(s.right=i>r),s.lastX=i;const a=e.scrollTop,o=s.lastY;a!==o&&(s.down=a>o),s.lastY=a,t(s)})))},s={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:i};let n=null;return e.addEventListener("scroll",i,!0),s}function S(e){const t=new Map;for(const[i,s]of new URLSearchParams(e))t.set(i.toLowerCase(),s);return t}t.OutputScale=P;const x=/[\x01-\x1F]/g;function L(e,t=!1){return"string"!==typeof e?(console.error("The argument must be a string."),e):(t&&(e=e.replaceAll(x," ")),e.replaceAll("\0",""))}function E(e,t,i=0){let s=i,n=e.length-1;if(n<0||!t(e[n]))return e.length;if(t(e[s]))return s;while(s<n){const i=s+n>>1,r=e[i];t(r)?n=i:s=i+1}return s}function F(e){if(Math.floor(e)===e)return[e,1];const t=1/e,i=8;if(t>i)return[1,i];if(Math.floor(t)===t)return[1,t];const s=e>1?t:e;let n,r=0,a=1,o=1,l=1;while(1){const e=r+o,t=a+l;if(t>i)break;s<=e/t?(o=e,l=t):(r=e,a=t)}return n=s-r/a<o/l-s?s===e?[r,a]:[a,r]:s===e?[o,l]:[l,o],n}function C(e,t){const i=e%t;return 0===i?e:Math.round(e-i+t)}function T({view:e,userUnit:t,rotate:i}){const[s,n,r,a]=e,o=i%180!==0,l=(r-s)/72*t,c=(a-n)/72*t;return{width:o?c:l,height:o?l:c}}function k(e,t,i){if(e<2)return e;let s=t[e].div,n=s.offsetTop+s.clientTop;n>=i&&(s=t[e-1].div,n=s.offsetTop+s.clientTop);for(let r=e-2;r>=0;--r){if(s=t[r].div,s.offsetTop+s.clientTop+s.clientHeight<=n)break;e=r}return e}function O({scrollEl:e,views:t,sortByVisibility:i=!1,horizontal:s=!1,rtl:n=!1}){const r=e.scrollTop,a=r+e.clientHeight,o=e.scrollLeft,l=o+e.clientWidth;function c(e){const t=e.div,i=t.offsetTop+t.clientTop+t.clientHeight;return i>r}function d(e){const t=e.div,i=t.offsetLeft+t.clientLeft,s=i+t.clientWidth;return n?i<l:s>o}const h=[],u=new Set,p=t.length;let f=E(t,s?d:c);f>0&&f<p&&!s&&(f=k(f,t,r));let g=s?l:-1;for(let m=f;m<p;m++){const e=t[m],i=e.div,n=i.offsetLeft+i.clientLeft,c=i.offsetTop+i.clientTop,d=i.clientWidth,p=i.clientHeight,f=n+d,v=c+p;if(-1===g)v>=a&&(g=v);else if((s?n:c)>g)break;if(v<=r||c>=a||f<=o||n>=l)continue;const _=Math.max(0,r-c)+Math.max(0,v-a),y=Math.max(0,o-n)+Math.max(0,f-l),b=(p-_)/p,P=(d-y)/d,A=b*P*100|0;h.push({id:e.id,x:n,y:c,view:e,percent:A,widthPercent:100*P|0}),u.add(e.id)}const v=h[0],_=h.at(-1);return i&&h.sort((function(e,t){const i=e.percent-t.percent;return Math.abs(i)>.001?-i:e.id-t.id})),{first:v,last:_,views:h,ids:u}}function M(e){e.preventDefault()}function R(e){let t=Math.hypot(e.deltaX,e.deltaY);const i=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<i&&i<.75*Math.PI&&(t=-t),t}function I(e){const t=e.deltaMode;let i=R(e);const s=30,n=30;return t===WheelEvent.DOM_DELTA_PIXEL?i/=s*n:t===WheelEvent.DOM_DELTA_LINE&&(i/=n),i}function D(e){return Number.isInteger(e)&&e%90===0}function B(e){return Number.isInteger(e)&&Object.values(_).includes(e)&&e!==_.UNKNOWN}function N(e){return Number.isInteger(e)&&Object.values(m).includes(e)&&e!==m.UNKNOWN}function j(e){return e.width<=e.height}const U=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=U;const V=document.documentElement.style;function $(e,t,i){return Math.min(Math.max(e,t),i)}t.docStyle=V;var H=n("classList"),W=n("disableAutoFetchTimeout"),z=n("percent"),q=n("style"),K=n("visible");class G{constructor(e){Object.defineProperty(this,H,{writable:!0,value:null}),Object.defineProperty(this,W,{writable:!0,value:null}),Object.defineProperty(this,z,{writable:!0,value:0}),Object.defineProperty(this,q,{writable:!0,value:null}),Object.defineProperty(this,K,{writable:!0,value:!0}),s(this,H)[H]=e.classList,s(this,q)[q]=e.style}get percent(){return s(this,z)[z]}set percent(e){s(this,z)[z]=$(e,0,100),isNaN(e)?s(this,H)[H].add("indeterminate"):(s(this,H)[H].remove("indeterminate"),s(this,q)[q].setProperty("--progressBar-percent",`${s(this,z)[z]}%`))}setWidth(e){if(!e)return;const t=e.parentNode,i=t.offsetWidth-e.offsetWidth;i>0&&s(this,q)[q].setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){isNaN(s(this,z)[z])||(s(this,W)[W]&&clearTimeout(s(this,W)[W]),this.show(),s(this,W)[W]=setTimeout((()=>{s(this,W)[W]=null,this.hide()}),e))}hide(){s(this,K)[K]&&(s(this,K)[K]=!1,s(this,H)[H].add("hidden"))}show(){s(this,K)[K]||(s(this,K)[K]=!0,s(this,H)[H].remove("hidden"))}}function X(){let e=document,t=e.activeElement||e.querySelector(":focus");while(t?.shadowRoot)e=t.shadowRoot,t=e.activeElement||e.querySelector(":focus");return t}function Y(e){let t=_.VERTICAL,i=m.NONE;switch(e){case"SinglePage":t=_.PAGE;break;case"OneColumn":break;case"TwoPageLeft":t=_.PAGE;case"TwoColumnLeft":i=m.ODD;break;case"TwoPageRight":t=_.PAGE;case"TwoColumnRight":i=m.EVEN;break}return{scrollMode:t,spreadMode:i}}function Q(e){switch(e){case"UseNone":return g.NONE;case"UseThumbs":return g.THUMBS;case"UseOutlines":return g.OUTLINE;case"UseAttachments":return g.ATTACHMENTS;case"UseOC":return g.LAYERS}return g.NONE}function J(e,t,i=null){e.classList.toggle("toggled",t),e.setAttribute("aria-checked",t),i?.classList.toggle("hidden",!t)}t.ProgressBar=G},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayerBuilder=void 0;var r=i(4),a=i(5),o=i(2),l=n("numAnnotations"),c=n("onPresentationModeChanged"),d=n("updatePresentationModeState");class h{constructor({pageDiv:e,pdfPage:t,linkService:i,downloadManager:s,annotationStorage:n=null,imageResourcesPath:r="",renderForms:o=!0,l10n:h=a.NullL10n,enableScripting:p=!1,hasJSActionsPromise:f=null,fieldObjectsPromise:g=null,annotationCanvasMap:v=null,accessibilityManager:_=null}){Object.defineProperty(this,d,{value:u}),Object.defineProperty(this,l,{writable:!0,value:0}),Object.defineProperty(this,c,{writable:!0,value:null}),this.pageDiv=e,this.pdfPage=t,this.linkService=i,this.downloadManager=s,this.imageResourcesPath=r,this.renderForms=o,this.l10n=h,this.annotationStorage=n,this.enableScripting=p,this._hasJSActionsPromise=f||Promise.resolve(!1),this._fieldObjectsPromise=g||Promise.resolve(null),this._annotationCanvasMap=v,this._accessibilityManager=_,this.div=null,this._cancelled=!1,this._eventBus=i.eventBus}async render(e,t="display"){if(this.div){if(this._cancelled||0===s(this,l)[l])return;return void r.AnnotationLayer.update({viewport:e.clone({dontFlip:!0}),div:this.div,annotationCanvasMap:this._annotationCanvasMap})}const[i,n,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);this._cancelled||(s(this,l)[l]=i.length,this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),0!==s(this,l)[l]?(r.AnnotationLayer.render({viewport:e.clone({dontFlip:!0}),div:this.div,annotations:i,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:n,fieldObjects:a,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}),this.l10n.translate(this.div),this.linkService.isInPresentationMode&&s(this,d)[d](o.PresentationModeState.FULLSCREEN),s(this,c)[c]||(s(this,c)[c]=e=>{s(this,d)[d](e.state)},this._eventBus?._on("presentationmodechanged",s(this,c)[c]))):this.hide())}cancel(){this._cancelled=!0,s(this,c)[c]&&(this._eventBus?._off("presentationmodechanged",s(this,c)[c]),s(this,c)[c]=null)}hide(){this.div&&(this.div.hidden=!0)}}function u(e){if(!this.div)return;let t=!1;switch(e){case o.PresentationModeState.FULLSCREEN:t=!0;break;case o.PresentationModeState.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}t.AnnotationLayerBuilder=h},e=>{let t;t="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:i(5279),e.exports=t},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.fixupLangCode=r,t.getL10nFallback=s;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};function s(e,t){switch(e){case"find_match_count":e=`find_match_count[${1===t.total?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${1===t.limit?"one":"other"}]`;break}return i[e]||""}i.print_progress_percent="{{progress}}%";const n={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function r(e){return n[e?.toLowerCase()]||e}function a(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,((e,i)=>i in t?t[i]:"{{"+i+"}}")):e}const o={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(e,t=null,i=s(e,t)){return a(i,t)},async translate(e){}};t.NullL10n=o},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var s=i(4);function r(e,t){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=e,i.target="_parent","download"in i&&(i.download=t),(document.body||document.documentElement).append(i),i.click(),i.remove()}var a=n("openBlobUrls");class o{constructor(){Object.defineProperty(this,a,{writable:!0,value:new WeakMap})}downloadUrl(e,t,i){(0,s.createValidAbsoluteUrl)(e,"http://example.com")?r(e+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${e}`)}downloadData(e,t,i){const s=URL.createObjectURL(new Blob([e],{type:i}));r(s,t)}openOrDownloadData(e,t,i){const n=(0,s.isPdfFile)(i),r=n?"application/pdf":"";return this.downloadData(t,i,r),!1}download(e,t,i,s){const n=URL.createObjectURL(e);r(n,i)}}t.DownloadManager=o},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitOnType=t.EventBus=t.AutomationEventBus=void 0,t.waitOnEventOrTimeout=r;const i={EVENT:"event",TIMEOUT:"timeout"};function r({target:e,name:t,delay:s=0}){return new Promise((function(n,r){if("object"!==typeof e||!t||"string"!==typeof t||!(Number.isInteger(s)&&s>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(i){e instanceof o?e._off(t,l):e.removeEventListener(t,l),d&&clearTimeout(d),n(i)}const l=a.bind(null,i.EVENT);e instanceof o?e._on(t,l):e.addEventListener(t,l);const c=a.bind(null,i.TIMEOUT),d=setTimeout(c,s)}))}t.WaitOnType=i;var a=n("listeners");class o{constructor(){Object.defineProperty(this,a,{writable:!0,value:Object.create(null)})}on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once})}off(e,t,i=null){this._off(e,t,{external:!0,once:i?.once})}dispatch(e,t){const i=s(this,a)[a][e];if(!i||0===i.length)return;let n;for(const{listener:s,external:r,once:a}of i.slice(0))a&&this._off(e,s),r?(n||=[]).push(s):s(t);if(n){for(const e of n)e(t);n=null}}_on(e,t,i=null){const n=s(this,a)[a][e]||=[];n.push({listener:t,external:!0===i?.external,once:!0===i?.once})}_off(e,t,i=null){const n=s(this,a)[a][e];if(n)for(let s=0,r=n.length;s<r;s++)if(n[s].listener===t)return void n.splice(s,1)}}t.EventBus=o;class l extends o{dispatch(e,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}t.AutomationEventBus=l},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,i(9);var s=i(5);const n=document.webL10n;class r{constructor(e){this._lang=e,this._ready=new Promise(((t,i)=>{n.setLanguage((0,s.fixupLangCode)(e),(()=>{t(n)}))}))}async getLanguage(){const e=await this._ready;return e.getLanguage()}async getDirection(){const e=await this._ready;return e.getDirection()}async get(e,t=null,i=(0,s.getL10nFallback)(e,t)){const n=await this._ready;return n.get(e,t,i)}async translate(e){const t=await this._ready;return t.translate(e)}}t.GenericL10n=r},()=>{document.webL10n=function(e,t,i){var s={},n="",r="textContent",a="",o={},l="loading",c=!0;function d(){return t.querySelectorAll('link[type="application/l10n"]')}function h(){var e=t.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function u(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function p(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),i=e.getAttribute("data-l10n-args"),s={};if(i)try{s=JSON.parse(i)}catch(n){console.warn("could not parse arguments for #"+t)}return{id:t,args:s}}function f(e,t,i){t=t||function(e){},i=i||function(){};var s=new XMLHttpRequest;s.open("GET",e,c),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=utf-8"),s.onreadystatechange=function(){4==s.readyState&&(200==s.status||0===s.status?t(s.responseText):i())},s.onerror=i,s.ontimeout=i;try{s.send(null)}catch(n){i()}}function g(e,t,i,a){var o=e.replace(/[^\/]*$/,"")||"./";function l(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function c(e,i){var s={},n=/^\s*|\s*$/,r=/^\s*#|^\s*$/,a=/^\s*\[(.*)\]\s*$/,c=/^\s*@import\s+url\((.*)\)\s*$/i,d=/^([^=\s]*)\s*=\s*(.+)$/;function h(e,i,h){var p=e.replace(n,"").split(/[\r\n]+/),f="*",g=t.split("-",1)[0],v=!1,_="";function m(){while(1){if(!p.length)return void h();var e=p.shift();if(!r.test(e)){if(i){if(_=a.exec(e),_){f=_[1].toLowerCase(),v="*"!==f&&f!==t&&f!==g;continue}if(v)continue;if(_=c.exec(e),_)return void u(o+_[1],m)}var n=e.match(d);n&&3==n.length&&(s[n[1]]=l(n[2]))}}}m()}function u(e,t){f(e,(function(e){h(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}h(e,!0,(function(){i(s)}))}f(e,(function(e){n+=e,c(e,(function(e){for(var t in e){var n,a,o=t.lastIndexOf(".");o>0?(n=t.substring(0,o),a=t.substring(o+1)):(n=t,a=r),s[n]||(s[n]={}),s[n][a]=e[t]}i&&i()}))}),a)}function v(e,t){e&&(e=e.toLowerCase()),t=t||function(){},_(),a=e;var i=d(),n=i.length;if(0!==n){var r=null,o=0;r=function(){o++,o>=n&&(t(),l="complete")};for(var c=0;c<n;c++){var u=new m(i[c]);u.load(e,r)}}else{var p=h();if(p&&p.locales&&p.default_locale){if(console.log("using the embedded JSON directory, early way out"),s=p.locales[e],!s){var f=p.default_locale.toLowerCase();for(var v in p.locales){if(v=v.toLowerCase(),v===e){s=p.locales[e];break}v===f&&(s=p.locales[f])}}t()}else console.log("no resource to load, early way out");l="complete"}function m(e){var t=e.href;this.load=function(e,i){g(t,e,i,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),a="",i()}))}}}function _(){s={},n="",a=""}function m(e){var t={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function i(e,t){return-1!==t.indexOf(e)}function s(e,t,i){return t<=e&&e<=i}var n={0:function(e){return"other"},1:function(e){return s(e%100,3,10)?"few":0===e?"zero":s(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10===0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return s(e,0,1)?"one":"other"},5:function(e){return s(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return s(e,3,6)?"few":s(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&s(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return s(e%10,2,9)&&!s(e%100,11,19)?"few":e%10!=1||s(e%100,11,19)?"other":"one"},11:function(e){return s(e%10,2,4)&&!s(e%100,12,14)?"few":e%10===0||s(e%10,5,9)||s(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return s(e,2,4)?"few":1==e?"one":"other"},13:function(e){return s(e%10,2,4)&&!s(e%100,12,14)?"few":1!=e&&s(e%10,0,1)||s(e%10,5,9)||s(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return s(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||s(e%100,2,10)?"few":s(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":s(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return s(e,2,10)?"few":s(e,0,1)?"one":"other"},20:function(e){return!s(e%10,3,4)&&e%10!=9||s(e%100,10,19)||s(e%100,70,79)||s(e%100,90,99)?e%1e6===0&&0!==e?"many":e%10!=2||i(e%100,[12,72,92])?e%10!=1||i(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return s(e,0,1)||s(e,11,99)?"one":"other"},23:function(e){return s(e%10,1,2)||e%20===0?"one":"other"},24:function(e){return s(e,3,10)||s(e,13,19)?"few":i(e,[2,12])?"two":i(e,[1,11])?"one":"other"}},r=t[e.replace(/-.*$/,"")];return r in n?n[r]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}function y(e,t,i){var n=s[e];if(!n){if(console.warn("#"+e+" is undefined."),!i)return null;n=i}var r={};for(var a in n){var o=n[a];o=b(o,t,e,a),o=P(o,t,e),r[a]=o}return r}function b(e,t,i,n){var r=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,a=r.exec(e);if(!a||!a.length)return e;var l,c=a[1],d=a[2];if(t&&d in t?l=t[d]:d in s&&(l=s[d]),c in o){var h=o[c];e=h(e,l,i,n)}return e}function P(e,t,i){var n=/\{\{\s*(.+?)\s*\}\}/g;return e.replace(n,(function(e,n){return t&&n in t?t[n]:n in s?s[n]:(console.log("argument {{"+n+"}} for #"+i+" is undefined."),e)}))}function A(e){var i=p(e);if(i.id){var s=y(i.id,i.args);if(s){if(s[r]){if(0===w(e))e[r]=s[r];else{for(var n=e.childNodes,a=!1,o=0,l=n.length;o<l;o++)3===n[o].nodeType&&/\S/.test(n[o].nodeValue)&&(a?n[o].nodeValue="":(n[o].nodeValue=s[r],a=!0));if(!a){var c=t.createTextNode(s[r]);e.prepend(c)}}delete s[r]}for(var d in s)e[d]=s[d]}else console.warn("#"+i.id+" is undefined.")}}function w(e){if(e.children)return e.children.length;if("undefined"!==typeof e.childElementCount)return e.childElementCount;for(var t=0,i=0;i<e.childNodes.length;i++)t+=1===e.nodeType?1:0;return t}function S(e){e=e||t.documentElement;for(var i=u(e),s=i.length,n=0;n<s;n++)A(i[n]);A(e)}return o.plural=function(e,t,i,n){var l=parseFloat(t);if(isNaN(l))return e;if(n!=r)return e;o._pluralRules||(o._pluralRules=m(a));var c="["+o._pluralRules(l)+"]";return 0===l&&i+"[zero]"in s?e=s[i+"[zero]"][n]:1==l&&i+"[one]"in s?e=s[i+"[one]"][n]:2==l&&i+"[two]"in s?e=s[i+"[two]"][n]:i+c in s?e=s[i+c][n]:i+"[other]"in s&&(e=s[i+"[other]"][n]),e},{get:function(e,t,i){var s,n=e.lastIndexOf("."),a=r;n>0&&(a=e.substring(n+1),e=e.substring(0,n)),i&&(s={},s[a]=i);var o=y(e,t,s);return o&&a in o?o[a]:"{{"+e+"}}"},getData:function(){return s},getText:function(){return n},getLanguage:function(){return a},setLanguage:function(e,t){v(e,(function(){t&&t()}))},getDirection:function(){var e=["ar","he","fa","ps","ur"],t=a.split("-",1)[0];return e.indexOf(t)>=0?"rtl":"ltr"},translate:S,getReadyState:function(){return l},ready:function(i){i&&("complete"==l||"interactive"==l?e.setTimeout((function(){i()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),i()})))}}}(window,document)},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=i(2),a=i(11),o=i(4);const l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=l;const c=250,d=-50,h=-400,u={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let f;const g=/\p{M}+/gu,v=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,_=/([^\p{M}])\p{M}*$/u,m=/^\p{M}*([^\p{M}])/u,y=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,b=new Map,P="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",A=new Map;let w=null,S=null;function x(e){const t=[];let i,s;while(null!==(i=y.exec(e))){let{index:e}=i;for(const s of i[0]){let i=b.get(s);i||(i=s.normalize("NFD").length,b.set(s,i)),t.push([i,e++])}}if(0===t.length&&w)s=w;else if(t.length>0&&S)s=S;else{const e=Object.keys(u).join(""),i=(0,a.getNormalizeWithNFKC)(),n="(?:\\p{Ideographic}|[぀-ヿ])",r="(?:゙|゚)",o=`([${e}])|([${i}])|(${r}\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(${n}\\n)|(\\n)`;s=0===t.length?w=new RegExp(o+"|(\\u0000)","gum"):S=new RegExp(o+`|(${P})`,"gum")}const n=[];while(null!==(i=g.exec(e)))n.push([i[0].length,i.index]);let r=e.normalize("NFD");const o=[[0,0]];let l=0,c=0,d=0,h=0,p=0,f=!1;return r=r.replace(s,((e,i,s,r,a,g,v,_,m,y)=>{if(y-=h,i){const e=u[i],t=e.length;for(let i=1;i<t;i++)o.push([y-d+i,d-i]);return d-=t-1,e}if(s){let e=A.get(s);e||(e=s.normalize("NFKC"),A.set(s,e));const t=e.length;for(let i=1;i<t;i++)o.push([y-d+i,d-i]);return d-=t-1,e}if(r)return f=!0,y+p===n[l]?.[1]?++l:(o.push([y-1-d+1,d-1]),d-=1,h+=1),o.push([y-d+1,d]),h+=1,p+=1,r.charAt(0);if(a){const e=a.endsWith("\n"),t=e?a.length-2:a.length;f=!0;let i=t;y+p===n[l]?.[1]&&(i-=n[l][0],++l);for(let s=1;s<=i;s++)o.push([y-1-d+s,d-s]);return d-=i,h+=i,e?(y+=t-1,o.push([y-d+1,1+d]),d+=1,h+=1,p+=1,a.slice(0,t)):a}if(g){const e=g.length-2;return o.push([y-d+e,1+d]),d+=1,h+=1,p+=1,g.slice(0,-2)}if(v){const e=v.length-1;return o.push([y-d+e,d]),h+=1,p+=1,v.slice(0,-1)}if(_)return o.push([y-d+1,d-1]),d-=1,h+=1,p+=1," ";if(y+p===t[c]?.[1]){const e=t[c][0]-1;++c;for(let t=1;t<=e;t++)o.push([y-(d-t),d-t]);d-=e,h+=e}return m})),o.push([r.length,d]),[r,o,f]}function L(e,t,i){if(!e)return[t,i];const s=t,n=t+i-1;let a=(0,r.binarySearchFirstItem)(e,(e=>e[0]>=s));e[a][0]>s&&--a;let o=(0,r.binarySearchFirstItem)(e,(e=>e[0]>=n),a);e[o][0]>n&&--o;const l=s+e[a][1],c=n+e[o][1],d=c+1-l;return[l,d]}var E=n("state"),F=n("updateMatchesCountOnProgress"),C=n("visitedPagesCount"),T=n("onFind"),k=n("reset"),O=n("query"),M=n("shouldDirtyMatch"),R=n("isEntireWord"),I=n("calculateRegExpMatch"),D=n("convertToRegExpString"),B=n("calculateMatch"),N=n("extractText"),j=n("updatePage"),U=n("updateAllPages"),V=n("nextMatch"),$=n("matchesReady"),H=n("nextPageMatch"),W=n("advanceOffsetPage"),z=n("updateMatch"),q=n("onFindBarClose"),K=n("requestMatchesCount"),G=n("updateUIResultsCount"),X=n("updateUIState");class Y{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){Object.defineProperty(this,X,{value:ve}),Object.defineProperty(this,G,{value:ge}),Object.defineProperty(this,K,{value:fe}),Object.defineProperty(this,q,{value:pe}),Object.defineProperty(this,z,{value:ue}),Object.defineProperty(this,W,{value:he}),Object.defineProperty(this,H,{value:de}),Object.defineProperty(this,$,{value:ce}),Object.defineProperty(this,V,{value:le}),Object.defineProperty(this,U,{value:oe}),Object.defineProperty(this,j,{value:ae}),Object.defineProperty(this,N,{value:re}),Object.defineProperty(this,B,{value:ne}),Object.defineProperty(this,D,{value:se}),Object.defineProperty(this,I,{value:ie}),Object.defineProperty(this,R,{value:te}),Object.defineProperty(this,M,{value:ee}),Object.defineProperty(this,O,{get:Z,set:void 0}),Object.defineProperty(this,k,{value:J}),Object.defineProperty(this,T,{value:Q}),Object.defineProperty(this,E,{writable:!0,value:null}),Object.defineProperty(this,F,{writable:!0,value:!0}),Object.defineProperty(this,C,{writable:!0,value:0}),this._linkService=e,this._eventBus=t,s(this,F)[F]=i,s(this,k)[k](),t._on("find",s(this,T)[T].bind(this)),t._on("findbarclose",s(this,q)[q].bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return s(this,E)[E]}setDocument(e){this._pdfDocument&&s(this,k)[k](),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:s=-1}){if(!this._scrollMatches||!e)return;if(-1===s||s!==this._selected.matchIdx)return;if(-1===i||i!==this._selected.pageIdx)return;this._scrollMatches=!1;const n={top:d,left:t+h};(0,r.scrollIntoView)(e,n,!0)}}function Q(e){if(!e)return;!1===e.phraseSearch&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),"string"===typeof e.query&&(e.query=e.query.match(/\S+/g)));const t=this._pdfDocument,{type:i}=e;(null===s(this,E)[E]||s(this,M)[M](e))&&(this._dirtyMatch=!0),s(this,E)[E]=e,"highlightallchange"!==i&&s(this,X)[X](l.PENDING),this._firstPageCapability.promise.then((()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;s(this,N)[N]();const e=!this._highlightMatches,n=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?s(this,V)[V]():"again"===i?(s(this,V)[V](),e&&s(this,E)[E].highlightAll&&s(this,U)[U]()):"highlightallchange"===i?(n?s(this,V)[V]():this._highlightMatches=!0,s(this,U)[U]()):s(this,V)[V]():this._findTimeout=setTimeout((()=>{s(this,V)[V](),this._findTimeout=null}),c)}))}function J(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],s(this,C)[C]=0,s(this,E)[E]=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new o.PromiseCapability}function Z(){const{query:e}=s(this,E)[E];return"string"===typeof e?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=x(e)),this._normalizedQuery):(e||[]).filter((e=>!!e)).map((e=>x(e)[0]))}function ee(e){const t=e.query,i=s(this,E)[E].query,n=typeof t,r=typeof i;if(n!==r)return!0;if("string"===n){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const e=this._selected.pageIdx+1,t=this._linkService;return e>=1&&e<=t.pagesCount&&e!==t.page&&!t.isPageVisible(e);case"highlightallchange":return!1}return!0}function te(e,t,i){let s=e.slice(0,t).match(_);if(s){const i=e.charCodeAt(t),n=s[1].charCodeAt(0);if((0,a.getCharacterType)(i)===(0,a.getCharacterType)(n))return!1}if(s=e.slice(t+i).match(m),s){const n=e.charCodeAt(t+i-1),r=s[1].charCodeAt(0);if((0,a.getCharacterType)(n)===(0,a.getCharacterType)(r))return!1}return!0}function ie(e,t,i,n){const r=this._pageMatches[i]=[],a=this._pageMatchesLength[i]=[];if(!e)return;const o=this._pageDiffs[i];let l;while(null!==(l=e.exec(n))){if(t&&!s(this,R)[R](n,l.index,l[0].length))continue;const[e,i]=L(o,l.index,l[0].length);i&&(r.push(e),a.push(i))}}function se(e,t){const{matchDiacritics:i}=s(this,E)[E];let n=!1;e=e.replaceAll(v,((e,s,r,a,o,l)=>s?`[ ]*\\${s}[ ]*`:r?`[ ]*${r}[ ]*`:a?"[ ]+":i?o||l:o?p.has(o.charCodeAt(0))?o:"":t?(n=!0,`${l}\\p{M}*`):l));const r="[ ]*";return e.endsWith(r)&&(e=e.slice(0,e.length-r.length)),i&&t&&(f||=String.fromCharCode(...p),n=!0,e=`${e}(?=[${f}]|[^\\p{M}]|$)`),[n,e]}function ne(e){let t=s(this,O)[O];if(0===t.length)return;const{caseSensitive:i,entireWord:n}=s(this,E)[E],r=this._pageContents[e],a=this._hasDiacritics[e];let o=!1;"string"===typeof t?[o,t]=s(this,D)[D](t,a):t=t.sort().reverse().map((e=>{const[t,i]=s(this,D)[D](e,a);return o||=t,`(${i})`})).join("|");const l=`g${o?"u":""}${i?"":"i"}`;t=t?new RegExp(t,l):null,s(this,I)[I](t,n,e,r),s(this,E)[E].highlightAll&&s(this,j)[j](e),this._resumePageIdx===e&&(this._resumePageIdx=null,s(this,H)[H]());const c=this._pageMatches[e].length;this._matchesCountTotal+=c,s(this,F)[F]?c>0&&s(this,G)[G]():++s(this,C)[C]===this._linkService.pagesCount&&s(this,G)[G]()}function re(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0};for(let i=0,s=this._linkService.pagesCount;i<s;i++){const s=new o.PromiseCapability;this._extractTextPromises[i]=s.promise,e=e.then((()=>this._pdfDocument.getPage(i+1).then((e=>e.getTextContent(t))).then((e=>{const t=[];for(const i of e.items)t.push(i.str),i.hasEOL&&t.push("\n");[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=x(t.join("")),s.resolve()}),(e=>{console.error(`Unable to get text content for page ${i+1}`,e),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,s.resolve()}))))}}function ae(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}function oe(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function le(){const e=s(this,E)[E].findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,s(this,C)[C]=0,this._matchesCountTotal=0,s(this,U)[U]();for(let e=0;e<i;e++)this._pendingFindMatches.has(e)||(this._pendingFindMatches.add(e),this._extractTextPromises[e].then((()=>{this._pendingFindMatches.delete(e),s(this,B)[B](e)})))}const n=s(this,O)[O];if(0===n.length)return void s(this,X)[X](l.FOUND);if(this._resumePageIdx)return;const r=this._offset;if(this._pagesToSearch=i,null!==r.matchIdx){const t=this._pageMatches[r.pageIdx].length;if(!e&&r.matchIdx+1<t||e&&r.matchIdx>0)return r.matchIdx=e?r.matchIdx-1:r.matchIdx+1,void s(this,z)[z](!0);s(this,W)[W](e)}s(this,H)[H]()}function ce(e){const t=this._offset,i=e.length,n=s(this,E)[E].findPrevious;return i?(t.matchIdx=n?i-1:0,s(this,z)[z](!0),!0):(s(this,W)[W](n),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(s(this,z)[z](!1),!0))}function de(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!s(this,$)[$](e))}function he(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}function ue(e=!1){let t=l.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const e=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?l.WRAPPED:l.FOUND,-1!==e&&e!==this._selected.pageIdx&&s(this,j)[j](e)}s(this,X)[X](t,s(this,E)[E].findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,s(this,j)[j](this._selected.pageIdx))}function pe(e){const t=this._pdfDocument;this._firstPageCapability.promise.then((()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),s(this,X)[X](l.FOUND),this._highlightMatches=!1,s(this,U)[U]())}))}function fe(){const{pageIdx:e,matchIdx:t}=this._selected;let i=0,s=this._matchesCountTotal;if(-1!==t){for(let t=0;t<e;t++)i+=this._pageMatches[t]?.length||0;i+=t+1}return(i<1||i>s)&&(i=s=0),{current:i,total:s}}function ge(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:s(this,K)[K]()})}function ve(e,t=!1){(s(this,F)[F]||s(this,C)[C]===this._linkService.pagesCount&&e!==l.PENDING)&&this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:s(this,K)[K](),rawQuery:s(this,E)[E]?.query??null})}t.PDFFindController=Y},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterType=void 0,t.getCharacterType=p,t.getNormalizeWithNFKC=g;const i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function s(e){return e<11904}function n(e){return 0===(65408&e)}function r(e){return e>=97&&e<=122||e>=65&&e<=90}function a(e){return e>=48&&e<=57}function o(e){return 32===e||9===e||13===e||10===e}function l(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}function c(e){return e>=12448&&e<=12543}function d(e){return e>=12352&&e<=12447}function h(e){return e>=65376&&e<=65439}function u(e){return 3584===(65408&e)}function p(e){return s(e)?n(e)?o(e)?i.SPACE:r(e)||a(e)||95===e?i.ALPHA_LETTER:i.PUNCT:u(e)?i.THAI_LETTER:160===e?i.SPACE:i.ALPHA_LETTER:l(e)?i.HAN_LETTER:c(e)?i.KATAKANA_LETTER:d(e)?i.HIRAGANA_LETTER:h(e)?i.HALFWIDTH_KATAKANA_LETTER:i.ALPHA_LETTER}let f;function g(){return f||=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦",f}t.CharacterType=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFHistory=void 0,t.isDestArraysEqual=h,t.isDestHashesEqual=d;var s=i(2),n=i(7);const r=1e3,a=50,o=1e3;function l(){return document.location.hash}class c{constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",(()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",(e=>{this._isPagesLoaded=!!e.pagesCount}),{once:!0})}))}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||"string"!==typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const s=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===i,this._initialized=!0,this._bindEvents();const n=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=l(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(n,!0)||t){const{hash:e,page:i,rotation:n}=this._parseCurrentHash(!0);return!e||s||t?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:e,page:i,rotation:n},!0)}const r=n.destination;this._updateInternalState(r,n.uid,!0),void 0!==r.rotation&&(this._initialRotation=r.rotation),r.dest?(this._initialBookmark=JSON.stringify(r.dest),this._destination.page=null):r.hash?this._initialBookmark=r.hash:r.page&&(this._initialBookmark=`page=${r.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&"string"!==typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(t))return void console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);if(!this._isValidPage(i)&&(null!==i||this._destination))return void console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);const s=e||JSON.stringify(t);if(!s)return;let n=!1;if(this._destination&&(d(this._destination.hash,s)||h(this._destination.dest,t))){if(this._destination.page)return;n=!0}this._popStateInProgress&&!n||(this._pushOrReplaceState({dest:t,hash:s,page:i,rotation:this.linkService.rotation},n),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((()=>{this._popStateInProgress=!1}))))}pushPage(e){this._initialized&&(this._isValidPage(e)?this._destination?.page!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((()=>{this._popStateInProgress=!1}))))):console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,t=!1){const i=t||!this._destination,s={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};let n;if(this._updateInternalState(e,s.uid),this._updateUrl&&e?.hash){const t=document.location.href.split("#")[0];t.startsWith("file://")||(n=`${t}#${e.hash}`)}i?window.history.replaceState(s,"",n):window.history.pushState(s,"",n)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this._pushOrReplaceState(t);if(this._destination.temporary)return void this._pushOrReplaceState(t,!0);if(this._destination.hash===t.hash)return;if(!this._destination.page&&(a<=0||this._numPositionUpdates<=a))return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this._pushOrReplaceState(t,i)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!==typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if("reload"!==t?.type)return!1}}return!(!Number.isInteger(e.uid)||e.uid<0)&&(null!==e.destination&&"object"===typeof e.destination)}_updateInternalState(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const t=unescape(l()).substring(1),i=(0,s.parseQueryString)(t),n=i.get("nameddest")||"";let r=0|i.get("page");return(!this._isValidPage(r)||e&&n.length>0)&&(r=null),{hash:t,page:r,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},this._popStateInProgress||(a>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,o>0&&(this._updateViewareaTimeout=setTimeout((()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null}),o)))}_popState({state:e}){const t=l(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:e,page:t,rotation:i}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:e,page:t,rotation:i},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,(0,n.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:r}).then((()=>{this._blockHashChange--})));const a=e.destination;this._updateInternalState(a,e.uid,!0),(0,s.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation),a.dest?this.linkService.goToDestination(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page),Promise.resolve().then((()=>{this._popStateInProgress=!1}))}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}function d(e,t){if("string"!==typeof e||"string"!==typeof t)return!1;if(e===t)return!0;const i=(0,s.parseQueryString)(e).get("nameddest");return i===t}function h(e,t){function i(e,t){if(typeof e!==typeof t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"===typeof e&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!i(e[s],t[s]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let s=0,n=e.length;s<n;s++)if(!i(e[s],t[s]))return!1;return!0}t.PDFHistory=c},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r=i(4),a=i(2),o=i(14),l=i(3),c=i(15),d=i(5),h=i(1),u=i(16),p=i(17),f=i(18),g=i(19),v=i(20);const _=c.compatibilityParams.maxCanvasPixels||16777216,m=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new h.SimpleLinkService}});var y=n("annotationMode"),b=n("layerProperties"),P=n("loadingId"),A=n("previousRotation"),w=n("renderError"),S=n("renderingState"),x=n("textLayerMode"),L=n("useThumbnailCanvas"),E=n("viewportMap"),F=n("setDimensions"),C=n("renderAnnotationLayer"),T=n("renderAnnotationEditorLayer"),k=n("renderXfaLayer"),O=n("renderTextLayer"),M=n("renderStructTreeLayer"),R=n("buildXfaTextContentItems"),I=n("finishRenderTask");class D{constructor(e){Object.defineProperty(this,I,{value:W}),Object.defineProperty(this,R,{value:H}),Object.defineProperty(this,M,{value:$}),Object.defineProperty(this,O,{value:V}),Object.defineProperty(this,k,{value:U}),Object.defineProperty(this,T,{value:j}),Object.defineProperty(this,C,{value:N}),Object.defineProperty(this,F,{value:B}),Object.defineProperty(this,y,{writable:!0,value:r.AnnotationMode.ENABLE_FORMS}),Object.defineProperty(this,b,{writable:!0,value:null}),Object.defineProperty(this,P,{writable:!0,value:null}),Object.defineProperty(this,A,{writable:!0,value:null}),Object.defineProperty(this,w,{writable:!0,value:null}),Object.defineProperty(this,S,{writable:!0,value:a.RenderingStates.INITIAL}),Object.defineProperty(this,x,{writable:!0,value:a.TextLayerMode.ENABLE}),Object.defineProperty(this,L,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}}),Object.defineProperty(this,E,{writable:!0,value:new WeakMap});const t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,s(this,b)[b]=e.layerProperties||m,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||a.DEFAULT_SCALE,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,s(this,x)[x]=e.textLayerMode??a.TextLayerMode.ENABLE,s(this,y)[y]=e.annotationMode??r.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.isOffscreenCanvasSupported=e.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=e.maxCanvasPixels||_,this.pageColors=e.pageColors||null,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n||d.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const n=document.createElement("div");if(n.className="page",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then((e=>{n.setAttribute("aria-label",e)})),this.div=n,s(this,F)[F](),t?.append(n),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:i}=e;i&&i.then((e=>{i===this._optionalContentConfigPromise&&(s(this,L)[L].initialOptionalContent=e.hasInitialVisibility)}))}}get renderingState(){return s(this,S)[S]}set renderingState(e){if(e!==s(this,S)[S])switch(s(this,S)[S]=e,s(this,P)[P]&&(clearTimeout(s(this,P)[P]),s(this,P)[P]=null),e){case a.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case a.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),s(this,P)[P]=setTimeout((()=>{this.div.classList.add("loading"),s(this,P)[P]=null}),0);break;case a.RenderingStates.INITIAL:case a.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:t}),s(this,F)[F](),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,r.shadow)(this,"_textHighlighter",new f.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:s(this,b)[b]().findController}))}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;s(this,E)[E].delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:n=!1,keepTextLayer:r=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:n,keepTextLayer:r}),this.renderingState=a.RenderingStates.INITIAL;const o=this.div,l=o.childNodes,c=e&&this.zoomLayer||null,d=t&&this.annotationLayer?.div||null,h=i&&this.annotationEditorLayer?.div||null,u=n&&this.xfaLayer?.div||null,p=r&&this.textLayer?.div||null;for(let s=l.length-1;s>=0;s--){const e=l[s];switch(e){case c:case d:case h:case u:case p:continue}e.remove()}o.removeAttribute("data-loaded"),d&&this.annotationLayer.hide(),h&&this.annotationEditorLayer.hide(),u&&this.xfaLayer.hide(),p&&this.textLayer.hide(),this.structTreeLayer?.hide(),c||(this.canvas&&(s(this,E)[E].delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:n=-1}){this.scale=e||this.scale,"number"===typeof t&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then((e=>{i===this._optionalContentConfigPromise&&(s(this,L)[L].initialOptionalContent=e.hasInitialVisibility)})));const o=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:o}),s(this,F)[F](),this._isStandalone&&this.div.parentNode?.style.setProperty("--scale-factor",this.viewport.scale);let l=!1;if(this.canvas&&this.maxCanvasPixels>0){const{width:e,height:t}=this.viewport,{sx:i,sy:s}=this.outputScale;(Math.floor(e)*i|0)*(Math.floor(t)*s|0)>this.maxCanvasPixels&&(l=!0)}const c=this.useOnlyCssZoom||this.hasRestrictedScaling&&l,d=!c&&n>=0&&n<1e3;if(this.canvas){if(d||c)return d&&this.renderingState!==a.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:n}),this.renderingState=a.RenderingStates.FINISHED),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!d,hideTextLayer:d}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:s(this,w)[w]});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:n=0}={}){this.renderTask&&(this.renderTask.cancel(n),this.renderTask=null),this.resume=null,!this.textLayer||s&&this.textLayer.div||(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),!this.annotationLayer||e&&this.annotationLayer.div||(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),!this.annotationEditorLayer||t&&this.annotationEditorLayer.div||(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||i&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:n=!1,redrawTextLayer:r=!1,hideTextLayer:a=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:t}=e;t.width=t.height=""}const o=s(this,E)[E].get(e);if(this.viewport!==o){const t=this.viewport.rotation-o.rotation,i=Math.abs(t);let s=1,n=1;if(90===i||270===i){const{width:e,height:t}=this.viewport;s=t/e,n=e/t}e.style.transform=`rotate(${t}deg) scale(${s}, ${n})`}t&&this.annotationLayer&&s(this,C)[C](),i&&this.annotationEditorLayer&&s(this,T)[T](),n&&this.xfaLayer&&s(this,k)[k](),this.textLayer&&(a?(this.textLayer.hide(),this.structTreeLayer?.hide()):r&&s(this,O)[O]())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}async draw(){this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:e,l10n:t,pageColors:i,pdfPage:n,viewport:c}=this;if(!n)throw this.renderingState=a.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=a.RenderingStates.RUNNING;const d=document.createElement("div");if(d.classList.add("canvasWrapper"),e.append(d),this.textLayer||s(this,x)[x]===a.TextLayerMode.DISABLE||n.isPureXfa||(this._accessibilityManager||=new p.TextAccessibilityManager,this.textLayer=new g.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:s(this,x)[x]===a.TextLayerMode.ENABLE_PERMISSIONS}),e.append(this.textLayer.div)),!this.annotationLayer&&s(this,y)[y]!==r.AnnotationMode.DISABLE){const{annotationStorage:i,downloadManager:a,enableScripting:o,fieldObjectsPromise:c,hasJSActionsPromise:d,linkService:h}=s(this,b)[b]();this._annotationCanvasMap||=new Map,this.annotationLayer=new l.AnnotationLayerBuilder({pageDiv:e,pdfPage:n,annotationStorage:i,imageResourcesPath:this.imageResourcesPath,renderForms:s(this,y)[y]===r.AnnotationMode.ENABLE_FORMS,linkService:h,downloadManager:a,l10n:t,enableScripting:o,hasJSActionsPromise:d,fieldObjectsPromise:c,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const h=e=>{if(P?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this))return this.renderingState=a.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=a.RenderingStates.RUNNING,e()});e()},{width:u,height:f}=c,_=document.createElement("canvas");_.setAttribute("role","presentation"),_.hidden=!0;const m=!(!i?.background||!i?.foreground);let P=e=>{m&&!e||(_.hidden=!1,P=null)};d.append(_),this.canvas=_;const A=_.getContext("2d",{alpha:!1}),w=this.outputScale=new a.OutputScale;if(this.useOnlyCssZoom){const e=c.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});w.sx*=e.width/u,w.sy*=e.height/f}if(this.maxCanvasPixels>0){const e=u*f,t=Math.sqrt(this.maxCanvasPixels/e);w.sx>t||w.sy>t?(w.sx=t,w.sy=t,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const S=(0,a.approximateFraction)(w.sx),L=(0,a.approximateFraction)(w.sy);_.width=(0,a.roundToDivide)(u*w.sx,S[0]),_.height=(0,a.roundToDivide)(f*w.sy,L[0]);const{style:F}=_;F.width=(0,a.roundToDivide)(u,S[1])+"px",F.height=(0,a.roundToDivide)(f,L[1])+"px",s(this,E)[E].set(_,c);const M=w.scaled?[w.sx,0,0,w.sy,0,0]:null,R={canvasContext:A,transform:M,viewport:c,annotationMode:s(this,y)[y],optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i},D=this.renderTask=this.pdfPage.render(R);D.onContinue=h;const B=D.promise.then((async()=>{if(P?.(!0),await s(this,I)[I](D),s(this,O)[O](),this.annotationLayer&&await s(this,C)[C](),!this.annotationEditorLayer){const{annotationEditorUIManager:i}=s(this,b)[b]();if(!i)return;this.annotationEditorLayer=new o.AnnotationEditorLayerBuilder({uiManager:i,pageDiv:e,pdfPage:n,l10n:t,accessibilityManager:this._accessibilityManager})}s(this,T)[T]()}),(e=>(e instanceof r.RenderingCancelledException||P?.(!0),s(this,I)[I](D,e))));if(n.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&e.append(this.xfaLayer.div);else{const{annotationStorage:t,linkService:i}=s(this,b)[b]();this.xfaLayer=new v.XfaLayerBuilder({pageDiv:e,pdfPage:n,annotationStorage:t,linkService:i})}s(this,k)[k]()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),B}setPageLabel(e){this.pageLabel="string"===typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:e,regularAnnotations:t}=s(this,L)[L];return e&&t?this.canvas:null}}function B(){const{viewport:e}=this;if(this.pdfPage){if(s(this,A)[A]===e.rotation)return;s(this,A)[A]=e.rotation}(0,r.setLayerDimensions)(this.div,e,!0,!1)}async function N(){let e=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:e})}}async function j(){let e=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:e})}}async function U(){let e=null;try{const e=await this.xfaLayer.render(this.viewport,"display");e?.textDivs&&this._textHighlighter&&s(this,R)[R](e.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:e})}}async function V(){const{pdfPage:e,textLayer:t,viewport:i}=this;if(!t)return;let n=null;try{if(!t.renderingDone){const i=e.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});t.setTextContentSource(i)}await t.render(i)}catch(a){if(a instanceof r.AbortException)return;console.error(`#renderTextLayer: "${a}".`),n=a}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:t.numTextDivs,error:n}),s(this,M)[M]()}async function $(){if(!this.textLayer)return;this.structTreeLayer||=new u.StructTreeLayerBuilder;const e=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),t=this.structTreeLayer?.render(e);t&&this.canvas?.append(t),this.structTreeLayer?.show()}async function H(e){const t=await this.pdfPage.getTextContent(),i=[];for(const s of t.items)i.push(s.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()}async function W(e,t=null){if(e===this.renderTask&&(this.renderTask=null),t instanceof r.RenderingCancelledException)s(this,w)[w]=null;else if(s(this,w)[w]=t,this.renderingState=a.RenderingStates.FINISHED,this._resetZoomLayer(!0),s(this,L)[L].regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:s(this,w)[w]}),t)throw t}t.PDFPageView=D},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayerBuilder=void 0;var r=i(4),a=i(5),o=n("uiManager");class l{constructor(e){Object.defineProperty(this,o,{writable:!0,value:void 0}),this.pageDiv=e.pageDiv,this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n||a.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,s(this,o)[o]=e.uiManager}async render(e,t="display"){if("display"!==t)return;if(this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div)return this.annotationEditorLayer.update({viewport:i}),void this.show();const n=this.div=document.createElement("div");n.className="annotationEditorLayer",n.tabIndex=0,n.hidden=!0,this.pageDiv.append(n),this.annotationEditorLayer=new r.AnnotationEditorLayer({uiManager:s(this,o)[o],div:n,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i});const a={viewport:i,div:n,annotations:null,intent:t};this.annotationEditorLayer.render(a),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&!this.annotationEditorLayer.isEmpty&&(this.div.hidden=!1)}}t.AnnotationEditorLayerBuilder=l},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compatibilityParams=t.OptionKind=t.AppOptions=void 0;const i=Object.create(null);t.compatibilityParams=i;{const e=navigator.userAgent||"",t=navigator.platform||"",s=navigator.maxTouchPoints||1,n=/Android/.test(e),r=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||"MacIntel"===t&&s>1;(function(){(r||n)&&(i.maxCanvasPixels=5242880)})()}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=s;const n={annotationEditorMode:{value:0,kind:s.VIEWER+s.PREFERENCE},annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultZoomDelay:{value:400,kind:s.VIEWER+s.PREFERENCE},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enableFloatingToolbar:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,kind:s.VIEWER},forcePageColors:{value:!1,kind:s.VIEWER+s.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:s.VIEWER+s.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:s.VIEWER+s.PREFERENCE},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},useOnlyCssZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},isOffscreenCanvasSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};n.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},n.disablePreferences={value:!1,kind:s.VIEWER},n.locale={value:navigator.language||"en-US",kind:s.VIEWER},n.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER};const r=Object.create(null);class a{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){const t=r[e];if(void 0!==t)return t;const s=n[e];return void 0!==s?i[e]??s.value:void 0}static getAll(e=null){const t=Object.create(null);for(const a in n){const o=n[a];if(e){if(0===(e&o.kind))continue;if(e===s.PREFERENCE){const e=o.value,i=typeof e;if("boolean"===i||"string"===i||"number"===i&&Number.isInteger(e)){t[a]=e;continue}throw new Error(`Invalid type for preference: ${a}`)}}const l=r[a];t[a]=void 0!==l?l:i[a]??o.value}return t}static set(e,t){r[e]=t}static setAll(e){for(const t in e)r[t]=e[t]}static remove(e){delete r[e]}}t.AppOptions=a,a._hasUserOptions=function(){return Object.keys(r).length>0}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeLayerBuilder=void 0;const i={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;var a=n("treeDom"),o=n("setAttributes"),l=n("walk");class c{constructor(){Object.defineProperty(this,l,{value:h}),Object.defineProperty(this,o,{value:d}),Object.defineProperty(this,a,{writable:!0,value:void 0})}get renderingDone(){return void 0!==s(this,a)[a]}render(e){if(void 0!==s(this,a)[a])return s(this,a)[a];const t=s(this,l)[l](e);return t?.classList.add("structTree"),s(this,a)[a]=t}hide(){s(this,a)[a]&&!s(this,a)[a].hidden&&(s(this,a)[a].hidden=!0)}show(){s(this,a)[a]?.hidden&&(s(this,a)[a].hidden=!1)}}function d(e,t){void 0!==e.alt&&t.setAttribute("aria-label",e.alt),void 0!==e.id&&t.setAttribute("aria-owns",e.id),void 0!==e.lang&&t.setAttribute("lang",e.lang)}function h(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:s}=e,n=s.match(r);n?(t.setAttribute("role","heading"),t.setAttribute("aria-level",n[1])):i[s]&&t.setAttribute("role",i[s])}if(s(this,o)[o](e,t),e.children)if(1===e.children.length&&"id"in e.children[0])s(this,o)[o](e.children[0],t);else for(const i of e.children)t.append(s(this,l)[l](i));return t}t.StructTreeLayerBuilder=c},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextAccessibilityManager=void 0;var r=i(2),a=n("enabled"),o=n("textChildren"),l=n("textNodes"),c=n("waitingElements"),d=n("compareElementPositions"),h=n("addIdToAriaOwns");class u{constructor(){Object.defineProperty(this,h,{value:f}),Object.defineProperty(this,a,{writable:!0,value:!1}),Object.defineProperty(this,o,{writable:!0,value:null}),Object.defineProperty(this,l,{writable:!0,value:new Map}),Object.defineProperty(this,c,{writable:!0,value:new Map})}setTextMapping(e){s(this,o)[o]=e}enable(){if(s(this,a)[a])throw new Error("TextAccessibilityManager is already enabled.");if(!s(this,o)[o])throw new Error("Text divs and strings have not been set.");if(s(this,a)[a]=!0,s(this,o)[o]=s(this,o)[o].slice(),s(this,o)[o].sort(s(u,d)[d]),s(this,l)[l].size>0){const e=s(this,o)[o];for(const[t,i]of s(this,l)[l]){const n=document.getElementById(t);n?s(this,h)[h](t,e[i]):s(this,l)[l].delete(t)}}for(const[e,t]of s(this,c)[c])this.addPointerInTextLayer(e,t);s(this,c)[c].clear()}disable(){s(this,a)[a]&&(s(this,c)[c].clear(),s(this,o)[o]=null,s(this,a)[a]=!1)}removePointerInTextLayer(e){if(!s(this,a)[a])return void s(this,c)[c].delete(e);const t=s(this,o)[o];if(!t||0===t.length)return;const{id:i}=e,n=s(this,l)[l].get(i);if(void 0===n)return;const r=t[n];s(this,l)[l].delete(i);let d=r.getAttribute("aria-owns");d?.includes(i)&&(d=d.split(" ").filter((e=>e!==i)).join(" "),d?r.setAttribute("aria-owns",d):(r.removeAttribute("aria-owns"),r.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return;if(!s(this,a)[a])return void s(this,c)[c].set(e,t);t&&this.removePointerInTextLayer(e);const n=s(this,o)[o];if(!n||0===n.length)return;const p=(0,r.binarySearchFirstItem)(n,(t=>s(u,d)[d](e,t)<0)),f=Math.max(0,p-1);s(this,h)[h](i,n[f]),s(this,l)[l].set(i,f)}moveElementInDOM(e,t,i,n){if(this.addPointerInTextLayer(i,n),!e.hasChildNodes())return void e.append(t);const a=Array.from(e.childNodes).filter((e=>e!==t));if(0===a.length)return;const o=i||t,l=(0,r.binarySearchFirstItem)(a,(e=>s(u,d)[d](o,e)<0));0===l?a[0].before(t):a[l-1].after(t)}}function p(e,t){const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===s.width&&0===s.height)return-1;const n=i.y,r=i.y+i.height,a=i.y+i.height/2,o=s.y,l=s.y+s.height,c=s.y+s.height/2;if(a<=o&&c>=r)return-1;if(c<=n&&a>=l)return 1;const d=i.x+i.width/2,h=s.x+s.width/2;return d-h}function f(e,t){const i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}Object.defineProperty(u,d,{value:p}),t.TextAccessibilityManager=u},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlighter=void 0;class i{constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=e=>{e.pageIndex!==this.pageIdx&&-1!==e.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let s=0,n=0;const r=i.length-1,a=[];for(let o=0,l=e.length;o<l;o++){let l=e[o];while(s!==r&&l>=n+i[s].length)n+=i[s].length,s++;s===i.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:s,offset:l-n}};l+=t[o];while(s!==r&&l>n+i[s].length)n+=i[s].length,s++;c.end={divIdx:s,offset:l-n},a.push(c)}return a}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:s,textDivs:n}=this,r=i===t.selected.pageIdx,a=t.selected.matchIdx,o=t.state.highlightAll;let l=null;const c={divIdx:-1,offset:void 0};function d(e,t){const i=e.divIdx;return n[i].textContent="",h(i,0,e.offset,t)}function h(e,t,i,r){let a=n[e];if(a.nodeType===Node.TEXT_NODE){const t=document.createElement("span");a.before(t),t.append(a),n[e]=t,a=t}const o=s[e].substring(t,i),l=document.createTextNode(o);if(r){const e=document.createElement("span");return e.className=`${r} appended`,e.append(l),a.append(e),r.includes("selected")?e.offsetLeft:0}return a.append(l),0}let u=a,p=u+1;if(o)u=0,p=e.length;else if(!r)return;let f=-1,g=-1;for(let v=u;v<p;v++){const s=e[v],o=s.begin;if(o.divIdx===f&&o.offset===g)continue;f=o.divIdx,g=o.offset;const u=s.end,p=r&&v===a,_=p?" selected":"";let m=0;if(l&&o.divIdx===l.divIdx?h(l.divIdx,l.offset,o.offset):(null!==l&&h(l.divIdx,l.offset,c.offset),d(o)),o.divIdx===u.divIdx)m=h(o.divIdx,o.offset,u.offset,"highlight"+_);else{m=h(o.divIdx,o.offset,c.offset,"highlight begin"+_);for(let e=o.divIdx+1,t=u.divIdx;e<t;e++)n[e].className="highlight middle"+_;d(u,"highlight end"+_)}l=u,p&&t.scrollMatchIntoView({element:n[o.divIdx],selectedLeft:m,pageIndex:i,matchIndex:a})}l&&h(l.divIdx,l.offset,c.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:s}=this,{textContentItemsStr:n,textDivs:r}=this;let a=-1;for(const c of i){const e=Math.max(a,c.begin.divIdx);for(let t=e,i=c.end.divIdx;t<=i;t++){const e=r[t];e.textContent=n[t],e.className=""}a=c.end.divIdx+1}if(!t?.highlightMatches||e)return;const o=t.pageMatches[s]||null,l=t.pageMatchesLength[s]||null;this.matches=this._convertMatches(o,l),this._renderMatches(this.matches)}}t.TextHighlighter=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=void 0;var r=i(4),a=i(2),o=n("enablePermissions"),l=n("rotation"),c=n("scale"),d=n("textContentSource"),h=n("finishRendering"),u=n("bindMouse");class p{constructor({highlighter:e=null,accessibilityManager:t=null,isOffscreenCanvasSupported:i=!0,enablePermissions:n=!1}){Object.defineProperty(this,u,{value:g}),Object.defineProperty(this,h,{value:f}),Object.defineProperty(this,o,{writable:!0,value:!1}),Object.defineProperty(this,l,{writable:!0,value:0}),Object.defineProperty(this,c,{writable:!0,value:0}),Object.defineProperty(this,d,{writable:!0,value:null}),this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=e,this.accessibilityManager=t,this.isOffscreenCanvasSupported=i,s(this,o)[o]=!0===n,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(e){if(!s(this,d)[d])throw new Error('No "textContentSource" parameter specified.');const t=e.scale*(globalThis.devicePixelRatio||1),{rotation:i}=e;if(this.renderingDone){const n=i!==s(this,l)[l],a=t!==s(this,c)[c];return(n||a)&&(this.hide(),(0,r.updateTextLayer)({container:this.div,viewport:e,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:a,mustRotate:n}),s(this,c)[c]=t,s(this,l)[l]=i),void this.show()}this.cancel(),this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,r.renderTextLayer)({textContentSource:s(this,d)[d],container:this.div,viewport:e,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,s(this,h)[h](),s(this,c)[c]=t,s(this,l)[l]=i,this.show(),this.accessibilityManager?.enable()}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(e){this.cancel(),s(this,d)[d]=e}}function f(){this.renderingDone=!0;const e=document.createElement("div");e.className="endOfContent",this.div.append(e),s(this,u)[u]()}function g(){const{div:e}=this;e.addEventListener("mousedown",(t=>{const i=e.querySelector(".endOfContent");if(!i)return;let s=t.target!==e;if(s&&="none"!==getComputedStyle(i).getPropertyValue("-moz-user-select"),s){const s=e.getBoundingClientRect(),n=Math.max(0,(t.pageY-s.top)/s.height);i.style.top=(100*n).toFixed(2)+"%"}i.classList.add("active")})),e.addEventListener("mouseup",(()=>{const t=e.querySelector(".endOfContent");t&&(t.style.top="",t.classList.remove("active"))})),e.addEventListener("copy",(e=>{if(!s(this,o)[o]){const t=document.getSelection();e.clipboardData.setData("text/plain",(0,a.removeNullCharacters)((0,r.normalizeUnicode)(t.toString())))}e.preventDefault(),e.stopPropagation()}))}t.TextLayerBuilder=p},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayerBuilder=void 0;var s=i(4);class n{constructor({pageDiv:e,pdfPage:t,annotationStorage:i=null,linkService:s,xfaHtml:n=null}){this.pageDiv=e,this.pdfPage=t,this.annotationStorage=i,this.linkService=s,this.xfaHtml=n,this.div=null,this._cancelled=!1}async render(e,t="display"){if("print"===t){const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},n=document.createElement("div");return this.pageDiv.append(n),i.div=n,s.XfaLayer.render(i)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const n={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?s.XfaLayer.update(n):(this.div=document.createElement("div"),this.pageDiv.append(this.div),n.div=this.div,s.XfaLayer.render(n))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}t.XfaLayerBuilder=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFScriptingManager=void 0;var s=i(2),n=i(4);class r{constructor({eventBus:e,sandboxBundleSrc:t=null,scriptingFactory:i=null,docPropertiesLookup:s=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._ready=!1,this._eventBus=e,this._sandboxBundleSrc=t,this._scriptingFactory=i,this._docPropertiesLookup=s,this._scriptingFactory||window.addEventListener("updatefromsandbox",(e=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})}))}setViewer(e){this._pdfViewer=e}async setDocument(e){if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=e,!e)return;const[t,i,s]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(t||s){if(e===this._pdfDocument){try{this._scripting=this._createScripting()}catch(n){return console.error(`PDFScriptingManager.setDocument: "${n?.message}".`),void await this._destroyScripting()}this._internalEvents.set("updatefromsandbox",(e=>{e?.source===window&&this._updateFromSandbox(e.detail)})),this._internalEvents.set("dispatcheventinsandbox",(e=>{this._scripting?.dispatchEventInSandbox(e.detail)})),this._internalEvents.set("pagechanging",(({pageNumber:e,previous:t})=>{e!==t&&(this._dispatchPageClose(t),this._dispatchPageOpen(e))})),this._internalEvents.set("pagerendered",(({pageNumber:e})=>{this._pageOpenPending.has(e)&&e===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(e)})),this._internalEvents.set("pagesdestroy",(async e=>{await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await(this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"})),this._closeCapability?.resolve()}));for(const[e,t]of this._internalEvents)this._eventBus._on(e,t);try{const n=await this._getDocProperties();if(e!==this._pdfDocument)return;await this._scripting.createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...n,actions:s}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(n){return console.error(`PDFScriptingManager.setDocument: "${n?.message}".`),void await this._destroyScripting()}await(this._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then((()=>{e===this._pdfDocument&&(this._ready=!0)}))}}else await this._destroyScripting()}async dispatchWillSave(e){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(e){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(e){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(e){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,n.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,n.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,n.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(e){const t=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:i,siblings:n,command:r,value:a}=e;if(!i){switch(r){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":{if(t)return;const e=(0,s.apiPageLayoutToViewerModes)(a);this._pdfViewer.spreadMode=e.spreadMode;break}case"page-num":this._pdfViewer.currentPageNumber=a+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(a);break;case"zoom":if(t)return;this._pdfViewer.currentScaleValue=a;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(t)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(t)return;this._pdfViewer.decreaseScale();break}return}if(t&&e.focus)return;delete e.id,delete e.siblings;const o=n?[i,...n]:[i];for(const s of o){const t=document.querySelector(`[data-element-id="${s}"]`);t?t.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this._pdfDocument?.annotationStorage.setValue(s,e)}}async _dispatchPageOpen(e,t=!1){const i=this._pdfDocument,r=this._visitedPages;if(t&&(this._closeCapability=new n.PromiseCapability),!this._closeCapability)return;const a=this._pdfViewer.getPageView(e-1);if(a?.renderingState!==s.RenderingStates.FINISHED)return void this._pageOpenPending.add(e);this._pageOpenPending.delete(e);const o=(async()=>{const t=await(r.has(e)?null:a.pdfPage?.getJSActions());i===this._pdfDocument&&await(this._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:t}))})();r.set(e,o)}async _dispatchPageClose(e){const t=this._pdfDocument,i=this._visitedPages;if(!this._closeCapability)return;if(this._pageOpenPending.has(e))return;const s=i.get(e);s&&(i.set(e,null),await s,t===this._pdfDocument&&await(this._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:e}=i(22);return e(this._pdfDocument)}_createScripting(){if(this._destroyCapability=new n.PromiseCapability,this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:e}=i(22);return new e(this._sandboxBundleSrc)}async _destroyScripting(){if(!this._scripting)return this._pdfDocument=null,void this._destroyCapability?.resolve();this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise((e=>{setTimeout(e,1e3)}))]).catch((e=>{})),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch(e){}for(const[t,i]of this._internalEvents)this._eventBus._off(t,i);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,this._ready=!1,this._destroyCapability?.resolve()}}t.PDFScriptingManager=r},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericScripting=void 0,t.docPropertiesLookup=n;var s=i(4);async function n(e){const t="",i=t.split("#")[0];let{info:n,metadata:r,contentDispositionFilename:a,contentLength:o}=await e.getMetadata();if(!o){const{length:t}=await e.getDownloadInfo();o=t}return{...n,baseURL:i,filesize:o,filename:a||(0,s.getPdfFilenameFromUrl)(t),metadata:r?.getRaw(),authors:r?.get("dc:creator"),numPages:e.numPages,URL:t}}class r{constructor(e){this._ready=(0,s.loadScript)(e,!0).then((()=>window.pdfjsSandbox.QuickJSSandbox()))}async createSandbox(e){const t=await this._ready;t.create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout((()=>t.dispatchEvent(e)),0)}async destroySandbox(){const e=await this._ready;e.nukeSandbox()}}t.GenericScripting=r},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var s=i(2),n=i(24);class r extends n.PDFViewer{_resetView(){super._resetView(),this._scrollMode=s.ScrollMode.PAGE,this._spreadMode=s.SpreadMode.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}t.PDFSinglePageViewer=r},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PagesCountLimit=t.PDFViewer=t.PDFPageViewBuffer=void 0;var r=i(4),a=i(2),o=i(5),l=i(13),c=i(25),d=i(1);const h=10,u={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function p(e){return Object.values(r.AnnotationEditorType).includes(e)&&e!==r.AnnotationEditorType.DISABLE}t.PagesCountLimit=u;var f=n("buf"),g=n("size"),v=n("destroyFirstView");class _{constructor(e){Object.defineProperty(this,v,{value:m}),Object.defineProperty(this,f,{writable:!0,value:new Set}),Object.defineProperty(this,g,{writable:!0,value:0}),s(this,g)[g]=e}push(e){const t=s(this,f)[f];t.has(e)&&t.delete(e),t.add(e),t.size>s(this,g)[g]&&s(this,v)[v]()}resize(e,t=null){s(this,g)[g]=e;const i=s(this,f)[f];if(t){const e=i.size;let s=1;for(const n of i)if(t.has(n.id)&&(i.delete(n),i.add(n)),++s>e)break}while(i.size>s(this,g)[g])s(this,v)[v]()}has(e){return s(this,f)[f].has(e)}[Symbol.iterator](){return s(this,f)[f].keys()}}function m(){const e=s(this,f)[f].keys().next().value;e?.destroy(),s(this,f)[f].delete(e)}t.PDFPageViewBuffer=_;var y=n("buffer"),b=n("annotationEditorMode"),P=n("annotationEditorUIManager"),A=n("annotationMode"),w=n("containerTopLeft"),S=n("copyCallbackBound"),x=n("enablePermissions"),L=n("getAllTextInProgress"),E=n("hiddenCopyElement"),F=n("interruptCopyCondition"),C=n("previousContainerHeight"),T=n("resizeObserver"),k=n("scrollModePageState"),O=n("onVisibilityChange"),M=n("scaleTimeoutId"),R=n("textLayerMode"),I=n("layerProperties"),D=n("initializePermissions"),B=n("onePageRenderedOrForceFetch"),N=n("copyCallback"),j=n("ensurePageViewVisible"),U=n("scrollIntoView"),V=n("isSameScale"),$=n("setScaleUpdatePages"),H=n("pageWidthScaleFactor"),W=n("setScale"),z=n("resetCurrentPageView"),q=n("ensurePdfPageLoaded"),K=n("getScrollAhead"),G=n("updateContainerHeightCss"),X=n("resizeObserverCallback");class Y{constructor(e){Object.defineProperty(this,X,{value:he}),Object.defineProperty(this,G,{value:de}),Object.defineProperty(this,K,{value:ce}),Object.defineProperty(this,q,{value:le}),Object.defineProperty(this,z,{value:oe}),Object.defineProperty(this,W,{value:ae}),Object.defineProperty(this,H,{get:re,set:void 0}),Object.defineProperty(this,$,{value:ne}),Object.defineProperty(this,V,{value:se}),Object.defineProperty(this,U,{value:ie}),Object.defineProperty(this,j,{value:te}),Object.defineProperty(this,N,{value:ee}),Object.defineProperty(this,B,{value:Z}),Object.defineProperty(this,D,{value:J}),Object.defineProperty(this,I,{value:Q}),Object.defineProperty(this,y,{writable:!0,value:null}),Object.defineProperty(this,b,{writable:!0,value:r.AnnotationEditorType.NONE}),Object.defineProperty(this,P,{writable:!0,value:null}),Object.defineProperty(this,A,{writable:!0,value:r.AnnotationMode.ENABLE_FORMS}),Object.defineProperty(this,w,{writable:!0,value:null}),Object.defineProperty(this,S,{writable:!0,value:null}),Object.defineProperty(this,x,{writable:!0,value:!1}),Object.defineProperty(this,L,{writable:!0,value:!1}),Object.defineProperty(this,E,{writable:!0,value:null}),Object.defineProperty(this,F,{writable:!0,value:!1}),Object.defineProperty(this,C,{writable:!0,value:0}),Object.defineProperty(this,T,{writable:!0,value:new ResizeObserver(s(this,X)[X].bind(this))}),Object.defineProperty(this,k,{writable:!0,value:null}),Object.defineProperty(this,O,{writable:!0,value:null}),Object.defineProperty(this,M,{writable:!0,value:null}),Object.defineProperty(this,R,{writable:!0,value:a.TextLayerMode.ENABLE});const t="3.6.172";if(r.version!==t)throw new Error(`The API version "${r.version}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");s(this,T)[T].observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new d.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this._scriptingManager=e.scriptingManager||null,s(this,R)[R]=e.textLayerMode??a.TextLayerMode.ENABLE,s(this,A)[A]=e.annotationMode??r.AnnotationMode.ENABLE_FORMS,s(this,b)[b]=e.annotationEditorMode??r.AnnotationEditorType.NONE,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.isOffscreenCanvasSupported=e.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||o.NullL10n,s(this,x)[x]=e.enablePermissions||!1,this.pageColors=e.pageColors||null,!this.pageColors||CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground)||((this.pageColors.background||this.pageColors.foreground)&&console.warn("PDFViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new c.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,a.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=a.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),s(this,G)[G]()}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every((e=>e?.pdfPage))}get renderForms(){return s(this,A)[A]===r.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&s(this,z)[z](),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&s(this,z)[z](),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==a.UNKNOWN_SCALE?this._currentScale:a.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&s(this,W)[W](e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&s(this,W)[W](e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,a.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;if(e%=360,e<0&&(e+=360),this._pagesRotation===e)return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&s(this,W)[W](this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const e=[],t=[];for(let i=1,n=this.pdfDocument.numPages;i<=n;++i){if(s(this,F)[F])return null;t.length=0;const n=await this.pdfDocument.getPage(i),{items:r}=await n.getTextContent();for(const e of r)e.str&&t.push(e.str),e.hasEOL&&t.push("\n");e.push((0,a.removeNullCharacters)(t.join("")))}return e.join("\n")}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),s(this,P)[P]&&(s(this,P)[P].destroy(),s(this,P)[P]=null)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),n=e.getOptionalContentConfig(),o=s(this,x)[x]?e.getPermissions():Promise.resolve();if(t>u.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const e=this._scrollMode=a.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e})}this._pagesCapability.promise.then((()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:t})}),(()=>{})),this._onBeforeDraw=e=>{const t=this._pages[e.pageNumber-1];t&&s(this,y)[y].push(t)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=e=>{e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:e.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,s(this,O)[O]&&(document.removeEventListener("visibilitychange",s(this,O)[O]),s(this,O)[O]=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([i,o]).then((([i,o])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(i),this._optionalContentConfigPromise=n;const{annotationEditorMode:c,annotationMode:d,textLayerMode:h}=s(this,D)[D](o);if(h!==a.TextLayerMode.DISABLE){const e=s(this,E)[E]=document.createElement("div");e.id="hiddenCopyElement",this.viewer.before(e)}if(c!==r.AnnotationEditorType.DISABLE){const t=c;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):p(t)?(s(this,P)[P]=new r.AnnotationEditorUIManager(this.container,this.eventBus,e?.annotationStorage),t!==r.AnnotationEditorType.NONE&&s(this,P)[P].updateMode(t)):console.error(`Invalid AnnotationEditor mode: ${t}`)}const f=s(this,I)[I].bind(this),g=this._scrollMode===a.ScrollMode.PAGE?null:this.viewer,v=this.currentScale,_=i.getViewport({scale:v*r.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",_.scale);for(let e=1;e<=t;++e){const t=new l.PDFPageView({container:g,eventBus:this.eventBus,id:e,scale:v,defaultViewport:_.clone(),optionalContentConfigPromise:n,renderingQueue:this.renderingQueue,textLayerMode:h,annotationMode:d,imageResourcesPath:this.imageResourcesPath,useOnlyCssZoom:this.useOnlyCssZoom,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:f});this._pages.push(t)}const m=this._pages[0];m&&(m.setPdfPage(i),this.linkService.cachePageRef(1,i.ref)),this._scrollMode===a.ScrollMode.PAGE?s(this,j)[j]():this._spreadMode!==a.SpreadMode.NONE&&this._updateSpreadMode(),s(this,B)[B]().then((async()=>{if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),s(this,E)[E]&&(s(this,S)[S]=s(this,N)[N].bind(this,h),document.addEventListener("copy",s(this,S)[S])),s(this,P)[P]&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:s(this,b)[b]}),e.loadingParams.disableAutoFetch||t>u.FORCE_LAZY_PAGE_INIT)return void this._pagesCapability.resolve();let i=t-1;if(i<=0)this._pagesCapability.resolve();else for(let s=2;s<=t;++s){const t=e.getPage(s).then((e=>{const t=this._pages[s-1];t.pdfPage||t.setPdfPage(e),this.linkService.cachePageRef(s,e.ref),0===--i&&this._pagesCapability.resolve()}),(e=>{console.error(`Unable to get page ${s} to initialize viewer`,e),0===--i&&this._pagesCapability.resolve()}));s%u.PAUSE_EAGER_PAGE_INIT===0&&await t}})),this.eventBus.dispatch("pagesinit",{source:this}),e.getMetadata().then((({info:t})=>{e===this.pdfDocument&&t.Language&&(this.viewer.lang=t.Language)})),this.defaultRenderingQueue&&this.update()})).catch((e=>{console.error("Unable to initialize viewer",e),this._pagesCapability.reject(e)}))}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,t=this._pages.length;e<t;e++)this._pages[e].setPageLabel(this._pageLabels?.[e]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=a.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,s(this,y)[y]=new _(h),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new r.PromiseCapability,this._onePageRenderedCapability=new r.PromiseCapability,this._pagesCapability=new r.PromiseCapability,this._scrollMode=a.ScrollMode.VERTICAL,this._previousScrollMode=a.ScrollMode.UNKNOWN,this._spreadMode=a.SpreadMode.NONE,s(this,k)[k]={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),s(this,O)[O]&&(document.removeEventListener("visibilitychange",s(this,O)[O]),s(this,O)[O]=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),s(this,E)[E]&&(document.removeEventListener("copy",s(this,S)[S]),s(this,S)[S]=null,s(this,E)[E].remove(),s(this,E)[E]=null)}_scrollUpdate(){0!==this.pagesCount&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:n=!1}){if(!this.pdfDocument)return;const o=Number.isInteger(e)&&this._pages[e-1];if(!o)return void console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!t)return void this._setCurrentPageNumber(e,!0);let l,c,d=0,h=0,u=0,p=0;const f=o.rotation%180!==0,g=(f?o.height:o.width)/o.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,v=(f?o.width:o.height)/o.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS;let _=0;switch(t[1].name){case"XYZ":d=t[2],h=t[3],_=t[4],d=null!==d?d:0,h=null!==h?h:v;break;case"Fit":case"FitB":_="page-fit";break;case"FitH":case"FitBH":h=t[2],_="page-width",null===h&&this._location?(d=this._location.left,h=this._location.top):("number"!==typeof h||h<0)&&(h=v);break;case"FitV":case"FitBV":d=t[2],u=g,p=v,_="page-height";break;case"FitR":d=t[2],h=t[3],u=t[4]-d,p=t[5]-h;let e=a.SCROLLBAR_PADDING,i=a.VERTICAL_PADDING;this.removePageBorders&&(e=i=0),l=(this.container.clientWidth-e)/u/r.PixelsPerInch.PDF_TO_CSS_UNITS,c=(this.container.clientHeight-i)/p/r.PixelsPerInch.PDF_TO_CSS_UNITS,_=Math.min(Math.abs(l),Math.abs(c));break;default:return void console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`)}if(n||(_&&_!==this._currentScale?this.currentScaleValue=_:this._currentScale===a.UNKNOWN_SCALE&&(this.currentScaleValue=a.DEFAULT_SCALE_VALUE)),"page-fit"===_&&!t[4])return void s(this,U)[U](o);const m=[o.viewport.convertToViewportPoint(d,h),o.viewport.convertToViewportPoint(d+u,h+p)];let y=Math.min(m[0][0],m[1][0]),b=Math.min(m[0][1],m[1][1]);i||(y=Math.max(y,0),b=Math.max(b,0)),s(this,U)[U](o,{left:y,top:b})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,s=parseFloat(i)===t?Math.round(1e4*t)/100:i,n=e.id,r=this._pages[n-1],a=this.container,o=r.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),l=Math.round(o[0]),c=Math.round(o[1]);let d=`#page=${n}`;this.isInPresentationMode||(d+=`&zoom=${s},${l},${c}`),this._location={pageNumber:n,scale:s,top:c,left:l,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(0===i)return;const n=Math.max(h,2*i+1);s(this,y)[y].resize(n,e.ids),this.renderingQueue.renderHighestPriority(e);const r=this._spreadMode===a.SpreadMode.NONE&&(this._scrollMode===a.ScrollMode.PAGE||this._scrollMode===a.ScrollMode.VERTICAL),o=this._currentPageNumber;let l=!1;for(const s of t){if(s.percent<100)break;if(s.id===o&&r){l=!0;break}}this._setCurrentPageNumber(l?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===a.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===a.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===a.ScrollMode.PAGE?s(this,k)[k].pages:this._pages,t=this._scrollMode===a.ScrollMode.HORIZONTAL,i=t&&this._isContainerRtl;return(0,a.getVisibleElements)({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}isPageVisible(e){return!!this.pdfDocument&&(Number.isInteger(e)&&e>0&&e<=this.pagesCount?this._getVisiblePages().ids.has(e):(console.error(`isPageVisible: "${e}" is not a valid page.`),!1))}isPageCached(e){if(!this.pdfDocument)return!1;if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount))return console.error(`isPageCached: "${e}" is not a valid page.`),!1;const t=this._pages[e-1];return s(this,y)[y].has(t)}cleanup(){for(const e of this._pages)e.renderingState!==a.RenderingStates.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=s(this,K)[K](t),n=this._spreadMode!==a.SpreadMode.NONE&&this._scrollMode!==a.ScrollMode.HORIZONTAL,r=this.renderingQueue.getHighestPriority(t,this._pages,i,n);return!!r&&(s(this,q)[q](r).then((()=>{this.renderingQueue.renderView(r)})),!0)}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map((t=>{const i=t.pdfPage.getViewport({scale:1}),s=(0,a.isPortraitOrientation)(i);if(void 0===e)e=s;else if(this.enablePrintAutoRotate&&s!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}}))}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,a.isValidScrollMode)(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>u.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===a.ScrollMode.HORIZONTAL),i.classList.toggle("scrollWrapped",t===a.ScrollMode.WRAPPED),this.pdfDocument&&e&&(t===a.ScrollMode.PAGE?s(this,j)[j]():this._previousScrollMode===a.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&s(this,W)[W](this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,a.isValidSpreadMode)(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===a.ScrollMode.PAGE)s(this,j)[j]();else if(t.textContent="",this._spreadMode===a.SpreadMode.NONE)for(const s of this._pages)t.append(s.div);else{const e=this._spreadMode-1;let s=null;for(let n=0,r=i.length;n<r;++n)null===s?(s=document.createElement("div"),s.className="spread",t.append(s)):n%2===e&&(s=s.cloneNode(!1),t.append(s)),s.append(i[n].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&s(this,W)[W](this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case a.ScrollMode.WRAPPED:{const{views:i}=this._getVisiblePages(),s=new Map;for(const{id:e,y:t,percent:n,widthPercent:r}of i){if(0===n||r<100)continue;let i=s.get(t);i||s.set(t,i||=[]),i.push(e)}for(const n of s.values()){const i=n.indexOf(e);if(-1===i)continue;const s=n.length;if(1===s)break;if(t)for(let t=i-1,r=0;t>=r;t--){const i=n[t],s=n[t+1]-1;if(i<s)return e-s}else for(let t=i+1,r=s;t<r;t++){const i=n[t],s=n[t-1]+1;if(i>s)return s-e}if(t){const t=n[0];if(t<e)return e-t+1}else{const t=n[s-1];if(t>e)return t-e+1}break}break}case a.ScrollMode.HORIZONTAL:break;case a.ScrollMode.PAGE:case a.ScrollMode.VERTICAL:{if(this._spreadMode===a.SpreadMode.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:s}=this._getVisiblePages(),n=t?e-1:e+1;for(const{id:e,percent:t,widthPercent:r}of s)if(e===n){if(t>0&&100===r)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}increaseScale({drawingDelay:e,scaleFactor:t,steps:i}={}){if(!this.pdfDocument)return;let n=this._currentScale;if(t>1)n=Math.round(n*t*100)/100;else{i??=1;do{n=Math.ceil(10*(n*a.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--i>0&&n<a.MAX_SCALE)}s(this,W)[W](Math.min(a.MAX_SCALE,n),{noScroll:!1,drawingDelay:e})}decreaseScale({drawingDelay:e,scaleFactor:t,steps:i}={}){if(!this.pdfDocument)return;let n=this._currentScale;if(t>0&&t<1)n=Math.round(n*t*100)/100;else{i??=1;do{n=Math.floor(10*(n/a.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--i>0&&n>a.MIN_SCALE)}s(this,W)[W](Math.max(a.MIN_SCALE,n),{noScroll:!1,drawingDelay:e})}get containerTopLeft(){return s(this,w)[w]||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return s(this,P)[P]?s(this,b)[b]:r.AnnotationEditorType.DISABLE}set annotationEditorMode(e){if(!s(this,P)[P])throw new Error("The AnnotationEditor is not enabled.");if(s(this,b)[b]!==e){if(!p(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);this.pdfDocument&&(s(this,b)[b]=e,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),s(this,P)[P].updateMode(e))}}set annotationEditorParams({type:e,value:t}){if(!s(this,P)[P])throw new Error("The AnnotationEditor is not enabled.");s(this,P)[P].updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const e of this._pages)e.update(t);null!==s(this,M)[M]&&(clearTimeout(s(this,M)[M]),s(this,M)[M]=null),e||this.update()}}}function Q(){const e=this;return{get annotationEditorUIManager(){return s(e,P)[P]},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}}}function J(e){const t={annotationEditorMode:s(this,b)[b],annotationMode:s(this,A)[A],textLayerMode:s(this,R)[R]};return e?(e.includes(r.PermissionFlag.COPY)||s(this,R)[R]!==a.TextLayerMode.ENABLE||(t.textLayerMode=a.TextLayerMode.ENABLE_PERMISSIONS),e.includes(r.PermissionFlag.MODIFY_CONTENTS)||(t.annotationEditorMode=r.AnnotationEditorType.DISABLE),e.includes(r.PermissionFlag.MODIFY_ANNOTATIONS)||e.includes(r.PermissionFlag.FILL_INTERACTIVE_FORMS)||s(this,A)[A]!==r.AnnotationMode.ENABLE_FORMS||(t.annotationMode=r.AnnotationMode.ENABLE),t):t}function Z(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const e=new Promise((e=>{s(this,O)[O]=()=>{"hidden"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",s(this,O)[O]),s(this,O)[O]=null)},document.addEventListener("visibilitychange",s(this,O)[O])}));return Promise.race([this._onePageRenderedCapability.promise,e])}function ee(e,t){const i=document.getSelection(),{focusNode:n,anchorNode:r}=i;if(r&&n&&i.containsNode(s(this,E)[E])){if(s(this,L)[L]||e===a.TextLayerMode.ENABLE_PERMISSIONS)return t.preventDefault(),void t.stopPropagation();s(this,L)[L]=!0;const i=this.container.style.cursor;this.container.style.cursor="wait";const n=e=>s(this,F)[F]="Escape"===e.key;window.addEventListener("keydown",n),this.getAllText().then((async e=>{null!==e&&await navigator.clipboard.writeText(e)})).catch((e=>{console.warn(`Something goes wrong when extracting the text: ${e.message}`)})).finally((()=>{s(this,L)[L]=!1,s(this,F)[F]=!1,window.removeEventListener("keydown",n),this.container.style.cursor=i})),t.preventDefault(),t.stopPropagation()}}function te(){if(this._scrollMode!==a.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=s(this,k)[k],i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode!==a.SpreadMode.NONE||this.isInPresentationMode){const s=new Set,n=this._spreadMode-1;-1===n?s.add(e-1):e%2!==n?(s.add(e-1),s.add(e)):(s.add(e-2),s.add(e-1));const r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){const e=document.createElement("div");e.className="dummyPage",r.append(e)}for(const e of s){const i=this._pages[e];i&&(r.append(i.div),t.pages.push(i))}i.append(r)}else{const s=this._pages[e-1];i.append(s.div),t.pages.push(s)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}function ie(e,t=null){const{div:i,id:n}=e;if(this._currentPageNumber!==n&&this._setCurrentPageNumber(n),this._scrollMode===a.ScrollMode.PAGE&&(s(this,j)[j](),this.update()),!t&&!this.isInPresentationMode){const e=i.offsetLeft+i.clientLeft,s=e+i.clientWidth,{scrollLeft:n,clientWidth:r}=this.container;(this._scrollMode===a.ScrollMode.HORIZONTAL||e<n||s>n+r)&&(t={left:0,top:0})}(0,a.scrollIntoView)(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}function se(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}function ne(e,t,{noScroll:i=!1,preset:n=!1,drawingDelay:a=-1}){if(this._currentScaleValue=t.toString(),s(this,V)[V](e))return void(n&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t}));this.viewer.style.setProperty("--scale-factor",e*r.PixelsPerInch.PDF_TO_CSS_UNITS);const o=a>=0&&a<1e3;if(this.refresh(!0,{scale:e,drawingDelay:o?a:-1}),o&&(s(this,M)[M]=setTimeout((()=>{s(this,M)[M]=null,this.refresh()}),a)),this._currentScale=e,!i){let e,t=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(t=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:t,destArray:e,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:n?t:void 0}),this.defaultRenderingQueue&&this.update()}function re(){return this._spreadMode!==a.SpreadMode.NONE&&this._scrollMode!==a.ScrollMode.HORIZONTAL?2:1}function ae(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,s(this,$)[$](i,e,t);else{const n=this._pages[this._currentPageNumber-1];if(!n)return;let r=a.SCROLLBAR_PADDING,o=a.VERTICAL_PADDING;this.isInPresentationMode?(r=o=4,this._spreadMode!==a.SpreadMode.NONE&&(r*=2)):this.removePageBorders?r=o=0:this._scrollMode===a.ScrollMode.HORIZONTAL&&([r,o]=[o,r]);const l=(this.container.clientWidth-r)/n.width*n.scale/s(this,H)[H],c=(this.container.clientHeight-o)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=l;break;case"page-height":i=c;break;case"page-fit":i=Math.min(l,c);break;case"auto":const t=(0,a.isPortraitOrientation)(n)?l:Math.min(c,l);i=Math.min(a.MAX_AUTO_SCALE,t);break;default:return void console.error(`#setScale: "${e}" is an unknown zoom value.`)}t.preset=!0,s(this,$)[$](i,e,t)}}function oe(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&s(this,W)[W](this._currentScaleValue,{noScroll:!0}),s(this,U)[U](e)}async function le(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),this.linkService._cachedPageNumber?.(t.ref)||this.linkService.cachePageRef(e.id,t.ref),t}catch(t){return console.error("Unable to get page for page view",t),null}}function ce(e){if(1===e.first?.id)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case a.ScrollMode.PAGE:return s(this,k)[k].scrollDown;case a.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function de(e=this.container.clientHeight){e!==s(this,C)[C]&&(s(this,C)[C]=e,a.docStyle.setProperty("--viewer-container-height",`${e}px`))}function he(e){for(const t of e)if(t.target===this.container){s(this,G)[G](Math.floor(t.borderBoxSize[0].blockSize)),s(this,w)[w]=null;break}}t.PDFViewer=Y},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=void 0;var s=i(4),n=i(2);const r=3e4;class a{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),r))}getHighestPriority(e,t,i,s=!1){const n=e.views,r=n.length;if(0===r)return null;for(let d=0;d<r;d++){const e=n[d].view;if(!this.isViewFinished(e))return e}const a=e.first.id,o=e.last.id;if(o-a+1>r){const s=e.ids;for(let e=1,n=o-a;e<n;e++){const n=i?a+e:o-e;if(s.has(n))continue;const r=t[n-1];if(!this.isViewFinished(r))return r}}let l=i?o:a-2,c=t[l];return c&&!this.isViewFinished(c)||s&&(l+=i?1:-1,c=t[l],c&&!this.isViewFinished(c))?c:null}isViewFinished(e){return e.renderingState===n.RenderingStates.FINISHED}renderView(e){switch(e.renderingState){case n.RenderingStates.FINISHED:return!1;case n.RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case n.RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case n.RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally((()=>{this.renderHighestPriority()})).catch((e=>{e instanceof s.RenderingCancelledException||console.error(`renderView: "${e}"`)}));break}return!0}}t.PDFRenderingQueue=a}],t={};function r(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}var a={};return(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return s.AnnotationLayerBuilder}}),e.DefaultXfaLayerFactory=e.DefaultTextLayerFactory=e.DefaultStructTreeLayerFactory=e.DefaultAnnotationLayerFactory=void 0,Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return n.DownloadManager}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return o.EventBus}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return d.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return h.PDFHistory}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return t.PDFLinkService}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return u.PDFPageView}}),Object.defineProperty(e,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return f.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return g.PDFViewer}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return i.ProgressBar}}),Object.defineProperty(e,"RenderingStates",{enumerable:!0,get:function(){return i.RenderingStates}}),Object.defineProperty(e,"ScrollMode",{enumerable:!0,get:function(){return i.ScrollMode}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return t.SimpleLinkService}}),Object.defineProperty(e,"SpreadMode",{enumerable:!0,get:function(){return i.SpreadMode}}),Object.defineProperty(e,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return v.StructTreeLayerBuilder}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return _.TextLayerBuilder}}),Object.defineProperty(e,"XfaLayerBuilder",{enumerable:!0,get:function(){return m.XfaLayerBuilder}}),Object.defineProperty(e,"parseQueryString",{enumerable:!0,get:function(){return i.parseQueryString}});var t=r(1),i=r(2),s=r(3),n=r(6),o=r(7),l=r(8),c=r(5),d=r(10),h=r(12),u=r(13),p=r(21),f=r(23),g=r(24),v=r(16),_=r(19),m=r(20);class y{constructor(){throw new Error("The `DefaultAnnotationLayerFactory` has been removed, please use the `annotationMode` option when initializing the `PDFPageView`-instance to control AnnotationLayer rendering.")}}e.DefaultAnnotationLayerFactory=y;class b{constructor(){throw new Error("The `DefaultStructTreeLayerFactory` has been removed, this functionality is automatically enabled when the TextLayer is used.")}}e.DefaultStructTreeLayerFactory=b;class P{constructor(){throw new Error("The `DefaultTextLayerFactory` has been removed, please use the `textLayerMode` option when initializing the `PDFPageView`-instance to control TextLayer rendering.")}}e.DefaultTextLayerFactory=P;class A{constructor(){throw new Error("The `DefaultXfaLayerFactory` has been removed, please use the `enableXfa` option when calling the `getDocument`-function to control XfaLayer rendering.")}}e.DefaultXfaLayerFactory=A})(),a})()))},7640:function(){},3237:function(){},7492:function(){},1815:function(){},6671:function(){},5168:function(){},9306:function(e,t,i){"use strict";var s=i(4901),n=i(6823),r=TypeError;e.exports=function(e){if(s(e))return e;throw new r(n(e)+" is not a function")}},3506:function(e,t,i){"use strict";var s=i(3925),n=String,r=TypeError;e.exports=function(e){if(s(e))return e;throw new r("Can't set "+n(e)+" as a prototype")}},7080:function(e,t,i){"use strict";var s=i(4402).has;e.exports=function(e){return s(e),e}},679:function(e,t,i){"use strict";var s=i(1625),n=TypeError;e.exports=function(e,t){if(s(t,e))return e;throw new n("Incorrect invocation")}},8551:function(e,t,i){"use strict";var s=i(34),n=String,r=TypeError;e.exports=function(e){if(s(e))return e;throw new r(n(e)+" is not an object")}},7811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,i){"use strict";var s=i(6706),n=i(4576),r=TypeError;e.exports=s(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==n(e))throw new r("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,i){"use strict";var s=i(9504),n=i(7394),r=s(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==n(e))return!1;try{return r(e,0,0),!1}catch(t){return!0}}},5636:function(e,t,i){"use strict";var s=i(4475),n=i(9504),r=i(6706),a=i(7696),o=i(3238),l=i(7394),c=i(4483),d=i(1548),h=s.structuredClone,u=s.ArrayBuffer,p=s.DataView,f=s.TypeError,g=Math.min,v=u.prototype,_=p.prototype,m=n(v.slice),y=r(v,"resizable","get"),b=r(v,"maxByteLength","get"),P=n(_.getInt8),A=n(_.setInt8);e.exports=(d||c)&&function(e,t,i){var s,n=l(e),r=void 0===t?n:a(t),v=!y||!y(e);if(o(e))throw new f("ArrayBuffer is detached");if(d&&(e=h(e,{transfer:[e]}),n===r&&(i||v)))return e;if(n>=r&&(!i||v))s=m(e,0,r);else{var _=i&&!v&&b?{maxByteLength:b(e)}:void 0;s=new u(r,_);for(var w=new p(e),S=new p(s),x=g(r,n),L=0;L<x;L++)A(S,L,P(w,L))}return d||c(e),s}},4644:function(e,t,i){"use strict";var s,n,r,a=i(7811),o=i(3724),l=i(4475),c=i(4901),d=i(34),h=i(9297),u=i(6955),p=i(6823),f=i(6699),g=i(6840),v=i(2106),_=i(1625),m=i(2787),y=i(2967),b=i(8227),P=i(3392),A=i(1181),w=A.enforce,S=A.get,x=l.Int8Array,L=x&&x.prototype,E=l.Uint8ClampedArray,F=E&&E.prototype,C=x&&m(x),T=L&&m(L),k=Object.prototype,O=l.TypeError,M=b("toStringTag"),R=P("TYPED_ARRAY_TAG"),I="TypedArrayConstructor",D=a&&!!y&&"Opera"!==u(l.opera),B=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},U=function(e){if(!d(e))return!1;var t=u(e);return"DataView"===t||h(N,t)||h(j,t)},V=function(e){var t=m(e);if(d(t)){var i=S(t);return i&&h(i,I)?i[I]:V(t)}},$=function(e){if(!d(e))return!1;var t=u(e);return h(N,t)||h(j,t)},H=function(e){if($(e))return e;throw new O("Target is not a typed array")},W=function(e){if(c(e)&&(!y||_(C,e)))return e;throw new O(p(e)+" is not a typed array constructor")},z=function(e,t,i,s){if(o){if(i)for(var n in N){var r=l[n];if(r&&h(r.prototype,e))try{delete r.prototype[e]}catch(a){try{r.prototype[e]=t}catch(c){}}}T[e]&&!i||g(T,e,i?t:D&&L[e]||t,s)}},q=function(e,t,i){var s,n;if(o){if(y){if(i)for(s in N)if(n=l[s],n&&h(n,e))try{delete n[e]}catch(r){}if(C[e]&&!i)return;try{return g(C,e,i?t:D&&C[e]||t)}catch(r){}}for(s in N)n=l[s],!n||n[e]&&!i||g(n,e,t)}};for(s in N)n=l[s],r=n&&n.prototype,r?w(r)[I]=n:D=!1;for(s in j)n=l[s],r=n&&n.prototype,r&&(w(r)[I]=n);if((!D||!c(C)||C===Function.prototype)&&(C=function(){throw new O("Incorrect invocation")},D))for(s in N)l[s]&&y(l[s],C);if((!D||!T||T===k)&&(T=C.prototype,D))for(s in N)l[s]&&y(l[s].prototype,T);if(D&&m(F)!==T&&y(F,T),o&&!h(T,M))for(s in B=!0,v(T,M,{configurable:!0,get:function(){return d(this)?this[R]:void 0}}),N)l[s]&&f(l[s],R,s);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:B&&R,aTypedArray:H,aTypedArrayConstructor:W,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:V,isView:U,isTypedArray:$,TypedArray:C,TypedArrayPrototype:T}},5370:function(e,t,i){"use strict";var s=i(6198);e.exports=function(e,t,i){var n=0,r=arguments.length>2?i:s(t),a=new e(r);while(r>n)a[n]=t[n++];return a}},9617:function(e,t,i){"use strict";var s=i(5397),n=i(5610),r=i(6198),a=function(e){return function(t,i,a){var o=s(t),l=r(o);if(0===l)return!e&&-1;var c,d=n(a,l);if(e&&i!==i){while(l>d)if(c=o[d++],c!==c)return!0}else for(;l>d;d++)if((e||d in o)&&o[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4527:function(e,t,i){"use strict";var s=i(3724),n=i(4376),r=TypeError,a=Object.getOwnPropertyDescriptor,o=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(n(e)&&!a(e,"length").writable)throw new r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,i){"use strict";var s=i(9504);e.exports=s([].slice)},7628:function(e,t,i){"use strict";var s=i(6198);e.exports=function(e,t){for(var i=s(e),n=new t(i),r=0;r<i;r++)n[r]=e[i-r-1];return n}},9928:function(e,t,i){"use strict";var s=i(6198),n=i(1291),r=RangeError;e.exports=function(e,t,i,a){var o=s(e),l=n(i),c=l<0?o+l:l;if(c>=o||c<0)throw new r("Incorrect index");for(var d=new t(o),h=0;h<o;h++)d[h]=h===c?a:e[h];return d}},4576:function(e,t,i){"use strict";var s=i(9504),n=s({}.toString),r=s("".slice);e.exports=function(e){return r(n(e),8,-1)}},6955:function(e,t,i){"use strict";var s=i(2140),n=i(4901),r=i(4576),a=i(8227),o=a("toStringTag"),l=Object,c="Arguments"===r(function(){return arguments}()),d=function(e,t){try{return e[t]}catch(i){}};e.exports=s?r:function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=d(t=l(e),o))?i:c?r(t):"Object"===(s=r(t))&&n(t.callee)?"Arguments":s}},7740:function(e,t,i){"use strict";var s=i(9297),n=i(5031),r=i(7347),a=i(4913);e.exports=function(e,t,i){for(var o=n(t),l=a.f,c=r.f,d=0;d<o.length;d++){var h=o[d];s(e,h)||i&&s(i,h)||l(e,h,c(t,h))}}},2211:function(e,t,i){"use strict";var s=i(9039);e.exports=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,i){"use strict";var s=i(3724),n=i(4913),r=i(6980);e.exports=s?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,i){"use strict";var s=i(3724),n=i(4913),r=i(6980);e.exports=function(e,t,i){s?n.f(e,t,r(0,i)):e[t]=i}},2106:function(e,t,i){"use strict";var s=i(283),n=i(4913);e.exports=function(e,t,i){return i.get&&s(i.get,t,{getter:!0}),i.set&&s(i.set,t,{setter:!0}),n.f(e,t,i)}},6840:function(e,t,i){"use strict";var s=i(4901),n=i(4913),r=i(283),a=i(9433);e.exports=function(e,t,i,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:t;if(s(i)&&r(i,c,o),o.global)l?e[t]=i:a(t,i);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(d){}l?e[t]=i:n.f(e,t,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},9433:function(e,t,i){"use strict";var s=i(4475),n=Object.defineProperty;e.exports=function(e,t){try{n(s,e,{value:t,configurable:!0,writable:!0})}catch(i){s[e]=t}return t}},3724:function(e,t,i){"use strict";var s=i(9039);e.exports=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,i){"use strict";var s,n,r,a,o=i(4475),l=i(9714),c=i(1548),d=o.structuredClone,h=o.ArrayBuffer,u=o.MessageChannel,p=!1;if(c)p=function(e){d(e,{transfer:[e]})};else if(h)try{u||(s=l("worker_threads"),s&&(u=s.MessageChannel)),u&&(n=new u,r=new h(2),a=function(e){n.port1.postMessage(null,[e])},2===r.byteLength&&(a(r),0===r.byteLength&&(p=a)))}catch(f){}e.exports=p},4055:function(e,t,i){"use strict";var s=i(4475),n=i(34),r=s.document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError,i=9007199254740991;e.exports=function(e){if(e>i)throw t("Maximum allowed index exceeded");return e}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7290:function(e,t,i){"use strict";var s=i(516),n=i(9088);e.exports=!s&&!n&&"object"==typeof window&&"object"==typeof document},6763:function(e){"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},516:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},8119:function(e,t,i){"use strict";var s=i(9392);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},9088:function(e,t,i){"use strict";var s=i(4475),n=i(4576);e.exports="process"===n(s.process)},9392:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,i){"use strict";var s,n,r=i(4475),a=i(9392),o=r.process,l=r.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(s=d.split("."),n=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!n&&a&&(s=a.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=a.match(/Chrome\/(\d+)/),s&&(n=+s[1]))),e.exports=n},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(e,t,i){"use strict";var s=i(9504),n=Error,r=s("".replace),a=function(e){return String(new n(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=r(e,o,"");return e}},6249:function(e,t,i){"use strict";var s=i(9039),n=i(6980);e.exports=!s((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},6518:function(e,t,i){"use strict";var s=i(4475),n=i(7347).f,r=i(6699),a=i(6840),o=i(9433),l=i(7740),c=i(2796);e.exports=function(e,t){var i,d,h,u,p,f,g=e.target,v=e.global,_=e.stat;if(d=v?s:_?s[g]||o(g,{}):s[g]&&s[g].prototype,d)for(h in t){if(p=t[h],e.dontCallGetSet?(f=n(d,h),u=f&&f.value):u=d[h],i=c(v?h:g+(_?".":"#")+h,e.forced),!i&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(e.sham||u&&u.sham)&&r(p,"sham",!0),a(d,h,p,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},8745:function(e,t,i){"use strict";var s=i(616),n=Function.prototype,r=n.apply,a=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(s?a.bind(r):function(){return a.apply(r,arguments)})},6080:function(e,t,i){"use strict";var s=i(7476),n=i(9306),r=i(616),a=s(s.bind);e.exports=function(e,t){return n(e),void 0===t?e:r?a(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,i){"use strict";var s=i(9039);e.exports=!s((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,i){"use strict";var s=i(616),n=Function.prototype.call;e.exports=s?n.bind(n):function(){return n.apply(n,arguments)}},350:function(e,t,i){"use strict";var s=i(3724),n=i(9297),r=Function.prototype,a=s&&Object.getOwnPropertyDescriptor,o=n(r,"name"),l=o&&"something"===function(){}.name,c=o&&(!s||s&&a(r,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},6706:function(e,t,i){"use strict";var s=i(9504),n=i(9306);e.exports=function(e,t,i){try{return s(n(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(r){}}},7476:function(e,t,i){"use strict";var s=i(4576),n=i(9504);e.exports=function(e){if("Function"===s(e))return n(e)}},9504:function(e,t,i){"use strict";var s=i(616),n=Function.prototype,r=n.call,a=s&&n.bind.bind(r,r);e.exports=s?a:function(e){return function(){return r.apply(e,arguments)}}},7751:function(e,t,i){"use strict";var s=i(4475),n=i(4901),r=function(e){return n(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(s[e]):s[e]&&s[e][t]}},1767:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},851:function(e,t,i){"use strict";var s=i(6955),n=i(5966),r=i(4117),a=i(6269),o=i(8227),l=o("iterator");e.exports=function(e){if(!r(e))return n(e,l)||n(e,"@@iterator")||a[s(e)]}},81:function(e,t,i){"use strict";var s=i(9565),n=i(9306),r=i(8551),a=i(6823),o=i(851),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?o(e):t;if(n(i))return r(s(i,e));throw new l(a(e)+" is not iterable")}},5966:function(e,t,i){"use strict";var s=i(9306),n=i(4117);e.exports=function(e,t){var i=e[t];return n(i)?void 0:s(i)}},3789:function(e,t,i){"use strict";var s=i(9306),n=i(8551),r=i(9565),a=i(1291),o=i(1767),l="Invalid size",c=RangeError,d=TypeError,h=Math.max,u=function(e,t){this.set=e,this.size=h(t,0),this.has=s(e.has),this.keys=s(e.keys)};u.prototype={getIterator:function(){return o(n(r(this.keys,this.set)))},includes:function(e){return r(this.has,this.set,e)}},e.exports=function(e){n(e);var t=+e.size;if(t!==t)throw new d(l);var i=a(t);if(i<0)throw new c(l);return new u(e,i)}},4475:function(e,t,i){"use strict";var s=function(e){return e&&e.Math===Math&&e};e.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i.g&&i.g)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,i){"use strict";var s=i(9504),n=i(8981),r=s({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(n(e),t)}},421:function(e){"use strict";e.exports={}},397:function(e,t,i){"use strict";var s=i(7751);e.exports=s("document","documentElement")},5917:function(e,t,i){"use strict";var s=i(3724),n=i(9039),r=i(4055);e.exports=!s&&!n((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,i){"use strict";var s=i(9504),n=i(9039),r=i(4576),a=Object,o=s("".split);e.exports=n((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?o(e,""):a(e)}:a},3167:function(e,t,i){"use strict";var s=i(4901),n=i(34),r=i(2967);e.exports=function(e,t,i){var a,o;return r&&s(a=t.constructor)&&a!==i&&n(o=a.prototype)&&o!==i.prototype&&r(e,o),e}},3706:function(e,t,i){"use strict";var s=i(9504),n=i(4901),r=i(7629),a=s(Function.toString);n(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},1181:function(e,t,i){"use strict";var s,n,r,a=i(8622),o=i(4475),l=i(34),c=i(6699),d=i(9297),h=i(7629),u=i(6119),p=i(421),f="Object already initialized",g=o.TypeError,v=o.WeakMap,_=function(e){return r(e)?n(e):s(e,{})},m=function(e){return function(t){var i;if(!l(t)||(i=n(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return i}};if(a||h.state){var y=h.state||(h.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,s=function(e,t){if(y.has(e))throw new g(f);return t.facade=e,y.set(e,t),t},n=function(e){return y.get(e)||{}},r=function(e){return y.has(e)}}else{var b=u("state");p[b]=!0,s=function(e,t){if(d(e,b))throw new g(f);return t.facade=e,c(e,b,t),t},n=function(e){return d(e,b)?e[b]:{}},r=function(e){return d(e,b)}}e.exports={set:s,get:n,has:r,enforce:_,getterFor:m}},4209:function(e,t,i){"use strict";var s=i(8227),n=i(6269),r=s("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},4376:function(e,t,i){"use strict";var s=i(4576);e.exports=Array.isArray||function(e){return"Array"===s(e)}},1108:function(e,t,i){"use strict";var s=i(6955);e.exports=function(e){var t=s(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},3517:function(e,t,i){"use strict";var s=i(9504),n=i(9039),r=i(4901),a=i(6955),o=i(7751),l=i(3706),c=function(){},d=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,u=s(h.exec),p=!h.test(c),f=function(e){if(!r(e))return!1;try{return d(c,[],e),!0}catch(t){return!1}},g=function(e){if(!r(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!u(h,l(e))}catch(t){return!0}};g.sham=!0,e.exports=!d||n((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},2796:function(e,t,i){"use strict";var s=i(9039),n=i(4901),r=/#|\.prototype\./,a=function(e,t){var i=l[o(e)];return i===d||i!==c&&(n(t)?s(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},4117:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},34:function(e,t,i){"use strict";var s=i(4901);e.exports=function(e){return"object"==typeof e?null!==e:s(e)}},3925:function(e,t,i){"use strict";var s=i(34);e.exports=function(e){return s(e)||null===e}},6395:function(e){"use strict";e.exports=!1},757:function(e,t,i){"use strict";var s=i(7751),n=i(4901),r=i(1625),a=i(7040),o=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=s("Symbol");return n(t)&&r(t.prototype,o(e))}},507:function(e,t,i){"use strict";var s=i(9565);e.exports=function(e,t,i){var n,r,a=i?e:e.iterator,o=e.next;while(!(n=s(o,a)).done)if(r=t(n.value),void 0!==r)return r}},2652:function(e,t,i){"use strict";var s=i(6080),n=i(9565),r=i(8551),a=i(6823),o=i(4209),l=i(6198),c=i(1625),d=i(81),h=i(851),u=i(9539),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,i){var v,_,m,y,b,P,A,w=i&&i.that,S=!(!i||!i.AS_ENTRIES),x=!(!i||!i.IS_RECORD),L=!(!i||!i.IS_ITERATOR),E=!(!i||!i.INTERRUPTED),F=s(t,w),C=function(e){return v&&u(v,"normal",e),new f(!0,e)},T=function(e){return S?(r(e),E?F(e[0],e[1],C):F(e[0],e[1])):E?F(e,C):F(e)};if(x)v=e.iterator;else if(L)v=e;else{if(_=h(e),!_)throw new p(a(e)+" is not iterable");if(o(_)){for(m=0,y=l(e);y>m;m++)if(b=T(e[m]),b&&c(g,b))return b;return new f(!1)}v=d(e,_)}P=x?e.next:v.next;while(!(A=n(P,v)).done){try{b=T(A.value)}catch(k){u(v,"throw",k)}if("object"==typeof b&&b&&c(g,b))return b}return new f(!1)}},9539:function(e,t,i){"use strict";var s=i(9565),n=i(8551),r=i(5966);e.exports=function(e,t,i){var a,o;n(e);try{if(a=r(e,"return"),!a){if("throw"===t)throw i;return i}a=s(a,e)}catch(l){o=!0,a=l}if("throw"===t)throw i;if(o)throw a;return n(a),i}},6269:function(e){"use strict";e.exports={}},6198:function(e,t,i){"use strict";var s=i(8014);e.exports=function(e){return s(e.length)}},283:function(e,t,i){"use strict";var s=i(9504),n=i(9039),r=i(4901),a=i(9297),o=i(3724),l=i(350).CONFIGURABLE,c=i(3706),d=i(1181),h=d.enforce,u=d.get,p=String,f=Object.defineProperty,g=s("".slice),v=s("".replace),_=s([].join),m=o&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,i){"Symbol("===g(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),m&&i&&a(i,"arity")&&e.length!==i.arity&&f(e,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(n){}var s=h(e);return a(s,"source")||(s.source=_(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return r(this)&&u(this).source||c(this)}),"toString")},2248:function(e,t,i){"use strict";var s=i(9504),n=Map.prototype;e.exports={Map:Map,set:s(n.set),get:s(n.get),has:s(n.has),remove:s(n["delete"]),proto:n}},741:function(e){"use strict";var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var s=+e;return(s>0?i:t)(s)}},2603:function(e,t,i){"use strict";var s=i(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:s(e)}},4913:function(e,t,i){"use strict";var s=i(3724),n=i(5917),r=i(8686),a=i(8551),o=i(6969),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",u="configurable",p="writable";t.f=s?r?function(e,t,i){if(a(e),t=o(t),a(i),"function"===typeof e&&"prototype"===t&&"value"in i&&p in i&&!i[p]){var s=d(e,t);s&&s[p]&&(e[t]=i.value,i={configurable:u in i?i[u]:s[u],enumerable:h in i?i[h]:s[h],writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(a(e),t=o(t),a(i),n)try{return c(e,t,i)}catch(s){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},7347:function(e,t,i){"use strict";var s=i(3724),n=i(9565),r=i(8773),a=i(6980),o=i(5397),l=i(6969),c=i(9297),d=i(5917),h=Object.getOwnPropertyDescriptor;t.f=s?h:function(e,t){if(e=o(e),t=l(t),d)try{return h(e,t)}catch(i){}if(c(e,t))return a(!n(r.f,e,t),e[t])}},8480:function(e,t,i){"use strict";var s=i(1828),n=i(8727),r=n.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,r)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},2787:function(e,t,i){"use strict";var s=i(9297),n=i(4901),r=i(8981),a=i(6119),o=i(2211),l=a("IE_PROTO"),c=Object,d=c.prototype;e.exports=o?c.getPrototypeOf:function(e){var t=r(e);if(s(t,l))return t[l];var i=t.constructor;return n(i)&&t instanceof i?i.prototype:t instanceof c?d:null}},1625:function(e,t,i){"use strict";var s=i(9504);e.exports=s({}.isPrototypeOf)},1828:function(e,t,i){"use strict";var s=i(9504),n=i(9297),r=i(5397),a=i(9617).indexOf,o=i(421),l=s([].push);e.exports=function(e,t){var i,s=r(e),c=0,d=[];for(i in s)!n(o,i)&&n(s,i)&&l(d,i);while(t.length>c)n(s,i=t[c++])&&(~a(d,i)||l(d,i));return d}},8773:function(e,t){"use strict";var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,n=s&&!i.call({1:2},1);t.f=n?function(e){var t=s(this,e);return!!t&&t.enumerable}:i},2967:function(e,t,i){"use strict";var s=i(6706),n=i(34),r=i(7750),a=i(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{e=s(Object.prototype,"__proto__","set"),e(i,[]),t=i instanceof Array}catch(o){}return function(i,s){return r(i),a(s),n(i)?(t?e(i,s):i.__proto__=s,i):i}}():void 0)},4270:function(e,t,i){"use strict";var s=i(9565),n=i(4901),r=i(34),a=TypeError;e.exports=function(e,t){var i,o;if("string"===t&&n(i=e.toString)&&!r(o=s(i,e)))return o;if(n(i=e.valueOf)&&!r(o=s(i,e)))return o;if("string"!==t&&n(i=e.toString)&&!r(o=s(i,e)))return o;throw new a("Can't convert object to primitive value")}},5031:function(e,t,i){"use strict";var s=i(7751),n=i(9504),r=i(8480),a=i(3717),o=i(8551),l=n([].concat);e.exports=s("Reflect","ownKeys")||function(e){var t=r.f(o(e)),i=a.f;return i?l(t,i(e)):t}},7979:function(e,t,i){"use strict";var s=i(8551);e.exports=function(){var e=s(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},1034:function(e,t,i){"use strict";var s=i(9565),n=i(9297),r=i(1625),a=i(7979),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||n(e,"flags")||!r(o,e)?t:s(a,e)}},7750:function(e,t,i){"use strict";var s=i(4117),n=TypeError;e.exports=function(e){if(s(e))throw new n("Can't call method on "+e);return e}},9472:function(e,t,i){"use strict";var s=i(4475),n=i(8745),r=i(4901),a=i(6763),o=i(9392),l=i(7680),c=i(2812),d=s.Function,h=/MSIE .\./.test(o)||a&&function(){var e=s.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var i=t?2:1;return h?function(s,a){var o=c(arguments.length,1)>i,h=r(s)?s:d(s),u=o?l(arguments,i):[],p=o?function(){n(h,this,u)}:h;return t?e(p,a):e(p)}:e}},9286:function(e,t,i){"use strict";var s=i(4402),n=i(8469),r=s.Set,a=s.add;e.exports=function(e){var t=new r;return n(e,(function(e){a(t,e)})),t}},3440:function(e,t,i){"use strict";var s=i(7080),n=i(4402),r=i(9286),a=i(5170),o=i(3789),l=i(8469),c=i(507),d=n.has,h=n.remove;e.exports=function(e){var t=s(this),i=o(e),n=r(t);return a(t)<=i.size?l(t,(function(e){i.includes(e)&&h(n,e)})):c(i.getIterator(),(function(e){d(t,e)&&h(n,e)})),n}},4402:function(e,t,i){"use strict";var s=i(9504),n=Set.prototype;e.exports={Set:Set,add:s(n.add),has:s(n.has),remove:s(n["delete"]),proto:n}},8750:function(e,t,i){"use strict";var s=i(7080),n=i(4402),r=i(5170),a=i(3789),o=i(8469),l=i(507),c=n.Set,d=n.add,h=n.has;e.exports=function(e){var t=s(this),i=a(e),n=new c;return r(t)>i.size?l(i.getIterator(),(function(e){h(t,e)&&d(n,e)})):o(t,(function(e){i.includes(e)&&d(n,e)})),n}},4449:function(e,t,i){"use strict";var s=i(7080),n=i(4402).has,r=i(5170),a=i(3789),o=i(8469),l=i(507),c=i(9539);e.exports=function(e){var t=s(this),i=a(e);if(r(t)<=i.size)return!1!==o(t,(function(e){if(i.includes(e))return!1}),!0);var d=i.getIterator();return!1!==l(d,(function(e){if(n(t,e))return c(d,"normal",!1)}))}},3838:function(e,t,i){"use strict";var s=i(7080),n=i(5170),r=i(8469),a=i(3789);e.exports=function(e){var t=s(this),i=a(e);return!(n(t)>i.size)&&!1!==r(t,(function(e){if(!i.includes(e))return!1}),!0)}},8527:function(e,t,i){"use strict";var s=i(7080),n=i(4402).has,r=i(5170),a=i(3789),o=i(507),l=i(9539);e.exports=function(e){var t=s(this),i=a(e);if(r(t)<i.size)return!1;var c=i.getIterator();return!1!==o(c,(function(e){if(!n(t,e))return l(c,"normal",!1)}))}},8469:function(e,t,i){"use strict";var s=i(9504),n=i(507),r=i(4402),a=r.Set,o=r.proto,l=s(o.forEach),c=s(o.keys),d=c(new a).next;e.exports=function(e,t,i){return i?n({iterator:c(e),next:d},t):l(e,t)}},4916:function(e,t,i){"use strict";var s=i(7751),n=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=s("Set");try{(new t)[e](n(0));try{return(new t)[e](n(-1)),!1}catch(i){return!0}}catch(r){return!1}}},5170:function(e,t,i){"use strict";var s=i(6706),n=i(4402);e.exports=s(n.proto,"size","get")||function(e){return e.size}},3650:function(e,t,i){"use strict";var s=i(7080),n=i(4402),r=i(9286),a=i(3789),o=i(507),l=n.add,c=n.has,d=n.remove;e.exports=function(e){var t=s(this),i=a(e).getIterator(),n=r(t);return o(i,(function(e){c(t,e)?d(n,e):l(n,e)})),n}},4204:function(e,t,i){"use strict";var s=i(7080),n=i(4402).add,r=i(9286),a=i(3789),o=i(507);e.exports=function(e){var t=s(this),i=a(e).getIterator(),l=r(t);return o(i,(function(e){n(l,e)})),l}},6119:function(e,t,i){"use strict";var s=i(5745),n=i(3392),r=s("keys");e.exports=function(e){return r[e]||(r[e]=n(e))}},7629:function(e,t,i){"use strict";var s=i(6395),n=i(4475),r=i(9433),a="__core-js_shared__",o=e.exports=n[a]||r(a,{});(o.versions||(o.versions=[])).push({version:"3.37.1",mode:s?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,i){"use strict";var s=i(7629);e.exports=function(e,t){return s[e]||(s[e]=t||{})}},1548:function(e,t,i){"use strict";var s=i(4475),n=i(9039),r=i(7388),a=i(7290),o=i(516),l=i(9088),c=s.structuredClone;e.exports=!!c&&!n((function(){if(o&&r>92||l&&r>94||a&&r>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,i){"use strict";var s=i(7388),n=i(9039),r=i(4475),a=r.String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},1606:function(e,t,i){"use strict";var s,n,r,a,o=i(4475),l=i(8745),c=i(6080),d=i(4901),h=i(9297),u=i(9039),p=i(397),f=i(7680),g=i(4055),v=i(2812),_=i(8119),m=i(9088),y=o.setImmediate,b=o.clearImmediate,P=o.process,A=o.Dispatch,w=o.Function,S=o.MessageChannel,x=o.String,L=0,E={},F="onreadystatechange";u((function(){s=o.location}));var C=function(e){if(h(E,e)){var t=E[e];delete E[e],t()}},T=function(e){return function(){C(e)}},k=function(e){C(e.data)},O=function(e){o.postMessage(x(e),s.protocol+"//"+s.host)};y&&b||(y=function(e){v(arguments.length,1);var t=d(e)?e:w(e),i=f(arguments,1);return E[++L]=function(){l(t,void 0,i)},n(L),L},b=function(e){delete E[e]},m?n=function(e){P.nextTick(T(e))}:A&&A.now?n=function(e){A.now(T(e))}:S&&!_?(r=new S,a=r.port2,r.port1.onmessage=k,n=c(a.postMessage,a)):o.addEventListener&&d(o.postMessage)&&!o.importScripts&&s&&"file:"!==s.protocol&&!u(O)?(n=O,o.addEventListener("message",k,!1)):n=F in g("script")?function(e){p.appendChild(g("script"))[F]=function(){p.removeChild(this),C(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:y,clear:b}},5610:function(e,t,i){"use strict";var s=i(1291),n=Math.max,r=Math.min;e.exports=function(e,t){var i=s(e);return i<0?n(i+t,0):r(i,t)}},5854:function(e,t,i){"use strict";var s=i(2777),n=TypeError;e.exports=function(e){var t=s(e,"number");if("number"==typeof t)throw new n("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,i){"use strict";var s=i(1291),n=i(8014),r=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=s(e),i=n(t);if(t!==i)throw new r("Wrong length or index");return i}},5397:function(e,t,i){"use strict";var s=i(7055),n=i(7750);e.exports=function(e){return s(n(e))}},1291:function(e,t,i){"use strict";var s=i(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:s(t)}},8014:function(e,t,i){"use strict";var s=i(1291),n=Math.min;e.exports=function(e){var t=s(e);return t>0?n(t,9007199254740991):0}},8981:function(e,t,i){"use strict";var s=i(7750),n=Object;e.exports=function(e){return n(s(e))}},2777:function(e,t,i){"use strict";var s=i(9565),n=i(34),r=i(757),a=i(5966),o=i(4270),l=i(8227),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!n(e)||r(e))return e;var i,l=a(e,d);if(l){if(void 0===t&&(t="default"),i=s(l,e,t),!n(i)||r(i))return i;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},6969:function(e,t,i){"use strict";var s=i(2777),n=i(757);e.exports=function(e){var t=s(e,"string");return n(t)?t:t+""}},2140:function(e,t,i){"use strict";var s=i(8227),n=s("toStringTag"),r={};r[n]="z",e.exports="[object z]"===String(r)},655:function(e,t,i){"use strict";var s=i(6955),n=String;e.exports=function(e){if("Symbol"===s(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},9714:function(e,t,i){"use strict";var s=i(9088);e.exports=function(e){try{if(s)return Function('return require("'+e+'")')()}catch(t){}}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(i){return"Object"}}},3392:function(e,t,i){"use strict";var s=i(9504),n=0,r=Math.random(),a=s(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++n+r,36)}},7040:function(e,t,i){"use strict";var s=i(4495);e.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,i){"use strict";var s=i(3724),n=i(9039);e.exports=s&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},8622:function(e,t,i){"use strict";var s=i(4475),n=i(4901),r=s.WeakMap;e.exports=n(r)&&/native code/.test(String(r))},8227:function(e,t,i){"use strict";var s=i(4475),n=i(5745),r=i(9297),a=i(3392),o=i(4495),l=i(7040),c=s.Symbol,d=n("wks"),h=l?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return r(d,e)||(d[e]=o&&r(c,e)?c[e]:h("Symbol."+e)),d[e]}},6573:function(e,t,i){"use strict";var s=i(3724),n=i(2106),r=i(3238),a=ArrayBuffer.prototype;s&&!("detached"in a)&&n(a,"detached",{configurable:!0,get:function(){return r(this)}})},7936:function(e,t,i){"use strict";var s=i(6518),n=i(5636);n&&s({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return n(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,i){"use strict";var s=i(6518),n=i(5636);n&&s({target:"ArrayBuffer",proto:!0},{transfer:function(){return n(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,i){"use strict";var s=i(6518),n=i(8981),r=i(6198),a=i(4527),o=i(6837),l=i(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=c||!d();s({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=n(this),i=r(t),s=arguments.length;o(i+s);for(var l=0;l<s;l++)t[i]=arguments[l],i++;return a(t,i),i}})},7642:function(e,t,i){"use strict";var s=i(6518),n=i(3440),r=i(4916);s({target:"Set",proto:!0,real:!0,forced:!r("difference")},{difference:n})},8004:function(e,t,i){"use strict";var s=i(6518),n=i(9039),r=i(8750),a=i(4916),o=!a("intersection")||n((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));s({target:"Set",proto:!0,real:!0,forced:o},{intersection:r})},3853:function(e,t,i){"use strict";var s=i(6518),n=i(4449),r=i(4916);s({target:"Set",proto:!0,real:!0,forced:!r("isDisjointFrom")},{isDisjointFrom:n})},5876:function(e,t,i){"use strict";var s=i(6518),n=i(3838),r=i(4916);s({target:"Set",proto:!0,real:!0,forced:!r("isSubsetOf")},{isSubsetOf:n})},2475:function(e,t,i){"use strict";var s=i(6518),n=i(8527),r=i(4916);s({target:"Set",proto:!0,real:!0,forced:!r("isSupersetOf")},{isSupersetOf:n})},5024:function(e,t,i){"use strict";var s=i(6518),n=i(3650),r=i(4916);s({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:n})},1698:function(e,t,i){"use strict";var s=i(6518),n=i(4204),r=i(4916);s({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:n})},7467:function(e,t,i){"use strict";var s=i(7628),n=i(4644),r=n.aTypedArray,a=n.exportTypedArrayMethod,o=n.getTypedArrayConstructor;a("toReversed",(function(){return s(r(this),o(this))}))},4732:function(e,t,i){"use strict";var s=i(4644),n=i(9504),r=i(9306),a=i(5370),o=s.aTypedArray,l=s.getTypedArrayConstructor,c=s.exportTypedArrayMethod,d=n(s.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&r(e);var t=o(this),i=a(l(t),t);return d(i,e)}))},9577:function(e,t,i){"use strict";var s=i(9928),n=i(4644),r=i(1108),a=i(1291),o=i(5854),l=n.aTypedArray,c=n.getTypedArrayConstructor,d=n.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();d("with",{with:function(e,t){var i=l(this),n=a(e),d=r(i)?o(t):+t;return s(i,c(i),n,d)}}["with"],!h)},3375:function(e,t,i){"use strict";i(7642)},9225:function(e,t,i){"use strict";i(8004)},3972:function(e,t,i){"use strict";i(3853)},9209:function(e,t,i){"use strict";i(5876)},5714:function(e,t,i){"use strict";i(2475)},7561:function(e,t,i){"use strict";i(5024)},6197:function(e,t,i){"use strict";i(1698)},6368:function(e,t,i){"use strict";var s=i(6518),n=i(4475),r=i(1606).clear;s({global:!0,bind:!0,enumerable:!0,forced:n.clearImmediate!==r},{clearImmediate:r})},4979:function(e,t,i){"use strict";var s=i(6518),n=i(4475),r=i(7751),a=i(6980),o=i(4913).f,l=i(9297),c=i(679),d=i(3167),h=i(2603),u=i(5002),p=i(6193),f=i(3724),g=i(6395),v="DOMException",_=r("Error"),m=r(v),y=function(){c(this,b);var e=arguments.length,t=h(e<1?void 0:arguments[0]),i=h(e<2?void 0:arguments[1],"Error"),s=new m(t,i),n=new _(t);return n.name=v,o(s,"stack",a(1,p(n.stack,1))),d(s,this,y),s},b=y.prototype=m.prototype,P="stack"in new _(v),A="stack"in new m(1,2),w=m&&f&&Object.getOwnPropertyDescriptor(n,v),S=!!w&&!(w.writable&&w.configurable),x=P&&!S&&!A;s({global:!0,constructor:!0,forced:g||x},{DOMException:x?y:m});var L=r(v),E=L.prototype;if(E.constructor!==L)for(var F in g||o(E,"constructor",a(1,L)),u)if(l(u,F)){var C=u[F],T=C.s;l(L,T)||o(L,T,a(6,C.c))}},9848:function(e,t,i){"use strict";i(6368),i(9309)},9309:function(e,t,i){"use strict";var s=i(6518),n=i(4475),r=i(1606).set,a=i(9472),o=n.setImmediate?a(r,!1):r;s({global:!0,bind:!0,enumerable:!0,forced:n.setImmediate!==o},{setImmediate:o})},1678:function(e,t,i){"use strict";var s=i(6395),n=i(6518),r=i(4475),a=i(7751),o=i(9504),l=i(9039),c=i(3392),d=i(4901),h=i(3517),u=i(4117),p=i(34),f=i(757),g=i(2652),v=i(8551),_=i(6955),m=i(9297),y=i(4659),b=i(6699),P=i(6198),A=i(2812),w=i(1034),S=i(2248),x=i(4402),L=i(8469),E=i(4483),F=i(6249),C=i(1548),T=r.Object,k=r.Array,O=r.Date,M=r.Error,R=r.TypeError,I=r.PerformanceMark,D=a("DOMException"),B=S.Map,N=S.has,j=S.get,U=S.set,V=x.Set,$=x.add,H=x.has,W=a("Object","keys"),z=o([].push),q=o((!0).valueOf),K=o(1..valueOf),G=o("".valueOf),X=o(O.prototype.getTime),Y=c("structuredClone"),Q="DataCloneError",J="Transferring",Z=function(e){return!l((function(){var t=new r.Set([7]),i=e(t),s=e(T(7));return i===t||!i.has(7)||!p(s)||7!==+s}))&&e},ee=function(e,t){return!l((function(){var i=new t,s=e({a:i,b:i});return!(s&&s.a===s.b&&s.a instanceof t&&s.a.stack===i.stack)}))},te=function(e){return!l((function(){var t=e(new r.AggregateError([1],Y,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==Y||3!==t.cause}))},ie=r.structuredClone,se=s||!ee(ie,M)||!ee(ie,D)||!te(ie),ne=!ie&&Z((function(e){return new I(Y,{detail:e}).detail})),re=Z(ie)||ne,ae=function(e){throw new D("Uncloneable type: "+e,Q)},oe=function(e,t){throw new D((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Q)},le=function(e,t){return re||oe(t),re(e)},ce=function(){var e;try{e=new r.DataTransfer}catch(t){try{e=new r.ClipboardEvent("").clipboardData}catch(i){}}return e&&e.items&&e.files?e:null},de=function(e,t,i){if(N(t,e))return j(t,e);var s,n,a,o,l,c,h=i||_(e);if("SharedArrayBuffer"===h)s=re?re(e):e;else{var u=r.DataView;u||d(e.slice)||oe("ArrayBuffer");try{if(d(e.slice)&&!e.resizable)s=e.slice(0);else{n=e.byteLength,a="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,s=new ArrayBuffer(n,a),o=new u(e),l=new u(s);for(c=0;c<n;c++)l.setUint8(c,o.getUint8(c))}}catch(p){throw new D("ArrayBuffer is detached",Q)}}return U(t,e,s),s},he=function(e,t,i,s,n){var a=r[t];return p(a)||oe(t),new a(de(e.buffer,n),i,s)},ue=function(e,t){if(f(e)&&ae("Symbol"),!p(e))return e;if(t){if(N(t,e))return j(t,e)}else t=new B;var i,s,n,o,l,c,h,u,g=_(e);switch(g){case"Array":n=k(P(e));break;case"Object":n={};break;case"Map":n=new B;break;case"Set":n=new V;break;case"RegExp":n=new RegExp(e.source,w(e));break;case"Error":switch(s=e.name,s){case"AggregateError":n=new(a(s))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":n=new(a(s));break;case"CompileError":case"LinkError":case"RuntimeError":n=new(a("WebAssembly",s));break;default:n=new M}break;case"DOMException":n=new D(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":n=de(e,t,g);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===g?e.byteLength:e.length,n=he(e,g,e.byteOffset,c,t);break;case"DOMQuad":try{n=new DOMQuad(ue(e.p1,t),ue(e.p2,t),ue(e.p3,t),ue(e.p4,t))}catch(v){n=le(e,g)}break;case"File":if(re)try{n=re(e),_(n)!==g&&(n=void 0)}catch(v){}if(!n)try{n=new File([e],e.name,e)}catch(v){}n||oe(g);break;case"FileList":if(o=ce(),o){for(l=0,c=P(e);l<c;l++)o.items.add(ue(e[l],t));n=o.files}else n=le(e,g);break;case"ImageData":try{n=new ImageData(ue(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(v){n=le(e,g)}break;default:if(re)n=re(e);else switch(g){case"BigInt":n=T(e.valueOf());break;case"Boolean":n=T(q(e));break;case"Number":n=T(K(e));break;case"String":n=T(G(e));break;case"Date":n=new O(X(e));break;case"Blob":try{n=e.slice(0,e.size,e.type)}catch(v){oe(g)}break;case"DOMPoint":case"DOMPointReadOnly":i=r[g];try{n=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(v){oe(g)}break;case"DOMRect":case"DOMRectReadOnly":i=r[g];try{n=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(v){oe(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=r[g];try{n=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(v){oe(g)}break;case"AudioData":case"VideoFrame":d(e.clone)||oe(g);try{n=e.clone()}catch(v){ae(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":oe(g);default:ae(g)}}switch(U(t,e,n),g){case"Array":case"Object":for(h=W(e),l=0,c=P(h);l<c;l++)u=h[l],y(n,u,ue(e[u],t));break;case"Map":e.forEach((function(e,i){U(n,ue(i,t),ue(e,t))}));break;case"Set":e.forEach((function(e){$(n,ue(e,t))}));break;case"Error":b(n,"message",ue(e.message,t)),m(e,"cause")&&b(n,"cause",ue(e.cause,t)),"AggregateError"===s?n.errors=ue(e.errors,t):"SuppressedError"===s&&(n.error=ue(e.error,t),n.suppressed=ue(e.suppressed,t));case"DOMException":F&&b(n,"stack",ue(e.stack,t))}return n},pe=function(e,t){if(!p(e))throw new R("Transfer option cannot be converted to a sequence");var i=[];g(e,(function(e){z(i,v(e))}));var s,n,a,o,l,c,u=0,f=P(i),m=new V;while(u<f){if(s=i[u++],n=_(s),"ArrayBuffer"===n?H(m,s):N(t,s))throw new D("Duplicate transferable",Q);if("ArrayBuffer"!==n){if(C)o=ie(s,{transfer:[s]});else switch(n){case"ImageBitmap":a=r.OffscreenCanvas,h(a)||oe(n,J);try{l=new a(s.width,s.height),c=l.getContext("bitmaprenderer"),c.transferFromImageBitmap(s),o=l.transferToImageBitmap()}catch(y){}break;case"AudioData":case"VideoFrame":d(s.clone)&&d(s.close)||oe(n,J);try{o=s.clone(),s.close()}catch(y){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":oe(n,J)}if(void 0===o)throw new D("This object cannot be transferred: "+n,Q);U(t,s,o)}else $(m,s)}return m},fe=function(e){L(e,(function(e){C?re(e,{transfer:[e]}):d(e.transfer)?e.transfer():E?E(e):oe("ArrayBuffer",J)}))};n({global:!0,enumerable:!0,sham:!C,forced:se},{structuredClone:function(e){var t,i,s=A(arguments.length,1)>1&&!u(arguments[1])?v(arguments[1]):void 0,n=s?s.transfer:void 0;void 0!==n&&(t=new B,i=pe(n,t));var r=ue(e,t);return i&&fe(i),r}})},4603:function(e,t,i){"use strict";var s=i(6840),n=i(9504),r=i(655),a=i(2812),o=URLSearchParams,l=o.prototype,c=n(l.append),d=n(l["delete"]),h=n(l.forEach),u=n([].push),p=new o("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&s(l,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var s=[];h(this,(function(e,t){u(s,{key:t,value:e})})),a(t,1);var n,o=r(e),l=r(i),p=0,f=0,g=!1,v=s.length;while(p<v)n=s[p++],g||n.key===o?(g=!0,d(this,n.key)):f++;while(f<v)n=s[f++],n.key===o&&n.value===l||c(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,i){"use strict";var s=i(6840),n=i(9504),r=i(655),a=i(2812),o=URLSearchParams,l=o.prototype,c=n(l.getAll),d=n(l.has),h=new o("a=1");!h.has("a",2)&&h.has("a",void 0)||s(l,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var s=c(this,e);a(t,1);var n=r(i),o=0;while(o<s.length)if(s[o++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,i){"use strict";var s=i(3724),n=i(9504),r=i(2106),a=URLSearchParams.prototype,o=n(a.forEach);s&&!("size"in a)&&r(a,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},5504:function(e){function t(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},9654:function(e){var t=0;function i(e){return"__private_"+t+++"_"+e}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}!function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}();var __webpack_exports__={};!function(){"use strict";__webpack_require__(4114),__webpack_require__(3375),__webpack_require__(9225),__webpack_require__(3972),__webpack_require__(9209),__webpack_require__(5714),__webpack_require__(7561),__webpack_require__(6197),__webpack_require__(9848);var e=Object.freeze({}),t=Array.isArray;function i(e){return void 0===e||null===e}function s(e){return void 0!==e&&null!==e}function n(e){return!0===e}function r(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function o(e){return"function"===typeof e}function l(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function d(e){return"[object Object]"===c.call(e)}function h(e){return"[object RegExp]"===c.call(e)}function u(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return s(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===c?JSON.stringify(e,g,2):String(e)}function g(e,t){return t&&t.__v_isRef?t.value:t}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function _(e,t){for(var i=Object.create(null),s=e.split(","),n=0;n<s.length;n++)i[s[n]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}_("slot,component",!0);var m=_("key,ref,slot,slot-scope,is");function y(e,t){var i=e.length;if(i){if(t===e[i-1])return void(e.length=i-1);var s=e.indexOf(t);if(s>-1)return e.splice(s,1)}}var b=Object.prototype.hasOwnProperty;function P(e,t){return b.call(e,t)}function A(e){var t=Object.create(null);return function(i){var s=t[i];return s||(t[i]=e(i))}}var w=/-(\w)/g,S=A((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))})),x=A((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),L=/\B([A-Z])/g,E=A((function(e){return e.replace(L,"-$1").toLowerCase()}));function F(e,t){function i(i){var s=arguments.length;return s?s>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function C(e,t){return e.bind(t)}var T=Function.prototype.bind?C:F;function k(e,t){t=t||0;var i=e.length-t,s=new Array(i);while(i--)s[i]=e[i+t];return s}function O(e,t){for(var i in t)e[i]=t[i];return e}function M(e){for(var t={},i=0;i<e.length;i++)e[i]&&O(t,e[i]);return t}function R(e,t,i){}var I=function(e,t,i){return!1},D=function(e){return e};function B(e,t){if(e===t)return!0;var i=l(e),s=l(t);if(!i||!s)return!i&&!s&&String(e)===String(t);try{var n=Array.isArray(e),r=Array.isArray(t);if(n&&r)return e.length===t.length&&e.every((function(e,i){return B(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(n||r)return!1;var a=Object.keys(e),o=Object.keys(t);return a.length===o.length&&a.every((function(i){return B(e[i],t[i])}))}catch(c){return!1}}function N(e,t){for(var i=0;i<e.length;i++)if(B(e[i],t))return i;return-1}function j(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function U(e,t){return e===t?0===e&&1/e!==1/t:e===e||t===t}var V="data-server-rendered",$=["component","directive","filter"],H=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],W={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:R,parsePlatformTagName:D,mustUseProp:I,async:!0,_lifecycleHooks:H},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function K(e,t,i,s){Object.defineProperty(e,t,{value:i,enumerable:!!s,writable:!0,configurable:!0})}var G=new RegExp("[^".concat(z.source,".$_\\d]"));function X(e){if(!G.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var Y="__proto__"in{},Q="undefined"!==typeof window,J=Q&&window.navigator.userAgent.toLowerCase(),Z=J&&/msie|trident/.test(J),ee=J&&J.indexOf("msie 9.0")>0,te=J&&J.indexOf("edge/")>0;J&&J.indexOf("android");var ie=J&&/iphone|ipad|ipod|ios/.test(J);J&&/chrome\/\d+/.test(J),J&&/phantomjs/.test(J);var se,ne=J&&J.match(/firefox\/(\d+)/),re={}.watch,ae=!1;if(Q)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,oe)}catch(go){}var le=function(){return void 0===se&&(se=!Q&&"undefined"!==typeof __webpack_require__.g&&(__webpack_require__.g["process"]&&"server"===__webpack_require__.g["process"].env.VUE_ENV)),se},ce=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function de(e){return"function"===typeof e&&/native code/.test(e.toString())}var he,ue="undefined"!==typeof Symbol&&de(Symbol)&&"undefined"!==typeof Reflect&&de(Reflect.ownKeys);he="undefined"!==typeof Set&&de(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe=null;function fe(e){void 0===e&&(e=null),e||pe&&pe._scope.off(),pe=e,e&&e._scope.on()}var ge=function(){function e(e,t,i,s,n,r,a,o){this.tag=e,this.data=t,this.children=i,this.text=s,this.elm=n,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),ve=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function _e(e){return new ge(void 0,void 0,void 0,String(e))}function me(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"===typeof SuppressedError&&SuppressedError;var ye=0,be=[],Pe=function(){for(var e=0;e<be.length;e++){var t=be[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}be.length=0},Ae=function(){function e(){this._pending=!1,this.id=ye++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,be.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var i=0,s=t.length;i<s;i++){var n=t[i];0,n.update()}},e}();Ae.target=null;var we=[];function Se(e){we.push(e),Ae.target=e}function xe(){we.pop(),Ae.target=we[we.length-1]}var Le=Array.prototype,Ee=Object.create(Le),Fe=["push","pop","shift","unshift","splice","sort","reverse"];Fe.forEach((function(e){var t=Le[e];K(Ee,e,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var n,r=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":n=i;break;case"splice":n=i.slice(2);break}return n&&a.observeArray(n),a.dep.notify(),r}))}));var Ce=Object.getOwnPropertyNames(Ee),Te={},ke=!0;function Oe(e){ke=e}var Me={notify:R,depend:R,addSub:R,removeSub:R},Re=function(){function e(e,i,s){if(void 0===i&&(i=!1),void 0===s&&(s=!1),this.value=e,this.shallow=i,this.mock=s,this.dep=s?Me:new Ae,this.vmCount=0,K(e,"__ob__",this),t(e)){if(!s)if(Y)e.__proto__=Ee;else for(var n=0,r=Ce.length;n<r;n++){var a=Ce[n];K(e,a,Ee[a])}i||this.observeArray(e)}else{var o=Object.keys(e);for(n=0;n<o.length;n++){a=o[n];De(e,a,Te,void 0,i,s)}}}return e.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Ie(e[t],!1,this.mock)},e}();function Ie(e,i,s){return e&&P(e,"__ob__")&&e.__ob__ instanceof Re?e.__ob__:!ke||!s&&le()||!t(e)&&!d(e)||!Object.isExtensible(e)||e.__v_skip||He(e)||e instanceof ge?void 0:new Re(e,i,s)}function De(e,i,s,n,r,a,o){void 0===o&&(o=!1);var l=new Ae,c=Object.getOwnPropertyDescriptor(e,i);if(!c||!1!==c.configurable){var d=c&&c.get,h=c&&c.set;d&&!h||s!==Te&&2!==arguments.length||(s=e[i]);var u=r?s&&s.__ob__:Ie(s,!1,a);return Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:function(){var i=d?d.call(e):s;return Ae.target&&(l.depend(),u&&(u.dep.depend(),t(i)&&je(i))),He(i)&&!r?i.value:i},set:function(t){var i=d?d.call(e):s;if(U(i,t)){if(h)h.call(e,t);else{if(d)return;if(!r&&He(i)&&!He(t))return void(i.value=t);s=t}u=r?t&&t.__ob__:Ie(t,!1,a),l.notify()}}}),l}}function Be(e,i,s){if(!$e(e)){var n=e.__ob__;return t(e)&&u(i)?(e.length=Math.max(e.length,i),e.splice(i,1,s),n&&!n.shallow&&n.mock&&Ie(s,!1,!0),s):i in e&&!(i in Object.prototype)?(e[i]=s,s):e._isVue||n&&n.vmCount?s:n?(De(n.value,i,s,void 0,n.shallow,n.mock),n.dep.notify(),s):(e[i]=s,s)}}function Ne(e,i){if(t(e)&&u(i))e.splice(i,1);else{var s=e.__ob__;e._isVue||s&&s.vmCount||$e(e)||P(e,i)&&(delete e[i],s&&s.dep.notify())}}function je(e){for(var i=void 0,s=0,n=e.length;s<n;s++)i=e[s],i&&i.__ob__&&i.__ob__.dep.depend(),t(i)&&je(i)}function Ue(e){return Ve(e,!0),K(e,"__v_isShallow",!0),e}function Ve(e,t){if(!$e(e)){Ie(e,t,le());0}}function $e(e){return!(!e||!e.__v_isReadonly)}function He(e){return!(!e||!0!==e.__v_isRef)}function We(e,t,i){Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:function(){var e=t[i];if(He(e))return e.value;var s=e&&e.__ob__;return s&&s.dep.depend(),e},set:function(e){var s=t[i];He(s)&&!He(e)?s.value=e:t[i]=e}})}var ze="watcher";"".concat(ze," callback"),"".concat(ze," getter"),"".concat(ze," cleanup");var qe;var Ke=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=qe;try{return qe=this,e()}finally{qe=t}}else 0},e.prototype.on=function(){qe=this},e.prototype.off=function(){qe=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,i=void 0;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].teardown();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Ge(e,t){void 0===t&&(t=qe),t&&t.active&&t.effects.push(e)}function Xe(){return qe}function Ye(e){var t=e._provided,i=e.$parent&&e.$parent._provided;return i===t?e._provided=Object.create(i):t}var Qe=A((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var s="!"===e.charAt(0);return e=s?e.slice(1):e,{name:e,once:i,capture:s,passive:t}}));function Je(e,i){function s(){var e=s.fns;if(!t(e))return Gt(e,null,arguments,i,"v-on handler");for(var n=e.slice(),r=0;r<n.length;r++)Gt(n[r],null,arguments,i,"v-on handler")}return s.fns=e,s}function Ze(e,t,s,r,a,o){var l,c,d,h;for(l in e)c=e[l],d=t[l],h=Qe(l),i(c)||(i(d)?(i(c.fns)&&(c=e[l]=Je(c,o)),n(h.once)&&(c=e[l]=a(h.name,c,h.capture)),s(h.name,c,h.capture,h.passive,h.params)):c!==d&&(d.fns=c,e[l]=d));for(l in t)i(e[l])&&(h=Qe(l),r(h.name,t[l],h.capture))}function et(e,t,r){var a;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function l(){r.apply(this,arguments),y(a.fns,l)}i(o)?a=Je([l]):s(o.fns)&&n(o.merged)?(a=o,a.fns.push(l)):a=Je([o,l]),a.merged=!0,e[t]=a}function tt(e,t,n){var r=t.options.props;if(!i(r)){var a={},o=e.attrs,l=e.props;if(s(o)||s(l))for(var c in r){var d=E(c);it(a,l,c,d,!0)||it(a,o,c,d,!1)}return a}}function it(e,t,i,n,r){if(s(t)){if(P(t,i))return e[i]=t[i],r||delete t[i],!0;if(P(t,n))return e[i]=t[n],r||delete t[n],!0}return!1}function st(e){for(var i=0;i<e.length;i++)if(t(e[i]))return Array.prototype.concat.apply([],e);return e}function nt(e){return a(e)?[_e(e)]:t(e)?at(e):void 0}function rt(e){return s(e)&&s(e.text)&&r(e.isComment)}function at(e,r){var o,l,c,d,h=[];for(o=0;o<e.length;o++)l=e[o],i(l)||"boolean"===typeof l||(c=h.length-1,d=h[c],t(l)?l.length>0&&(l=at(l,"".concat(r||"","_").concat(o)),rt(l[0])&&rt(d)&&(h[c]=_e(d.text+l[0].text),l.shift()),h.push.apply(h,l)):a(l)?rt(d)?h[c]=_e(d.text+l):""!==l&&h.push(_e(l)):rt(l)&&rt(d)?h[c]=_e(d.text+l.text):(n(e._isVList)&&s(l.tag)&&i(l.key)&&s(r)&&(l.key="__vlist".concat(r,"_").concat(o,"__")),h.push(l)));return h}function ot(e,i){var n,r,a,o,c=null;if(t(e)||"string"===typeof e)for(c=new Array(e.length),n=0,r=e.length;n<r;n++)c[n]=i(e[n],n);else if("number"===typeof e)for(c=new Array(e),n=0;n<e;n++)c[n]=i(n+1,n);else if(l(e))if(ue&&e[Symbol.iterator]){c=[];var d=e[Symbol.iterator](),h=d.next();while(!h.done)c.push(i(h.value,c.length)),h=d.next()}else for(a=Object.keys(e),c=new Array(a.length),n=0,r=a.length;n<r;n++)o=a[n],c[n]=i(e[o],o,n);return s(c)||(c=[]),c._isVList=!0,c}function lt(e,t,i,s){var n,r=this.$scopedSlots[e];r?(i=i||{},s&&(i=O(O({},s),i)),n=r(i)||(o(t)?t():t)):n=this.$slots[e]||(o(t)?t():t);var a=i&&i.slot;return a?this.$createElement("template",{slot:a},n):n}function ct(e){return Ps(this.$options,"filters",e,!0)||D}function dt(e,i){return t(e)?-1===e.indexOf(i):e!==i}function ht(e,t,i,s,n){var r=W.keyCodes[t]||i;return n&&s&&!W.keyCodes[t]?dt(n,s):r?dt(r,e):s?E(s)!==t:void 0===e}function ut(e,i,s,n,r){if(s)if(l(s)){t(s)&&(s=M(s));var a=void 0,o=function(t){if("class"===t||"style"===t||m(t))a=e;else{var o=e.attrs&&e.attrs.type;a=n||W.mustUseProp(i,o,t)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=S(t),c=E(t);if(!(l in a)&&!(c in a)&&(a[t]=s[t],r)){var d=e.on||(e.on={});d["update:".concat(t)]=function(e){s[t]=e}}};for(var c in s)o(c)}else;return e}function pt(e,t){var i=this._staticTrees||(this._staticTrees=[]),s=i[e];return s&&!t||(s=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),gt(s,"__static__".concat(e),!1)),s}function ft(e,t,i){return gt(e,"__once__".concat(t).concat(i?"_".concat(i):""),!0),e}function gt(e,i,s){if(t(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&vt(e[n],"".concat(i,"_").concat(n),s);else vt(e,i,s)}function vt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function _t(e,t){if(t)if(d(t)){var i=e.on=e.on?O({},e.on):{};for(var s in t){var n=i[s],r=t[s];i[s]=n?[].concat(n,r):r}}else;return e}function mt(e,i,s,n){i=i||{$stable:!s};for(var r=0;r<e.length;r++){var a=e[r];t(a)?mt(a,i,s):a&&(a.proxy&&(a.fn.proxy=!0),i[a.key]=a.fn)}return n&&(i.$key=n),i}function yt(e,t){for(var i=0;i<t.length;i+=2){var s=t[i];"string"===typeof s&&s&&(e[t[i]]=t[i+1])}return e}function bt(e,t){return"string"===typeof e?t+e:e}function Pt(e){e._o=ft,e._n=v,e._s=f,e._l=ot,e._t=lt,e._q=B,e._i=N,e._m=pt,e._f=ct,e._k=ht,e._b=ut,e._v=_e,e._e=ve,e._u=mt,e._g=_t,e._d=yt,e._p=bt}function At(e,t){if(!e||!e.length)return{};for(var i={},s=0,n=e.length;s<n;s++){var r=e[s],a=r.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,r.context!==t&&r.fnContext!==t||!a||null==a.slot)(i.default||(i.default=[])).push(r);else{var o=a.slot,l=i[o]||(i[o]=[]);"template"===r.tag?l.push.apply(l,r.children||[]):l.push(r)}}for(var c in i)i[c].every(wt)&&delete i[c];return i}function wt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function St(e){return e.isComment&&e.asyncFactory}function xt(t,i,s,n){var r,a=Object.keys(s).length>0,o=i?!!i.$stable:!a,l=i&&i.$key;if(i){if(i._normalized)return i._normalized;if(o&&n&&n!==e&&l===n.$key&&!a&&!n.$hasNormal)return n;for(var c in r={},i)i[c]&&"$"!==c[0]&&(r[c]=Lt(t,s,c,i[c]))}else r={};for(var d in s)d in r||(r[d]=Et(s,d));return i&&Object.isExtensible(i)&&(i._normalized=r),K(r,"$stable",o),K(r,"$key",l),K(r,"$hasNormal",a),r}function Lt(e,i,s,n){var r=function(){var i=pe;fe(e);var s=arguments.length?n.apply(null,arguments):n({});s=s&&"object"===typeof s&&!t(s)?[s]:nt(s);var r=s&&s[0];return fe(i),s&&(!r||1===s.length&&r.isComment&&!St(r))?void 0:s};return n.proxy&&Object.defineProperty(i,s,{get:r,enumerable:!0,configurable:!0}),r}function Et(e,t){return function(){return e[t]}}function Ft(e){var t=e.$options,i=t.setup;if(i){var s=e._setupContext=Ct(e);fe(e),Se();var n=Gt(i,null,[e._props||Ue({}),s],e,"setup");if(xe(),fe(),o(n))t.render=n;else if(l(n))if(e._setupState=n,n.__sfc){var r=e._setupProxy={};for(var a in n)"__sfc"!==a&&We(r,n,a)}else for(var a in n)q(a)||We(e,n,a);else 0}}function Ct(t){return{get attrs(){if(!t._attrsProxy){var i=t._attrsProxy={};K(i,"_v_attr_proxy",!0),Tt(i,t.$attrs,e,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var i=t._listenersProxy={};Tt(i,t.$listeners,e,t,"$listeners")}return t._listenersProxy},get slots(){return Ot(t)},emit:T(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(i){return We(t,e,i)}))}}}function Tt(e,t,i,s,n){var r=!1;for(var a in t)a in e?t[a]!==i[a]&&(r=!0):(r=!0,kt(e,a,s,n));for(var a in e)a in t||(r=!0,delete e[a]);return r}function kt(e,t,i,s){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return i[s][t]}})}function Ot(e){return e._slotsProxy||Mt(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function Mt(e,t){for(var i in t)e[i]=t[i];for(var i in e)i in t||delete e[i]}function Rt(t){t._vnode=null,t._staticTrees=null;var i=t.$options,s=t.$vnode=i._parentVnode,n=s&&s.context;t.$slots=At(i._renderChildren,n),t.$scopedSlots=s?xt(t.$parent,s.data.scopedSlots,t.$slots):e,t._c=function(e,i,s,n){return Ht(t,e,i,s,n,!1)},t.$createElement=function(e,i,s,n){return Ht(t,e,i,s,n,!0)};var r=s&&s.data;De(t,"$attrs",r&&r.attrs||e,null,!0),De(t,"$listeners",i._parentListeners||e,null,!0)}var It=null;function Dt(e){Pt(e.prototype),e.prototype.$nextTick=function(e){return ai(e,this)},e.prototype._render=function(){var e=this,i=e.$options,s=i.render,n=i._parentVnode;n&&e._isMounted&&(e.$scopedSlots=xt(e.$parent,n.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Mt(e._slotsProxy,e.$scopedSlots)),e.$vnode=n;var r,a=pe,o=It;try{fe(e),It=e,r=s.call(e._renderProxy,e.$createElement)}catch(go){Kt(go,e,"render"),r=e._vnode}finally{It=o,fe(a)}return t(r)&&1===r.length&&(r=r[0]),r instanceof ge||(r=ve()),r.parent=n,r}}function Bt(e,t){return(e.__esModule||ue&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function Nt(e,t,i,s,n){var r=ve();return r.asyncFactory=e,r.asyncMeta={data:t,context:i,children:s,tag:n},r}function jt(e,t){if(n(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var r=It;if(r&&s(e.owners)&&-1===e.owners.indexOf(r)&&e.owners.push(r),n(e.loading)&&s(e.loadingComp))return e.loadingComp;if(r&&!s(e.owners)){var a=e.owners=[r],o=!0,c=null,d=null;r.$on("hook:destroyed",(function(){return y(a,r)}));var h=function(e){for(var t=0,i=a.length;t<i;t++)a[t].$forceUpdate();e&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==d&&(clearTimeout(d),d=null))},u=j((function(i){e.resolved=Bt(i,t),o?a.length=0:h(!0)})),f=j((function(t){s(e.errorComp)&&(e.error=!0,h(!0))})),g=e(u,f);return l(g)&&(p(g)?i(e.resolved)&&g.then(u,f):p(g.component)&&(g.component.then(u,f),s(g.error)&&(e.errorComp=Bt(g.error,t)),s(g.loading)&&(e.loadingComp=Bt(g.loading,t),0===g.delay?e.loading=!0:c=setTimeout((function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,h(!1))}),g.delay||200)),s(g.timeout)&&(d=setTimeout((function(){d=null,i(e.resolved)&&f(null)}),g.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}function Ut(e){if(t(e))for(var i=0;i<e.length;i++){var n=e[i];if(s(n)&&(s(n.componentOptions)||St(n)))return n}}var Vt=1,$t=2;function Ht(e,i,s,r,o,l){return(t(s)||a(s))&&(o=r,r=s,s=void 0),n(l)&&(o=$t),Wt(e,i,s,r,o)}function Wt(e,i,n,r,a){if(s(n)&&s(n.__ob__))return ve();if(s(n)&&s(n.is)&&(i=n.is),!i)return ve();var l,c;if(t(r)&&o(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),a===$t?r=nt(r):a===Vt&&(r=st(r)),"string"===typeof i){var d=void 0;c=e.$vnode&&e.$vnode.ns||W.getTagNamespace(i),l=W.isReservedTag(i)?new ge(W.parsePlatformTagName(i),n,r,void 0,void 0,e):n&&n.pre||!s(d=Ps(e.$options,"components",i))?new ge(i,n,r,void 0,void 0,e):ns(d,n,e,r,i)}else l=ns(i,n,e,r);return t(l)?l:s(l)?(s(c)&&zt(l,c),s(n)&&qt(n),l):ve()}function zt(e,t,r){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0),s(e.children))for(var a=0,o=e.children.length;a<o;a++){var l=e.children[a];s(l.tag)&&(i(l.ns)||n(r)&&"svg"!==l.tag)&&zt(l,t,r)}}function qt(e){l(e.style)&&hi(e.style),l(e.class)&&hi(e.class)}function Kt(e,t,i){Se();try{if(t){var s=t;while(s=s.$parent){var n=s.$options.errorCaptured;if(n)for(var r=0;r<n.length;r++)try{var a=!1===n[r].call(s,e,t,i);if(a)return}catch(go){Xt(go,s,"errorCaptured hook")}}}Xt(e,t,i)}finally{xe()}}function Gt(e,t,i,s,n){var r;try{r=i?e.apply(t,i):e.call(t),r&&!r._isVue&&p(r)&&!r._handled&&(r.catch((function(e){return Kt(e,s,n+" (Promise/async)")})),r._handled=!0)}catch(go){Kt(go,s,n)}return r}function Xt(e,t,i){if(W.errorHandler)try{return W.errorHandler.call(null,e,t,i)}catch(go){go!==e&&Yt(go,null,"config.errorHandler")}Yt(e,t,i)}function Yt(e,t,i){if(!Q||"undefined"===typeof console)throw e;console.error(e)}var Qt,Jt=!1,Zt=[],ei=!1;function ti(){ei=!1;var e=Zt.slice(0);Zt.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&de(Promise)){var ii=Promise.resolve();Qt=function(){ii.then(ti),ie&&setTimeout(R)},Jt=!0}else if(Z||"undefined"===typeof MutationObserver||!de(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qt="undefined"!==typeof setImmediate&&de(setImmediate)?function(){setImmediate(ti)}:function(){setTimeout(ti,0)};else{var si=1,ni=new MutationObserver(ti),ri=document.createTextNode(String(si));ni.observe(ri,{characterData:!0}),Qt=function(){si=(si+1)%2,ri.data=String(si)},Jt=!0}function ai(e,t){var i;if(Zt.push((function(){if(e)try{e.call(t)}catch(go){Kt(go,t,"nextTick")}else i&&i(t)})),ei||(ei=!0,Qt()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}function oi(e){return function(t,i){if(void 0===i&&(i=pe),i)return li(i,e,t)}}function li(e,t,i){var s=e.$options;s[t]=ps(s[t],i)}oi("beforeMount"),oi("mounted"),oi("beforeUpdate"),oi("updated"),oi("beforeDestroy"),oi("destroyed"),oi("activated"),oi("deactivated"),oi("serverPrefetch"),oi("renderTracked"),oi("renderTriggered"),oi("errorCaptured");var ci="2.7.16";var di=new he;function hi(e){return ui(e,di),di.clear(),e}function ui(e,i){var s,n,r=t(e);if(!(!r&&!l(e)||e.__v_skip||Object.isFrozen(e)||e instanceof ge)){if(e.__ob__){var a=e.__ob__.dep.id;if(i.has(a))return;i.add(a)}if(r){s=e.length;while(s--)ui(e[s],i)}else if(He(e))ui(e.value,i);else{n=Object.keys(e),s=n.length;while(s--)ui(e[n[s]],i)}}}var pi,fi=0,gi=function(){function e(e,t,i,s,n){Ge(this,qe&&!qe._vm?qe:e?e._scope:void 0),(this.vm=e)&&n&&(e._watcher=this),s?(this.deep=!!s.deep,this.user=!!s.user,this.lazy=!!s.lazy,this.sync=!!s.sync,this.before=s.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++fi,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new he,this.newDepIds=new he,this.expression="",o(t)?this.getter=t:(this.getter=X(t),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Se(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(go){if(!this.user)throw go;Kt(go,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&hi(e),xe(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ki(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user){var i='callback for watcher "'.concat(this.expression,'"');Gt(this.cb,this.vm,[e,t],this.vm,i)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&y(this.vm._scope.effects,this),this.active){var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function vi(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&bi(e,t)}function _i(e,t){pi.$on(e,t)}function mi(e,t){pi.$off(e,t)}function yi(e,t){var i=pi;return function s(){var n=t.apply(null,arguments);null!==n&&i.$off(e,s)}}function bi(e,t,i){pi=e,Ze(t,i||{},_i,mi,yi,e),pi=void 0}function Pi(e){var i=/^hook:/;e.prototype.$on=function(e,s){var n=this;if(t(e))for(var r=0,a=e.length;r<a;r++)n.$on(e[r],s);else(n._events[e]||(n._events[e]=[])).push(s),i.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var i=this;function s(){i.$off(e,s),t.apply(i,arguments)}return s.fn=t,i.$on(e,s),i},e.prototype.$off=function(e,i){var s=this;if(!arguments.length)return s._events=Object.create(null),s;if(t(e)){for(var n=0,r=e.length;n<r;n++)s.$off(e[n],i);return s}var a,o=s._events[e];if(!o)return s;if(!i)return s._events[e]=null,s;var l=o.length;while(l--)if(a=o[l],a===i||a.fn===i){o.splice(l,1);break}return s},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?k(i):i;for(var s=k(arguments,1),n='event handler for "'.concat(e,'"'),r=0,a=i.length;r<a;r++)Gt(i[r],t,s,t,n)}return t}}var Ai=null;function wi(e){var t=Ai;return Ai=e,function(){Ai=t}}function Si(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._provided=i?i._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function xi(e){e.prototype._update=function(e,t){var i=this,s=i.$el,n=i._vnode,r=wi(i);i._vnode=e,i.$el=n?i.__patch__(n,e):i.__patch__(i.$el,e,t,!1),r(),s&&(s.__vue__=null),i.$el&&(i.$el.__vue__=i);var a=i;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ki(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ki(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Li(e,t,i){var s;e.$el=t,e.$options.render||(e.$options.render=ve),ki(e,"beforeMount"),s=function(){e._update(e._render(),i)};var n={before:function(){e._isMounted&&!e._isDestroyed&&ki(e,"beforeUpdate")}};new gi(e,s,R,n,!0),i=!1;var r=e._preWatchers;if(r)for(var a=0;a<r.length;a++)r[a].run();return null==e.$vnode&&(e._isMounted=!0,ki(e,"mounted")),e}function Ei(t,i,s,n,r){var a=n.data.scopedSlots,o=t.$scopedSlots,l=!!(a&&!a.$stable||o!==e&&!o.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(r||t.$options._renderChildren||l),d=t.$vnode;t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=r;var h=n.data.attrs||e;t._attrsProxy&&Tt(t._attrsProxy,h,d.data&&d.data.attrs||e,t,"$attrs")&&(c=!0),t.$attrs=h,s=s||e;var u=t.$options._parentListeners;if(t._listenersProxy&&Tt(t._listenersProxy,s,u||e,t,"$listeners"),t.$listeners=t.$options._parentListeners=s,bi(t,s,u),i&&t.$options.props){Oe(!1);for(var p=t._props,f=t.$options._propKeys||[],g=0;g<f.length;g++){var v=f[g],_=t.$options.props;p[v]=As(v,_,i,t)}Oe(!0),t.$options.propsData=i}c&&(t.$slots=At(r,n.context),t.$forceUpdate())}function Fi(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Ci(e,t){if(t){if(e._directInactive=!1,Fi(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Ci(e.$children[i]);ki(e,"activated")}}function Ti(e,t){if((!t||(e._directInactive=!0,!Fi(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Ti(e.$children[i]);ki(e,"deactivated")}}function ki(e,t,i,s){void 0===s&&(s=!0),Se();var n=pe,r=Xe();s&&fe(e);var a=e.$options[t],o="".concat(t," hook");if(a)for(var l=0,c=a.length;l<c;l++)Gt(a[l],e,i||null,e,o);e._hasHookEvent&&e.$emit("hook:"+t),s&&(fe(n),r&&r.on()),xe()}var Oi=[],Mi=[],Ri={},Ii=!1,Di=!1,Bi=0;function Ni(){Bi=Oi.length=Mi.length=0,Ri={},Ii=Di=!1}var ji=0,Ui=Date.now;if(Q&&!Z){var Vi=window.performance;Vi&&"function"===typeof Vi.now&&Ui()>document.createEvent("Event").timeStamp&&(Ui=function(){return Vi.now()})}var $i=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Hi(){var e,t;for(ji=Ui(),Di=!0,Oi.sort($i),Bi=0;Bi<Oi.length;Bi++)e=Oi[Bi],e.before&&e.before(),t=e.id,Ri[t]=null,e.run();var i=Mi.slice(),s=Oi.slice();Ni(),qi(i),Wi(s),Pe(),ce&&W.devtools&&ce.emit("flush")}function Wi(e){var t=e.length;while(t--){var i=e[t],s=i.vm;s&&s._watcher===i&&s._isMounted&&!s._isDestroyed&&ki(s,"updated")}}function zi(e){e._inactive=!1,Mi.push(e)}function qi(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ci(e[t],!0)}function Ki(e){var t=e.id;if(null==Ri[t]&&(e!==Ae.target||!e.noRecurse)){if(Ri[t]=!0,Di){var i=Oi.length-1;while(i>Bi&&Oi[i].id>e.id)i--;Oi.splice(i+1,0,e)}else Oi.push(e);Ii||(Ii=!0,ai(Hi))}}function Gi(e){var t=e.$options.provide;if(t){var i=o(t)?t.call(e):t;if(!l(i))return;for(var s=Ye(e),n=ue?Reflect.ownKeys(i):Object.keys(i),r=0;r<n.length;r++){var a=n[r];Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))}}}function Xi(e){var t=Yi(e.$options.inject,e);t&&(Oe(!1),Object.keys(t).forEach((function(i){De(e,i,t[i])})),Oe(!0))}function Yi(e,t){if(e){for(var i=Object.create(null),s=ue?Reflect.ownKeys(e):Object.keys(e),n=0;n<s.length;n++){var r=s[n];if("__ob__"!==r){var a=e[r].from;if(a in t._provided)i[r]=t._provided[a];else if("default"in e[r]){var l=e[r].default;i[r]=o(l)?l.call(t):l}else 0}}return i}}function Qi(i,s,r,a,o){var l,c=this,d=o.options;P(a,"_uid")?(l=Object.create(a),l._original=a):(l=a,a=a._original);var h=n(d._compiled),u=!h;this.data=i,this.props=s,this.children=r,this.parent=a,this.listeners=i.on||e,this.injections=Yi(d.inject,a),this.slots=function(){return c.$slots||xt(a,i.scopedSlots,c.$slots=At(r,a)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return xt(a,i.scopedSlots,this.slots())}}),h&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=xt(a,i.scopedSlots,this.$slots)),d._scopeId?this._c=function(e,i,s,n){var r=Ht(l,e,i,s,n,u);return r&&!t(r)&&(r.fnScopeId=d._scopeId,r.fnContext=a),r}:this._c=function(e,t,i,s){return Ht(l,e,t,i,s,u)}}function Ji(i,n,r,a,o){var l=i.options,c={},d=l.props;if(s(d))for(var h in d)c[h]=As(h,d,n||e);else s(r.attrs)&&es(c,r.attrs),s(r.props)&&es(c,r.props);var u=new Qi(r,c,o,a,i),p=l.render.call(null,u._c,u);if(p instanceof ge)return Zi(p,r,u.parent,l,u);if(t(p)){for(var f=nt(p)||[],g=new Array(f.length),v=0;v<f.length;v++)g[v]=Zi(f[v],r,u.parent,l,u);return g}}function Zi(e,t,i,s,n){var r=me(e);return r.fnContext=i,r.fnOptions=s,t.slot&&((r.data||(r.data={})).slot=t.slot),r}function es(e,t){for(var i in t)e[S(i)]=t[i]}function ts(e){return e.name||e.__name||e._componentTag}Pt(Qi.prototype);var is={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;is.prepatch(i,i)}else{var s=e.componentInstance=rs(e,Ai);s.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,s=t.componentInstance=e.componentInstance;Ei(s,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,ki(i,"mounted")),e.data.keepAlive&&(t._isMounted?zi(i):Ci(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ti(t,!0):t.$destroy())}},ss=Object.keys(is);function ns(e,t,r,a,o){if(!i(e)){var c=r.$options._base;if(l(e)&&(e=c.extend(e)),"function"===typeof e){var d;if(i(e.cid)&&(d=e,e=jt(d,c),void 0===e))return Nt(d,t,r,a,o);t=t||{},qs(e),s(t.model)&&ls(e.options,t);var h=tt(t,e,o);if(n(e.options.functional))return Ji(e,h,t,r,a);var u=t.on;if(t.on=t.nativeOn,n(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}as(t);var f=ts(e.options)||o,g=new ge("vue-component-".concat(e.cid).concat(f?"-".concat(f):""),t,void 0,void 0,void 0,r,{Ctor:e,propsData:h,listeners:u,tag:o,children:a},d);return g}}}function rs(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return s(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(i)}function as(e){for(var t=e.hook||(e.hook={}),i=0;i<ss.length;i++){var s=ss[i],n=t[s],r=is[s];n===r||n&&n._merged||(t[s]=n?os(r,n):r)}}function os(e,t){var i=function(i,s){e(i,s),t(i,s)};return i._merged=!0,i}function ls(e,i){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(i.attrs||(i.attrs={}))[n]=i.model.value;var a=i.on||(i.on={}),o=a[r],l=i.model.callback;s(o)?(t(o)?-1===o.indexOf(l):o!==l)&&(a[r]=[l].concat(o)):a[r]=l}var cs=R,ds=W.optionMergeStrategies;function hs(e,t,i){if(void 0===i&&(i=!0),!t)return e;for(var s,n,r,a=ue?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)s=a[o],"__ob__"!==s&&(n=e[s],r=t[s],i&&P(e,s)?n!==r&&d(n)&&d(r)&&hs(n,r):Be(e,s,r));return e}function us(e,t,i){return i?function(){var s=o(t)?t.call(i,i):t,n=o(e)?e.call(i,i):e;return s?hs(s,n):n}:t?e?function(){return hs(o(t)?t.call(this,this):t,o(e)?e.call(this,this):e)}:t:e}function ps(e,i){var s=i?e?e.concat(i):t(i)?i:[i]:e;return s?fs(s):s}function fs(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function gs(e,t,i,s){var n=Object.create(e||null);return t?O(n,t):n}ds.data=function(e,t,i){return i?us(e,t,i):t&&"function"!==typeof t?e:us(e,t)},H.forEach((function(e){ds[e]=ps})),$.forEach((function(e){ds[e+"s"]=gs})),ds.watch=function(e,i,s,n){if(e===re&&(e=void 0),i===re&&(i=void 0),!i)return Object.create(e||null);if(!e)return i;var r={};for(var a in O(r,e),i){var o=r[a],l=i[a];o&&!t(o)&&(o=[o]),r[a]=o?o.concat(l):t(l)?l:[l]}return r},ds.props=ds.methods=ds.inject=ds.computed=function(e,t,i,s){if(!e)return t;var n=Object.create(null);return O(n,e),t&&O(n,t),n},ds.provide=function(e,t){return e?function(){var i=Object.create(null);return hs(i,o(e)?e.call(this):e),t&&hs(i,o(t)?t.call(this):t,!1),i}:t};var vs=function(e,t){return void 0===t?e:t};function _s(e,i){var s=e.props;if(s){var n,r,a,o={};if(t(s)){n=s.length;while(n--)r=s[n],"string"===typeof r&&(a=S(r),o[a]={type:null})}else if(d(s))for(var l in s)r=s[l],a=S(l),o[a]=d(r)?r:{type:r};else 0;e.props=o}}function ms(e,i){var s=e.inject;if(s){var n=e.inject={};if(t(s))for(var r=0;r<s.length;r++)n[s[r]]={from:s[r]};else if(d(s))for(var a in s){var o=s[a];n[a]=d(o)?O({from:a},o):{from:o}}else 0}}function ys(e){var t=e.directives;if(t)for(var i in t){var s=t[i];o(s)&&(t[i]={bind:s,update:s})}}function bs(e,t,i){if(o(t)&&(t=t.options),_s(t,i),ms(t,i),ys(t),!t._base&&(t.extends&&(e=bs(e,t.extends,i)),t.mixins))for(var s=0,n=t.mixins.length;s<n;s++)e=bs(e,t.mixins[s],i);var r,a={};for(r in e)l(r);for(r in t)P(e,r)||l(r);function l(s){var n=ds[s]||vs;a[s]=n(e[s],t[s],i,s)}return a}function Ps(e,t,i,s){if("string"===typeof i){var n=e[t];if(P(n,i))return n[i];var r=S(i);if(P(n,r))return n[r];var a=x(r);if(P(n,a))return n[a];var o=n[i]||n[r]||n[a];return o}}function As(e,t,i,s){var n=t[e],r=!P(i,e),a=i[e],o=Es(Boolean,n.type);if(o>-1)if(r&&!P(n,"default"))a=!1;else if(""===a||a===E(e)){var l=Es(String,n.type);(l<0||o<l)&&(a=!0)}if(void 0===a){a=ws(s,n,e);var c=ke;Oe(!0),Ie(a),Oe(c)}return a}function ws(e,t,i){if(P(t,"default")){var s=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:o(s)&&"Function"!==xs(t.type)?s.call(e):s}}var Ss=/^\s*function (\w+)/;function xs(e){var t=e&&e.toString().match(Ss);return t?t[1]:""}function Ls(e,t){return xs(e)===xs(t)}function Es(e,i){if(!t(i))return Ls(i,e)?0:-1;for(var s=0,n=i.length;s<n;s++)if(Ls(i[s],e))return s;return-1}var Fs={enumerable:!0,configurable:!0,get:R,set:R};function Cs(e,t,i){Fs.get=function(){return this[t][i]},Fs.set=function(e){this[t][i]=e},Object.defineProperty(e,i,Fs)}function Ts(e){var t=e.$options;if(t.props&&ks(e,t.props),Ft(e),t.methods&&js(e,t.methods),t.data)Os(e);else{var i=Ie(e._data={});i&&i.vmCount++}t.computed&&Is(e,t.computed),t.watch&&t.watch!==re&&Us(e,t.watch)}function ks(e,t){var i=e.$options.propsData||{},s=e._props=Ue({}),n=e.$options._propKeys=[],r=!e.$parent;r||Oe(!1);var a=function(r){n.push(r);var a=As(r,t,i,e);De(s,r,a,void 0,!0),r in e||Cs(e,"_props",r)};for(var o in t)a(o);Oe(!0)}function Os(e){var t=e.$options.data;t=e._data=o(t)?Ms(t,e):t||{},d(t)||(t={});var i=Object.keys(t),s=e.$options.props,n=(e.$options.methods,i.length);while(n--){var r=i[n];0,s&&P(s,r)||q(r)||Cs(e,"_data",r)}var a=Ie(t);a&&a.vmCount++}function Ms(e,t){Se();try{return e.call(t,t)}catch(go){return Kt(go,t,"data()"),{}}finally{xe()}}var Rs={lazy:!0};function Is(e,t){var i=e._computedWatchers=Object.create(null),s=le();for(var n in t){var r=t[n],a=o(r)?r:r.get;0,s||(i[n]=new gi(e,a||R,R,Rs)),n in e||Ds(e,n,r)}}function Ds(e,t,i){var s=!le();o(i)?(Fs.get=s?Bs(t):Ns(i),Fs.set=R):(Fs.get=i.get?s&&!1!==i.cache?Bs(t):Ns(i.get):R,Fs.set=i.set||R),Object.defineProperty(e,t,Fs)}function Bs(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Ae.target&&t.depend(),t.value}}function Ns(e){return function(){return e.call(this,this)}}function js(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?R:T(t[i],e)}function Us(e,i){for(var s in i){var n=i[s];if(t(n))for(var r=0;r<n.length;r++)Vs(e,s,n[r]);else Vs(e,s,n)}}function Vs(e,t,i,s){return d(i)&&(s=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,s)}function $s(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Be,e.prototype.$delete=Ne,e.prototype.$watch=function(e,t,i){var s=this;if(d(t))return Vs(s,e,t,i);i=i||{},i.user=!0;var n=new gi(s,e,t,i);if(i.immediate){var r='callback for immediate watcher "'.concat(n.expression,'"');Se(),Gt(t,s,[n.value],s,r),xe()}return function(){n.teardown()}}}var Hs=0;function Ws(e){e.prototype._init=function(e){var t=this;t._uid=Hs++,t._isVue=!0,t.__v_skip=!0,t._scope=new Ke(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?zs(t,e):t.$options=bs(qs(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Si(t),vi(t),Rt(t),ki(t,"beforeCreate",void 0,!1),Xi(t),Ts(t),Gi(t),ki(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function zs(e,t){var i=e.$options=Object.create(e.constructor.options),s=t._parentVnode;i.parent=t.parent,i._parentVnode=s;var n=s.componentOptions;i.propsData=n.propsData,i._parentListeners=n.listeners,i._renderChildren=n.children,i._componentTag=n.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function qs(e){var t=e.options;if(e.super){var i=qs(e.super),s=e.superOptions;if(i!==s){e.superOptions=i;var n=Ks(e);n&&O(e.extendOptions,n),t=e.options=bs(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Ks(e){var t,i=e.options,s=e.sealedOptions;for(var n in i)i[n]!==s[n]&&(t||(t={}),t[n]=i[n]);return t}function Gs(e){this._init(e)}function Xs(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=k(arguments,1);return i.unshift(this),o(e.install)?e.install.apply(e,i):o(e)&&e.apply(null,i),t.push(e),this}}function Ys(e){e.mixin=function(e){return this.options=bs(this.options,e),this}}function Qs(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,s=i.cid,n=e._Ctor||(e._Ctor={});if(n[s])return n[s];var r=ts(e)||ts(i.options);var a=function(e){this._init(e)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=t++,a.options=bs(i.options,e),a["super"]=i,a.options.props&&Js(a),a.options.computed&&Zs(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,$.forEach((function(e){a[e]=i[e]})),r&&(a.options.components[r]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=O({},a.options),n[s]=a,a}}function Js(e){var t=e.options.props;for(var i in t)Cs(e.prototype,"_props",i)}function Zs(e){var t=e.options.computed;for(var i in t)Ds(e.prototype,i,t[i])}function en(e){$.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&d(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&o(i)&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function tn(e){return e&&(ts(e.Ctor.options)||e.tag)}function sn(e,i){return t(e)?e.indexOf(i)>-1:"string"===typeof e?e.split(",").indexOf(i)>-1:!!h(e)&&e.test(i)}function nn(e,t){var i=e.cache,s=e.keys,n=e._vnode,r=e.$vnode;for(var a in i){var o=i[a];if(o){var l=o.name;l&&!t(l)&&rn(i,a,s,n)}}r.componentOptions.children=void 0}function rn(e,t,i,s){var n=e[t];!n||s&&n.tag===s.tag||n.componentInstance.$destroy(),e[t]=null,y(i,t)}Ws(Gs),$s(Gs),Pi(Gs),xi(Gs),Dt(Gs);var an=[String,RegExp,Array],on={name:"keep-alive",abstract:!0,props:{include:an,exclude:an,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,i=e.keys,s=e.vnodeToCache,n=e.keyToCache;if(s){var r=s.tag,a=s.componentInstance,o=s.componentOptions;t[n]={name:tn(o),tag:r,componentInstance:a},i.push(n),this.max&&i.length>parseInt(this.max)&&rn(t,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)rn(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){nn(e,(function(e){return sn(t,e)}))})),this.$watch("exclude",(function(t){nn(e,(function(e){return!sn(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Ut(e),i=t&&t.componentOptions;if(i){var s=tn(i),n=this,r=n.include,a=n.exclude;if(r&&(!s||!sn(r,s))||a&&s&&sn(a,s))return t;var o=this,l=o.cache,c=o.keys,d=null==t.key?i.Ctor.cid+(i.tag?"::".concat(i.tag):""):t.key;l[d]?(t.componentInstance=l[d].componentInstance,y(c,d),c.push(d)):(this.vnodeToCache=t,this.keyToCache=d),t.data.keepAlive=!0}return t||e&&e[0]}},ln={KeepAlive:on};function cn(e){var t={get:function(){return W}};Object.defineProperty(e,"config",t),e.util={warn:cs,extend:O,mergeOptions:bs,defineReactive:De},e.set=Be,e.delete=Ne,e.nextTick=ai,e.observable=function(e){return Ie(e),e},e.options=Object.create(null),$.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,O(e.options.components,ln),Xs(e),Ys(e),Qs(e),en(e)}cn(Gs),Object.defineProperty(Gs.prototype,"$isServer",{get:le}),Object.defineProperty(Gs.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Gs,"FunctionalRenderContext",{value:Qi}),Gs.version=ci;var dn=_("style,class"),hn=_("input,textarea,option,select,progress"),un=function(e,t,i){return"value"===i&&hn(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},pn=_("contenteditable,draggable,spellcheck"),fn=_("events,caret,typing,plaintext-only"),gn=function(e,t){return bn(t)||"false"===t?"false":"contenteditable"===e&&fn(t)?t:"true"},vn=_("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),_n="http://www.w3.org/1999/xlink",mn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},yn=function(e){return mn(e)?e.slice(6,e.length):""},bn=function(e){return null==e||!1===e};function Pn(e){var t=e.data,i=e,n=e;while(s(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(t=An(n.data,t));while(s(i=i.parent))i&&i.data&&(t=An(t,i.data));return wn(t.staticClass,t.class)}function An(e,t){return{staticClass:Sn(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function wn(e,t){return s(e)||s(t)?Sn(e,xn(t)):""}function Sn(e,t){return e?t?e+" "+t:e:t||""}function xn(e){return Array.isArray(e)?Ln(e):l(e)?En(e):"string"===typeof e?e:""}function Ln(e){for(var t,i="",n=0,r=e.length;n<r;n++)s(t=xn(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function En(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var Fn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Cn=_("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Tn=_("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),kn=function(e){return Cn(e)||Tn(e)};function On(e){return Tn(e)?"svg":"math"===e?"math":void 0}var Mn=Object.create(null);function Rn(e){if(!Q)return!0;if(kn(e))return!1;if(e=e.toLowerCase(),null!=Mn[e])return Mn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Mn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Mn[e]=/HTMLUnknownElement/.test(t.toString())}var In=_("text,number,password,search,email,tel,url");function Dn(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Bn(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function Nn(e,t){return document.createElementNS(Fn[e],t)}function jn(e){return document.createTextNode(e)}function Un(e){return document.createComment(e)}function Vn(e,t,i){e.insertBefore(t,i)}function $n(e,t){e.removeChild(t)}function Hn(e,t){e.appendChild(t)}function Wn(e){return e.parentNode}function zn(e){return e.nextSibling}function qn(e){return e.tagName}function Kn(e,t){e.textContent=t}function Gn(e,t){e.setAttribute(t,"")}var Xn=Object.freeze({__proto__:null,createElement:Bn,createElementNS:Nn,createTextNode:jn,createComment:Un,insertBefore:Vn,removeChild:$n,appendChild:Hn,parentNode:Wn,nextSibling:zn,tagName:qn,setTextContent:Kn,setStyleScope:Gn}),Yn={create:function(e,t){Qn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Qn(e,!0),Qn(t))},destroy:function(e){Qn(e,!0)}};function Qn(e,i){var n=e.data.ref;if(s(n)){var r=e.context,a=e.componentInstance||e.elm,l=i?null:a,c=i?void 0:a;if(o(n))Gt(n,r,[l],r,"template ref function");else{var d=e.data.refInFor,h="string"===typeof n||"number"===typeof n,u=He(n),p=r.$refs;if(h||u)if(d){var f=h?p[n]:n.value;i?t(f)&&y(f,a):t(f)?f.includes(a)||f.push(a):h?(p[n]=[a],Jn(r,n,p[n])):n.value=[a]}else if(h){if(i&&p[n]!==a)return;p[n]=c,Jn(r,n,l)}else if(u){if(i&&n.value!==a)return;n.value=l}else 0}}}function Jn(e,t,i){var s=e._setupState;s&&P(s,t)&&(He(s[t])?s[t].value=i:s[t]=i)}var Zn=new ge("",{},[]),er=["create","activate","update","remove","destroy"];function tr(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&ir(e,t)||n(e.isAsyncPlaceholder)&&i(t.asyncFactory.error))}function ir(e,t){if("input"!==e.tag)return!0;var i,n=s(i=e.data)&&s(i=i.attrs)&&i.type,r=s(i=t.data)&&s(i=i.attrs)&&i.type;return n===r||In(n)&&In(r)}function sr(e,t,i){var n,r,a={};for(n=t;n<=i;++n)r=e[n].key,s(r)&&(a[r]=n);return a}function nr(e){var r,o,l={},c=e.modules,d=e.nodeOps;for(r=0;r<er.length;++r)for(l[er[r]]=[],o=0;o<c.length;++o)s(c[o][er[r]])&&l[er[r]].push(c[o][er[r]]);function h(e){return new ge(d.tagName(e).toLowerCase(),{},[],void 0,e)}function u(e,t){function i(){0===--i.listeners&&p(e)}return i.listeners=t,i}function p(e){var t=d.parentNode(e);s(t)&&d.removeChild(t,e)}function f(e,t,i,r,a,o,l){if(s(e.elm)&&s(o)&&(e=o[l]=me(e)),e.isRootInsert=!a,!g(e,t,i,r)){var c=e.data,h=e.children,u=e.tag;s(u)?(e.elm=e.ns?d.createElementNS(e.ns,u):d.createElement(u,e),w(e),b(e,h,t),s(c)&&A(e,t),y(i,e.elm,r)):n(e.isComment)?(e.elm=d.createComment(e.text),y(i,e.elm,r)):(e.elm=d.createTextNode(e.text),y(i,e.elm,r))}}function g(e,t,i,r){var a=e.data;if(s(a)){var o=s(e.componentInstance)&&a.keepAlive;if(s(a=a.hook)&&s(a=a.init)&&a(e,!1),s(e.componentInstance))return v(e,t),y(i,e.elm,r),n(o)&&m(e,t,i,r),!0}}function v(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,P(e)?(A(e,t),w(e)):(Qn(e),t.push(e))}function m(e,t,i,n){var r,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,s(r=a.data)&&s(r=r.transition)){for(r=0;r<l.activate.length;++r)l.activate[r](Zn,a);t.push(a);break}y(i,e.elm,n)}function y(e,t,i){s(e)&&(s(i)?d.parentNode(i)===e&&d.insertBefore(e,t,i):d.appendChild(e,t))}function b(e,i,s){if(t(i)){0;for(var n=0;n<i.length;++n)f(i[n],s,e.elm,null,!0,i,n)}else a(e.text)&&d.appendChild(e.elm,d.createTextNode(String(e.text)))}function P(e){while(e.componentInstance)e=e.componentInstance._vnode;return s(e.tag)}function A(e,t){for(var i=0;i<l.create.length;++i)l.create[i](Zn,e);r=e.data.hook,s(r)&&(s(r.create)&&r.create(Zn,e),s(r.insert)&&t.push(e))}function w(e){var t;if(s(t=e.fnScopeId))d.setStyleScope(e.elm,t);else{var i=e;while(i)s(t=i.context)&&s(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t),i=i.parent}s(t=Ai)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t)}function S(e,t,i,s,n,r){for(;s<=n;++s)f(i[s],r,e,t,!1,i,s)}function x(e){var t,i,n=e.data;if(s(n))for(s(t=n.hook)&&s(t=t.destroy)&&t(e),t=0;t<l.destroy.length;++t)l.destroy[t](e);if(s(t=e.children))for(i=0;i<e.children.length;++i)x(e.children[i])}function L(e,t,i){for(;t<=i;++t){var n=e[t];s(n)&&(s(n.tag)?(E(n),x(n)):p(n.elm))}}function E(e,t){if(s(t)||s(e.data)){var i,n=l.remove.length+1;for(s(t)?t.listeners+=n:t=u(e.elm,n),s(i=e.componentInstance)&&s(i=i._vnode)&&s(i.data)&&E(i,t),i=0;i<l.remove.length;++i)l.remove[i](e,t);s(i=e.data.hook)&&s(i=i.remove)?i(e,t):t()}else p(e.elm)}function F(e,t,n,r,a){var o,l,c,h,u=0,p=0,g=t.length-1,v=t[0],_=t[g],m=n.length-1,y=n[0],b=n[m],P=!a;while(u<=g&&p<=m)i(v)?v=t[++u]:i(_)?_=t[--g]:tr(v,y)?(T(v,y,r,n,p),v=t[++u],y=n[++p]):tr(_,b)?(T(_,b,r,n,m),_=t[--g],b=n[--m]):tr(v,b)?(T(v,b,r,n,m),P&&d.insertBefore(e,v.elm,d.nextSibling(_.elm)),v=t[++u],b=n[--m]):tr(_,y)?(T(_,y,r,n,p),P&&d.insertBefore(e,_.elm,v.elm),_=t[--g],y=n[++p]):(i(o)&&(o=sr(t,u,g)),l=s(y.key)?o[y.key]:C(y,t,u,g),i(l)?f(y,r,e,v.elm,!1,n,p):(c=t[l],tr(c,y)?(T(c,y,r,n,p),t[l]=void 0,P&&d.insertBefore(e,c.elm,v.elm)):f(y,r,e,v.elm,!1,n,p)),y=n[++p]);u>g?(h=i(n[m+1])?null:n[m+1].elm,S(e,h,n,p,m,r)):p>m&&L(t,u,g)}function C(e,t,i,n){for(var r=i;r<n;r++){var a=t[r];if(s(a)&&tr(e,a))return r}}function T(e,t,r,a,o,c){if(e!==t){s(t.elm)&&s(a)&&(t=a[o]=me(t));var h=t.elm=e.elm;if(n(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?M(e.elm,t,r):t.isAsyncPlaceholder=!0;else if(n(t.isStatic)&&n(e.isStatic)&&t.key===e.key&&(n(t.isCloned)||n(t.isOnce)))t.componentInstance=e.componentInstance;else{var u,p=t.data;s(p)&&s(u=p.hook)&&s(u=u.prepatch)&&u(e,t);var f=e.children,g=t.children;if(s(p)&&P(t)){for(u=0;u<l.update.length;++u)l.update[u](e,t);s(u=p.hook)&&s(u=u.update)&&u(e,t)}i(t.text)?s(f)&&s(g)?f!==g&&F(h,f,g,r,c):s(g)?(s(e.text)&&d.setTextContent(h,""),S(h,null,g,0,g.length-1,r)):s(f)?L(f,0,f.length-1):s(e.text)&&d.setTextContent(h,""):e.text!==t.text&&d.setTextContent(h,t.text),s(p)&&s(u=p.hook)&&s(u=u.postpatch)&&u(e,t)}}}function k(e,t,i){if(n(i)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var O=_("attrs,class,staticClass,staticStyle,key");function M(e,t,i,r){var a,o=t.tag,l=t.data,c=t.children;if(r=r||l&&l.pre,t.elm=e,n(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(a=l.hook)&&s(a=a.init)&&a(t,!0),s(a=t.componentInstance)))return v(t,i),!0;if(s(o)){if(s(c))if(e.hasChildNodes())if(s(a=l)&&s(a=a.domProps)&&s(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var d=!0,h=e.firstChild,u=0;u<c.length;u++){if(!h||!M(h,c[u],i,r)){d=!1;break}h=h.nextSibling}if(!d||h)return!1}else b(t,c,i);if(s(l)){var p=!1;for(var f in l)if(!O(f)){p=!0,A(t,i);break}!p&&l["class"]&&hi(l["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,r,a){if(!i(t)){var o=!1,c=[];if(i(e))o=!0,f(t,c);else{var u=s(e.nodeType);if(!u&&tr(e,t))T(e,t,c,null,null,a);else{if(u){if(1===e.nodeType&&e.hasAttribute(V)&&(e.removeAttribute(V),r=!0),n(r)&&M(e,t,c))return k(t,c,!0),e;e=h(e)}var p=e.elm,g=d.parentNode(p);if(f(t,c,p._leaveCb?null:g,d.nextSibling(p)),s(t.parent)){var v=t.parent,_=P(t);while(v){for(var m=0;m<l.destroy.length;++m)l.destroy[m](v);if(v.elm=t.elm,_){for(var y=0;y<l.create.length;++y)l.create[y](Zn,v);var b=v.data.hook.insert;if(b.merged)for(var A=b.fns.slice(1),w=0;w<A.length;w++)A[w]()}else Qn(v);v=v.parent}}s(g)?L([e],0,0):s(e.tag)&&x(e)}}return k(t,c,o),t.elm}s(e)&&x(e)}}var rr={create:ar,update:ar,destroy:function(e){ar(e,Zn)}};function ar(e,t){(e.data.directives||t.data.directives)&&or(e,t)}function or(e,t){var i,s,n,r=e===Zn,a=t===Zn,o=cr(e.data.directives,e.context),l=cr(t.data.directives,t.context),c=[],d=[];for(i in l)s=o[i],n=l[i],s?(n.oldValue=s.value,n.oldArg=s.arg,hr(n,"update",t,e),n.def&&n.def.componentUpdated&&d.push(n)):(hr(n,"bind",t,e),n.def&&n.def.inserted&&c.push(n));if(c.length){var h=function(){for(var i=0;i<c.length;i++)hr(c[i],"inserted",t,e)};r?et(t,"insert",h):h()}if(d.length&&et(t,"postpatch",(function(){for(var i=0;i<d.length;i++)hr(d[i],"componentUpdated",t,e)})),!r)for(i in o)l[i]||hr(o[i],"unbind",e,e,a)}var lr=Object.create(null);function cr(e,t){var i,s,n=Object.create(null);if(!e)return n;for(i=0;i<e.length;i++){if(s=e[i],s.modifiers||(s.modifiers=lr),n[dr(s)]=s,t._setupState&&t._setupState.__sfc){var r=s.def||Ps(t,"_setupState","v-"+s.name);s.def="function"===typeof r?{bind:r,update:r}:r}s.def=s.def||Ps(t.$options,"directives",s.name,!0)}return n}function dr(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function hr(e,t,i,s,n){var r=e.def&&e.def[t];if(r)try{r(i.elm,e,i,s,n)}catch(go){Kt(go,i.context,"directive ".concat(e.name," ").concat(t," hook"))}}var ur=[Yn,rr];function pr(e,t){var r=t.componentOptions;if((!s(r)||!1!==r.Ctor.options.inheritAttrs)&&(!i(e.data.attrs)||!i(t.data.attrs))){var a,o,l,c=t.elm,d=e.data.attrs||{},h=t.data.attrs||{};for(a in(s(h.__ob__)||n(h._v_attr_proxy))&&(h=t.data.attrs=O({},h)),h)o=h[a],l=d[a],l!==o&&fr(c,a,o,t.data.pre);for(a in(Z||te)&&h.value!==d.value&&fr(c,"value",h.value),d)i(h[a])&&(mn(a)?c.removeAttributeNS(_n,yn(a)):pn(a)||c.removeAttribute(a))}}function fr(e,t,i,s){s||e.tagName.indexOf("-")>-1?gr(e,t,i):vn(t)?bn(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):pn(t)?e.setAttribute(t,gn(t,i)):mn(t)?bn(i)?e.removeAttributeNS(_n,yn(t)):e.setAttributeNS(_n,t,i):gr(e,t,i)}function gr(e,t,i){if(bn(i))e.removeAttribute(t);else{if(Z&&!ee&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var s=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",s)};e.addEventListener("input",s),e.__ieph=!0}e.setAttribute(t,i)}}var vr={create:pr,update:pr};function _r(e,t){var n=t.elm,r=t.data,a=e.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var o=Pn(t),l=n._transitionClasses;s(l)&&(o=Sn(o,xn(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var mr,yr={create:_r,update:_r},br="__r",Pr="__c";function Ar(e){if(s(e[br])){var t=Z?"change":"input";e[t]=[].concat(e[br],e[t]||[]),delete e[br]}s(e[Pr])&&(e.change=[].concat(e[Pr],e.change||[]),delete e[Pr])}function wr(e,t,i){var s=mr;return function n(){var r=t.apply(null,arguments);null!==r&&Lr(e,n,i,s)}}var Sr=Jt&&!(ne&&Number(ne[1])<=53);function xr(e,t,i,s){if(Sr){var n=ji,r=t;t=r._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=n||e.timeStamp<=0||e.target.ownerDocument!==document)return r.apply(this,arguments)}}mr.addEventListener(e,t,ae?{capture:i,passive:s}:i)}function Lr(e,t,i,s){(s||mr).removeEventListener(e,t._wrapper||t,i)}function Er(e,t){if(!i(e.data.on)||!i(t.data.on)){var s=t.data.on||{},n=e.data.on||{};mr=t.elm||e.elm,Ar(s),Ze(s,n,xr,Lr,wr,t.context),mr=void 0}}var Fr,Cr={create:Er,update:Er,destroy:function(e){return Er(e,Zn)}};function Tr(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var r,a,o=t.elm,l=e.data.domProps||{},c=t.data.domProps||{};for(r in(s(c.__ob__)||n(c._v_attr_proxy))&&(c=t.data.domProps=O({},c)),l)r in c||(o[r]="");for(r in c){if(a=c[r],"textContent"===r||"innerHTML"===r){if(t.children&&(t.children.length=0),a===l[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r&&"PROGRESS"!==o.tagName){o._value=a;var d=i(a)?"":String(a);kr(o,d)&&(o.value=d)}else if("innerHTML"===r&&Tn(o.tagName)&&i(o.innerHTML)){Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>".concat(a,"</svg>");var h=Fr.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(h.firstChild)o.appendChild(h.firstChild)}else if(a!==l[r])try{o[r]=a}catch(go){}}}}function kr(e,t){return!e.composing&&("OPTION"===e.tagName||Or(e,t)||Mr(e,t))}function Or(e,t){var i=!0;try{i=document.activeElement!==e}catch(go){}return i&&e.value!==t}function Mr(e,t){var i=e.value,n=e._vModifiers;if(s(n)){if(n.number)return v(i)!==v(t);if(n.trim)return i.trim()!==t.trim()}return i!==t}var Rr={create:Tr,update:Tr},Ir=A((function(e){var t={},i=/;(?![^(]*\))/g,s=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(s);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Dr(e){var t=Br(e.style);return e.staticStyle?O(e.staticStyle,t):t}function Br(e){return Array.isArray(e)?M(e):"string"===typeof e?Ir(e):e}function Nr(e,t){var i,s={};if(t){var n=e;while(n.componentInstance)n=n.componentInstance._vnode,n&&n.data&&(i=Dr(n.data))&&O(s,i)}(i=Dr(e.data))&&O(s,i);var r=e;while(r=r.parent)r.data&&(i=Dr(r.data))&&O(s,i);return s}var jr,Ur=/^--/,Vr=/\s*!important$/,$r=function(e,t,i){if(Ur.test(t))e.style.setProperty(t,i);else if(Vr.test(i))e.style.setProperty(E(t),i.replace(Vr,""),"important");else{var s=Wr(t);if(Array.isArray(i))for(var n=0,r=i.length;n<r;n++)e.style[s]=i[n];else e.style[s]=i}},Hr=["Webkit","Moz","ms"],Wr=A((function(e){if(jr=jr||document.createElement("div").style,e=S(e),"filter"!==e&&e in jr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<Hr.length;i++){var s=Hr[i]+t;if(s in jr)return s}}));function zr(e,t){var n=t.data,r=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var a,o,l=t.elm,c=r.staticStyle,d=r.normalizedStyle||r.style||{},h=c||d,u=Br(t.data.style)||{};t.data.normalizedStyle=s(u.__ob__)?O({},u):u;var p=Nr(t,!0);for(o in h)i(p[o])&&$r(l,o,"");for(o in p)a=p[o],$r(l,o,null==a?"":a)}}var qr={create:zr,update:zr},Kr=/\s+/;function Gr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Kr).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var i=" ".concat(e.getAttribute("class")||""," ");i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function Xr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Kr).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var i=" ".concat(e.getAttribute("class")||""," "),s=" "+t+" ";while(i.indexOf(s)>=0)i=i.replace(s," ");i=i.trim(),i?e.setAttribute("class",i):e.removeAttribute("class")}}function Yr(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&O(t,Qr(e.name||"v")),O(t,e),t}return"string"===typeof e?Qr(e):void 0}}var Qr=A((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Jr=Q&&!ee,Zr="transition",ea="animation",ta="transition",ia="transitionend",sa="animation",na="animationend";Jr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ta="WebkitTransition",ia="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(sa="WebkitAnimation",na="webkitAnimationEnd"));var ra=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function aa(e){ra((function(){ra(e)}))}function oa(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),Gr(e,t))}function la(e,t){e._transitionClasses&&y(e._transitionClasses,t),Xr(e,t)}function ca(e,t,i){var s=ha(e,t),n=s.type,r=s.timeout,a=s.propCount;if(!n)return i();var o=n===Zr?ia:na,l=0,c=function(){e.removeEventListener(o,d),i()},d=function(t){t.target===e&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),r+1),e.addEventListener(o,d)}var da=/\b(transform|all)(,|$)/;function ha(e,t){var i,s=window.getComputedStyle(e),n=(s[ta+"Delay"]||"").split(", "),r=(s[ta+"Duration"]||"").split(", "),a=ua(n,r),o=(s[sa+"Delay"]||"").split(", "),l=(s[sa+"Duration"]||"").split(", "),c=ua(o,l),d=0,h=0;t===Zr?a>0&&(i=Zr,d=a,h=r.length):t===ea?c>0&&(i=ea,d=c,h=l.length):(d=Math.max(a,c),i=d>0?a>c?Zr:ea:null,h=i?i===Zr?r.length:l.length:0);var u=i===Zr&&da.test(s[ta+"Property"]);return{type:i,timeout:d,propCount:h,hasTransform:u}}function ua(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,i){return pa(t)+pa(e[i])})))}function pa(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function fa(e,t){var n=e.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Yr(e.data.transition);if(!i(r)&&!s(n._enterCb)&&1===n.nodeType){var a=r.css,c=r.type,d=r.enterClass,h=r.enterToClass,u=r.enterActiveClass,p=r.appearClass,f=r.appearToClass,g=r.appearActiveClass,_=r.beforeEnter,m=r.enter,y=r.afterEnter,b=r.enterCancelled,P=r.beforeAppear,A=r.appear,w=r.afterAppear,S=r.appearCancelled,x=r.duration,L=Ai,E=Ai.$vnode;while(E&&E.parent)L=E.context,E=E.parent;var F=!L._isMounted||!e.isRootInsert;if(!F||A||""===A){var C=F&&p?p:d,T=F&&g?g:u,k=F&&f?f:h,O=F&&P||_,M=F&&o(A)?A:m,R=F&&w||y,I=F&&S||b,D=v(l(x)?x.enter:x);0;var B=!1!==a&&!ee,N=_a(M),U=n._enterCb=j((function(){B&&(la(n,k),la(n,T)),U.cancelled?(B&&la(n,C),I&&I(n)):R&&R(n),n._enterCb=null}));e.data.show||et(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),M&&M(n,U)})),O&&O(n),B&&(oa(n,C),oa(n,T),aa((function(){la(n,C),U.cancelled||(oa(n,k),N||(va(D)?setTimeout(U,D):ca(n,c,U)))}))),e.data.show&&(t&&t(),M&&M(n,U)),B||N||U()}}}function ga(e,t){var n=e.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Yr(e.data.transition);if(i(r)||1!==n.nodeType)return t();if(!s(n._leaveCb)){var a=r.css,o=r.type,c=r.leaveClass,d=r.leaveToClass,h=r.leaveActiveClass,u=r.beforeLeave,p=r.leave,f=r.afterLeave,g=r.leaveCancelled,_=r.delayLeave,m=r.duration,y=!1!==a&&!ee,b=_a(p),P=v(l(m)?m.leave:m);0;var A=n._leaveCb=j((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(la(n,d),la(n,h)),A.cancelled?(y&&la(n,c),g&&g(n)):(t(),f&&f(n)),n._leaveCb=null}));_?_(w):w()}function w(){A.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),u&&u(n),y&&(oa(n,c),oa(n,h),aa((function(){la(n,c),A.cancelled||(oa(n,d),b||(va(P)?setTimeout(A,P):ca(n,o,A)))}))),p&&p(n,A),y||b||A())}}function va(e){return"number"===typeof e&&!isNaN(e)}function _a(e){if(i(e))return!1;var t=e.fns;return s(t)?_a(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function ma(e,t){!0!==t.data.show&&fa(t)}var ya=Q?{create:ma,activate:ma,remove:function(e,t){!0!==e.data.show?ga(e,t):t()}}:{},ba=[vr,yr,Cr,Rr,qr,ya],Pa=ba.concat(ur),Aa=nr({nodeOps:Xn,modules:Pa});ee&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ta(e,"input")}));var wa={inserted:function(e,t,i,s){"select"===i.tag?(s.elm&&!s.elm._vOptions?et(i,"postpatch",(function(){wa.componentUpdated(e,t,i)})):Sa(e,t,i.context),e._vOptions=[].map.call(e.options,Ea)):("textarea"===i.tag||In(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Fa),e.addEventListener("compositionend",Ca),e.addEventListener("change",Ca),ee&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Sa(e,t,i.context);var s=e._vOptions,n=e._vOptions=[].map.call(e.options,Ea);if(n.some((function(e,t){return!B(e,s[t])}))){var r=e.multiple?t.value.some((function(e){return La(e,n)})):t.value!==t.oldValue&&La(t.value,n);r&&Ta(e,"change")}}}};function Sa(e,t,i){xa(e,t,i),(Z||te)&&setTimeout((function(){xa(e,t,i)}),0)}function xa(e,t,i){var s=t.value,n=e.multiple;if(!n||Array.isArray(s)){for(var r,a,o=0,l=e.options.length;o<l;o++)if(a=e.options[o],n)r=N(s,Ea(a))>-1,a.selected!==r&&(a.selected=r);else if(B(Ea(a),s))return void(e.selectedIndex!==o&&(e.selectedIndex=o));n||(e.selectedIndex=-1)}}function La(e,t){return t.every((function(t){return!B(t,e)}))}function Ea(e){return"_value"in e?e._value:e.value}function Fa(e){e.target.composing=!0}function Ca(e){e.target.composing&&(e.target.composing=!1,Ta(e.target,"input"))}function Ta(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function ka(e){return!e.componentInstance||e.data&&e.data.transition?e:ka(e.componentInstance._vnode)}var Oa={bind:function(e,t,i){var s=t.value;i=ka(i);var n=i.data&&i.data.transition,r=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;s&&n?(i.data.show=!0,fa(i,(function(){e.style.display=r}))):e.style.display=s?r:"none"},update:function(e,t,i){var s=t.value,n=t.oldValue;if(!s!==!n){i=ka(i);var r=i.data&&i.data.transition;r?(i.data.show=!0,s?fa(i,(function(){e.style.display=e.__vOriginalDisplay})):ga(i,(function(){e.style.display="none"}))):e.style.display=s?e.__vOriginalDisplay:"none"}},unbind:function(e,t,i,s,n){n||(e.style.display=e.__vOriginalDisplay)}},Ma={model:wa,show:Oa},Ra={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ia(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Ia(Ut(t.children)):e}function Da(e){var t={},i=e.$options;for(var s in i.propsData)t[s]=e[s];var n=i._parentListeners;for(var s in n)t[S(s)]=n[s];return t}function Ba(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Na(e){while(e=e.parent)if(e.data.transition)return!0}function ja(e,t){return t.key===e.key&&t.tag===e.tag}var Ua=function(e){return e.tag||St(e)},Va=function(e){return"show"===e.name},$a={name:"transition",props:Ra,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(Ua),i.length)){0;var s=this.mode;0;var n=i[0];if(Na(this.$vnode))return n;var r=Ia(n);if(!r)return n;if(this._leaving)return Ba(e,n);var o="__transition-".concat(this._uid,"-");r.key=null==r.key?r.isComment?o+"comment":o+r.tag:a(r.key)?0===String(r.key).indexOf(o)?r.key:o+r.key:r.key;var l=(r.data||(r.data={})).transition=Da(this),c=this._vnode,d=Ia(c);if(r.data.directives&&r.data.directives.some(Va)&&(r.data.show=!0),d&&d.data&&!ja(r,d)&&!St(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var h=d.data.transition=O({},l);if("out-in"===s)return this._leaving=!0,et(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Ba(e,n);if("in-out"===s){if(St(r))return c;var u,p=function(){u()};et(l,"afterEnter",p),et(l,"enterCancelled",p),et(h,"delayLeave",(function(e){u=e}))}}return n}}},Ha=O({tag:String,moveClass:String},Ra);delete Ha.mode;var Wa={props:Ha,beforeMount:function(){var e=this,t=this._update;this._update=function(i,s){var n=wi(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,n(),t.call(e,i,s)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),s=this.prevChildren=this.children,n=this.$slots.default||[],r=this.children=[],a=Da(this),o=0;o<n.length;o++){var l=n[o];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))r.push(l),i[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(s){var c=[],d=[];for(o=0;o<s.length;o++){l=s[o];l.data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),i[l.key]?c.push(l):d.push(l)}this.kept=e(t,null,c),this.removed=d}return e(t,null,r)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(za),e.forEach(qa),e.forEach(Ka),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var i=e.elm,s=i.style;oa(i,t),s.transform=s.WebkitTransform=s.transitionDuration="",i.addEventListener(ia,i._moveCb=function e(s){s&&s.target!==i||s&&!/transform$/.test(s.propertyName)||(i.removeEventListener(ia,e),i._moveCb=null,la(i,t))})}})))},methods:{hasMove:function(e,t){if(!Jr)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Xr(i,e)})),Gr(i,t),i.style.display="none",this.$el.appendChild(i);var s=ha(i);return this.$el.removeChild(i),this._hasMove=s.hasTransform}}};function za(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function qa(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ka(e){var t=e.data.pos,i=e.data.newPos,s=t.left-i.left,n=t.top-i.top;if(s||n){e.data.moved=!0;var r=e.elm.style;r.transform=r.WebkitTransform="translate(".concat(s,"px,").concat(n,"px)"),r.transitionDuration="0s"}}var Ga={Transition:$a,TransitionGroup:Wa};Gs.config.mustUseProp=un,Gs.config.isReservedTag=kn,Gs.config.isReservedAttr=dn,Gs.config.getTagNamespace=On,Gs.config.isUnknownElement=Rn,O(Gs.options.directives,Ma),O(Gs.options.components,Ga),Gs.prototype.__patch__=Q?Aa:R,Gs.prototype.$mount=function(e,t){return e=e&&Q?Dn(e):void 0,Li(this,e,t)},Q&&setTimeout((function(){W.devtools&&ce&&ce.emit("init",Gs)}),0);var Xa=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"tool"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],attrs:{type:"text"},domProps:{value:e.num},on:{input:function(t){t.target.composing||(e.num=t.target.value)}}}),t("div",{staticClass:"btn",on:{click:e.go}},[e._v("跳转")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),t("div",{staticClass:"btn",on:{click:e.searchHandle}},[e._v("逐个搜索")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],attrs:{type:"text"},domProps:{value:e.key},on:{input:function(t){t.target.composing||(e.key=t.target.value)}}}),t("div",{staticClass:"btn",on:{click:e.searchAllHandle}},[e._v("全部高亮")]),t("div",{staticClass:"cur_number btn"},[e._v("页码监听："+e._s(e.curNumber)+" / "+e._s(e.numPages))])]),t("div",{staticClass:"out_line"},[t("div",[e._v("目录：")]),e._l(e.outline,(function(i,s){return t("div",{key:s,staticClass:"item",on:{click:function(t){return e.goPage(i.pageNumber)}}},[e._v(e._s(i.title))])}))],2),t("div",{staticClass:"con"},[t("pdfComponent",{ref:"pdf",attrs:{url:"../public/tsl.pdf",scale:"1",textMode:1,singlePage:!1},on:{loaded:e.loadedHandle,pageChange:e.pageChange,getOutLine:e.getOutLine}})],1)])},Ya=[],Qa={name:"App",data(){return{num:1,search:"重要",key:"保护",outline:[],numPages:"",curNumber:1}},mounted(){},methods:{loadedHandle(e){console.log("state--",e),this.numPages=e.numPages,this.curNumber=e.curPageNum},pageChange(e){console.log("state--pageChange",e),this.curNumber=e.curPageNum},go(){console.log(this.num),this.$refs.pdf.pageGo(this.num)},goPage(e){this.$refs.pdf.pageGo(e)},searchHandle(){this.$refs.pdf.pdfFindAgain(this.search)},searchAllHandle(){this.$refs.pdf.pdfFindAll(this.key)},getOutLine(e){console.log("outline",e),this.outline=e}}},Ja=Qa;function Za(e,t,i,s,n,r,a,o){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}var eo=Za(Ja,Xa,Ya,!1,null,null,null),to=eo.exports,io=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pdf_container"},[t("div",{ref:"containerRef",staticClass:"viewerContainer",attrs:{id:"viewerContainer"}},[t("div",{staticClass:"pdfViewer",attrs:{id:"innerContainer"}})])])},so=[],no=__webpack_require__(5279),ro=__webpack_require__(5694);no.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.6.172/pdf.worker.js";var ao={name:"pdfComponent",data(){return{pdfLoaded:!1,state:{},newViewer:null,eventBus:null,linkService:null,oldPageNum:1}},props:{url:{type:String,default:""},scale:{type:[String,Number],default:"1"},textMode:{type:Number,default:1},singlePage:{type:Boolean,default:!1}},components:{},mounted(){this.initPdf(this.url)},methods:{initPdf(e){const t=this;t.state.numPages=0,t.state.curPageNum=0;const i=new ro.EventBus,s=new ro.PDFLinkService;t.eventBus=i,t.linkService=s;const n=new ro.PDFFindController({linkService:s,eventBus:i,updateMatchesCountOnProgress:!0});t.singlePage?t.newViewer=new ro.PDFSinglePageViewer({container:document.getElementById("viewerContainer"),linkService:s,useOnlyCssZoom:!0,textLayerMode:t.textMode,findController:n,eventBus:i,l10n:ro.NullL10n}):t.newViewer=new ro.PDFViewer({container:document.getElementById("viewerContainer"),linkService:s,useOnlyCssZoom:!0,textLayerMode:t.textMode,findController:n,eventBus:i,l10n:ro.NullL10n}),s.setViewer(t.newViewer),i.on("pagesinit",(function(){t.newViewer.currentScaleValue=t.scale})),i.on("find",(function(){})),no.getDocument({url:e,cMapPacked:!0,cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.6.172/cmaps/"}).promise.then((e=>{e&&(t.pdfLoaded=!0,t.state.numPages=e.numPages,t.state.curPageNum=1,t.newViewer.setDocument(e),s.setDocument(e),this.loaded(),document.getElementById("viewerContainer").addEventListener("scroll",(function(){t.state.curPageNum=t.newViewer.currentPageNumber,t.oldPageNum!==t.state.curPageNum&&(t.pageChange(),t.oldPageNum=t.state.curPageNum)})),t.getOutLine(e))})).catch((e=>{console.log(e),t.state.numPages=0,t.state.curPageNum=0,t.pdfLoaded=!1}))},loaded(){this.$emit("loaded",this.state,this.newViewer)},pageChange(){this.$emit("pageChange",this.state)},pageGo(e){this.linkService.goToPage(e),this.state.curPageNum=this.newViewer.currentPageNumber,this.pageChange()},pdfFindAgain(e){this.eventBus.dispatch("find",{type:"again",query:e,phraseSearch:!0,caseSensitive:!1,entireWord:!1})},pdfFindAll(e){this.eventBus.dispatch("find",{type:"",query:e,phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:void 0})},getOutLine(e){e.getOutline().then((t=>{if(null===t)return this.$emit("getOutLine",t),!1;t.map((async i=>i.pageNumber=await e.getPageIndex(t[0].dest[0])+1)),this.$emit("getOutLine",t)}))}}},oo=ao,lo=Za(oo,io,so,!1,null,"238e08ad",null),co=lo.exports;co.install=function(e){e.component(co.name,co)};var ho=co;const uo=[ho],po=function(e){po.installed||(po.installed=!0,uo.map((t=>{e.component(t.name,t)})))};"undefined"!==typeof window&&window.Vue&&po(window.Vue);var fo={install:po,...uo};Gs.config.productionTip=!1,Gs.use(fo),new Gs({render:e=>e(to)}).$mount("#app")}()})();
//# sourceMappingURL=index.eb81875a.js.map